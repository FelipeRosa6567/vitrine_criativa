var g0=o=>{throw TypeError(o)};var Vh=(o,t,e)=>t.has(o)||g0("Cannot "+e);var ne=(o,t,e)=>(Vh(o,t,"read from private field"),e?e.call(o):t.get(o)),Gn=(o,t,e)=>t.has(o)?g0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),Je=(o,t,e,s)=>(Vh(o,t,"write to private field"),s?s.call(o,e):t.set(o,e),e),qn=(o,t,e)=>(Vh(o,t,"access private method"),e);var m0=(o,t,e,s)=>({set _(a){Je(o,t,a,e)},get _(){return ne(o,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Ud(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var $h={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function P1(){if(y0)return Fr;y0=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:o,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Fr.Fragment=t,Fr.jsx=e,Fr.jsxs=e,Fr}var v0;function z1(){return v0||(v0=1,$h.exports=P1()),$h.exports}var N=z1(),Yh={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function j1(){if(b0)return Et;b0=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(_,U,G){this.props=_,this.context=U,this.refs=w,this.updater=G||b}C.prototype.isReactComponent={},C.prototype.setState=function(_,U){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,U,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=C.prototype;function L(_,U,G){this.props=_,this.context=U,this.refs=w,this.updater=G||b}var T=L.prototype=new E;T.constructor=L,S(T,C.prototype),T.isPureReactComponent=!0;var D=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function k(_,U,G,$,tt,lt){return G=lt.ref,{$$typeof:o,type:_,key:U,ref:G!==void 0?G:null,props:lt}}function X(_,U){return k(_.type,U,void 0,void 0,void 0,_.props)}function Y(_){return typeof _=="object"&&_!==null&&_.$$typeof===o}function it(_){var U={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(G){return U[G]})}var nt=/\/+/g;function Q(_,U){return typeof _=="object"&&_!==null&&_.key!=null?it(""+_.key):U.toString(36)}function et(){}function rt(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(et,et):(_.status="pending",_.then(function(U){_.status==="pending"&&(_.status="fulfilled",_.value=U)},function(U){_.status==="pending"&&(_.status="rejected",_.reason=U)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function st(_,U,G,$,tt){var lt=typeof _;(lt==="undefined"||lt==="boolean")&&(_=null);var ot=!1;if(_===null)ot=!0;else switch(lt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(_.$$typeof){case o:case t:ot=!0;break;case g:return ot=_._init,st(ot(_._payload),U,G,$,tt)}}if(ot)return tt=tt(_),ot=$===""?"."+Q(_,0):$,D(tt)?(G="",ot!=null&&(G=ot.replace(nt,"$&/")+"/"),st(tt,U,G,"",function(zt){return zt})):tt!=null&&(Y(tt)&&(tt=X(tt,G+(tt.key==null||_&&_.key===tt.key?"":(""+tt.key).replace(nt,"$&/")+"/")+ot)),U.push(tt)),1;ot=0;var dt=$===""?".":$+":";if(D(_))for(var bt=0;bt<_.length;bt++)$=_[bt],lt=dt+Q($,bt),ot+=st($,U,G,lt,tt);else if(bt=v(_),typeof bt=="function")for(_=bt.call(_),bt=0;!($=_.next()).done;)$=$.value,lt=dt+Q($,bt++),ot+=st($,U,G,lt,tt);else if(lt==="object"){if(typeof _.then=="function")return st(rt(_),U,G,$,tt);throw U=String(_),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ot}function O(_,U,G){if(_==null)return _;var $=[],tt=0;return st(_,$,"","",function(lt){return U.call(G,lt,tt++)}),$}function B(_){if(_._status===-1){var U=_._result;U=U(),U.then(function(G){(_._status===0||_._status===-1)&&(_._status=1,_._result=G)},function(G){(_._status===0||_._status===-1)&&(_._status=2,_._result=G)}),_._status===-1&&(_._status=0,_._result=U)}if(_._status===1)return _._result.default;throw _._result}var at=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function Z(){}return Et.Children={map:O,forEach:function(_,U,G){O(_,function(){U.apply(this,arguments)},G)},count:function(_){var U=0;return O(_,function(){U++}),U},toArray:function(_){return O(_,function(U){return U})||[]},only:function(_){if(!Y(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Et.Component=C,Et.Fragment=e,Et.Profiler=a,Et.PureComponent=L,Et.StrictMode=s,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Et.__COMPILER_RUNTIME={__proto__:null,c:function(_){return R.H.useMemoCache(_)}},Et.cache=function(_){return function(){return _.apply(null,arguments)}},Et.cloneElement=function(_,U,G){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var $=S({},_.props),tt=_.key,lt=void 0;if(U!=null)for(ot in U.ref!==void 0&&(lt=void 0),U.key!==void 0&&(tt=""+U.key),U)!j.call(U,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&U.ref===void 0||($[ot]=U[ot]);var ot=arguments.length-2;if(ot===1)$.children=G;else if(1<ot){for(var dt=Array(ot),bt=0;bt<ot;bt++)dt[bt]=arguments[bt+2];$.children=dt}return k(_.type,tt,void 0,void 0,lt,$)},Et.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},Et.createElement=function(_,U,G){var $,tt={},lt=null;if(U!=null)for($ in U.key!==void 0&&(lt=""+U.key),U)j.call(U,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(tt[$]=U[$]);var ot=arguments.length-2;if(ot===1)tt.children=G;else if(1<ot){for(var dt=Array(ot),bt=0;bt<ot;bt++)dt[bt]=arguments[bt+2];tt.children=dt}if(_&&_.defaultProps)for($ in ot=_.defaultProps,ot)tt[$]===void 0&&(tt[$]=ot[$]);return k(_,lt,void 0,void 0,null,tt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(_){return{$$typeof:h,render:_}},Et.isValidElement=Y,Et.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:B}},Et.memo=function(_,U){return{$$typeof:p,type:_,compare:U===void 0?null:U}},Et.startTransition=function(_){var U=R.T,G={};R.T=G;try{var $=_(),tt=R.S;tt!==null&&tt(G,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Z,at)}catch(lt){at(lt)}finally{R.T=U}},Et.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Et.use=function(_){return R.H.use(_)},Et.useActionState=function(_,U,G){return R.H.useActionState(_,U,G)},Et.useCallback=function(_,U){return R.H.useCallback(_,U)},Et.useContext=function(_){return R.H.useContext(_)},Et.useDebugValue=function(){},Et.useDeferredValue=function(_,U){return R.H.useDeferredValue(_,U)},Et.useEffect=function(_,U,G){var $=R.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(_,U)},Et.useId=function(){return R.H.useId()},Et.useImperativeHandle=function(_,U,G){return R.H.useImperativeHandle(_,U,G)},Et.useInsertionEffect=function(_,U){return R.H.useInsertionEffect(_,U)},Et.useLayoutEffect=function(_,U){return R.H.useLayoutEffect(_,U)},Et.useMemo=function(_,U){return R.H.useMemo(_,U)},Et.useOptimistic=function(_,U){return R.H.useOptimistic(_,U)},Et.useReducer=function(_,U,G){return R.H.useReducer(_,U,G)},Et.useRef=function(_){return R.H.useRef(_)},Et.useState=function(_){return R.H.useState(_)},Et.useSyncExternalStore=function(_,U,G){return R.H.useSyncExternalStore(_,U,G)},Et.useTransition=function(){return R.H.useTransition()},Et.version="19.1.1",Et}var A0;function pc(){return A0||(A0=1,Yh.exports=j1()),Yh.exports}var P=pc();const Ge=Ud(P);var Xh={exports:{}},Br={},Kh={exports:{}},Wh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function I1(){return S0||(S0=1,function(o){function t(O,B){var at=O.length;O.push(B);t:for(;0<at;){var Z=at-1>>>1,_=O[Z];if(0<a(_,B))O[Z]=B,O[at]=_,at=Z;else break t}}function e(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var B=O[0],at=O.pop();if(at!==B){O[0]=at;t:for(var Z=0,_=O.length,U=_>>>1;Z<U;){var G=2*(Z+1)-1,$=O[G],tt=G+1,lt=O[tt];if(0>a($,at))tt<_&&0>a(lt,$)?(O[Z]=lt,O[tt]=at,Z=tt):(O[Z]=$,O[G]=at,Z=G);else if(tt<_&&0>a(lt,at))O[Z]=lt,O[tt]=at,Z=tt;else break t}}return B}function a(O,B){var at=O.sortIndex-B.sortIndex;return at!==0?at:O.id-B.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();o.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,y=null,v=3,b=!1,S=!1,w=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(O){for(var B=e(p);B!==null;){if(B.callback===null)s(p);else if(B.startTime<=O)s(p),B.sortIndex=B.expirationTime,t(d,B);else break;B=e(p)}}function R(O){if(w=!1,D(O),!S)if(e(d)!==null)S=!0,j||(j=!0,Q());else{var B=e(p);B!==null&&st(R,B.startTime-O)}}var j=!1,k=-1,X=5,Y=-1;function it(){return C?!0:!(o.unstable_now()-Y<X)}function nt(){if(C=!1,j){var O=o.unstable_now();Y=O;var B=!0;try{t:{S=!1,w&&(w=!1,L(k),k=-1),b=!0;var at=v;try{e:{for(D(O),y=e(d);y!==null&&!(y.expirationTime>O&&it());){var Z=y.callback;if(typeof Z=="function"){y.callback=null,v=y.priorityLevel;var _=Z(y.expirationTime<=O);if(O=o.unstable_now(),typeof _=="function"){y.callback=_,D(O),B=!0;break e}y===e(d)&&s(d),D(O)}else s(d);y=e(d)}if(y!==null)B=!0;else{var U=e(p);U!==null&&st(R,U.startTime-O),B=!1}}break t}finally{y=null,v=at,b=!1}B=void 0}}finally{B?Q():j=!1}}}var Q;if(typeof T=="function")Q=function(){T(nt)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,rt=et.port2;et.port1.onmessage=nt,Q=function(){rt.postMessage(null)}}else Q=function(){E(nt,0)};function st(O,B){k=E(function(){O(o.unstable_now())},B)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(O){O.callback=null},o.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<O?Math.floor(1e3/O):5},o.unstable_getCurrentPriorityLevel=function(){return v},o.unstable_next=function(O){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var at=v;v=B;try{return O()}finally{v=at}},o.unstable_requestPaint=function(){C=!0},o.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var at=v;v=O;try{return B()}finally{v=at}},o.unstable_scheduleCallback=function(O,B,at){var Z=o.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Z+at:Z):at=Z,O){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=at+_,O={id:g++,callback:B,priorityLevel:O,startTime:at,expirationTime:_,sortIndex:-1},at>Z?(O.sortIndex=at,t(p,O),e(d)===null&&O===e(p)&&(w?(L(k),k=-1):w=!0,st(R,at-Z))):(O.sortIndex=_,t(d,O),S||b||(S=!0,j||(j=!0,Q()))),O},o.unstable_shouldYield=it,o.unstable_wrapCallback=function(O){var B=v;return function(){var at=v;v=B;try{return O.apply(this,arguments)}finally{v=at}}}}(Wh)),Wh}var w0;function F1(){return w0||(w0=1,Kh.exports=I1()),Kh.exports}var Qh={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function B1(){if(x0)return Fe;x0=1;var o=pc();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,g)},Fe.flushSync=function(d){var p=u.T,g=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=g,s.d.f()}},Fe.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},Fe.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Fe.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Fe.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},Fe.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Fe.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},Fe.requestFormReset=function(d){s.d.r(d)},Fe.unstable_batchedUpdates=function(d,p){return d(p)},Fe.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},Fe.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var E0;function H1(){if(E0)return Qh.exports;E0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Qh.exports=B1(),Qh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function U1(){if(_0)return Br;_0=1;var o=F1(),t=pc(),e=H1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(s(188))}function d(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var r=n,c=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return h(f),n;if(m===c)return h(f),i;m=m.sibling}throw Error(s(188))}if(r.return!==c.return)r=f,c=m;else{for(var A=!1,x=f.child;x;){if(x===r){A=!0,r=f,c=m;break}if(x===c){A=!0,c=f,r=m;break}x=x.sibling}if(!A){for(x=m.child;x;){if(x===r){A=!0,r=m,c=f;break}if(x===c){A=!0,c=m,r=f;break}x=x.sibling}if(!A)throw Error(s(189))}}if(r.alternate!==c)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=nt&&n[nt]||n["@@iterator"],typeof n=="function"?n:null)}var et=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===et?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList";case Y:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case T:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case D:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return i=n.displayName||null,i!==null?i:rt(n.type)||"Memo";case X:i=n._payload,n=n._init;try{return rt(n(i))}catch{}}return null}var st=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Z=[],_=-1;function U(n){return{current:n}}function G(n){0>_||(n.current=Z[_],Z[_]=null,_--)}function $(n,i){_++,Z[_]=n.current,n.current=i}var tt=U(null),lt=U(null),ot=U(null),dt=U(null);function bt(n,i){switch($(ot,i),$(lt,n),$(tt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Gm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Gm(i),n=qm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(tt),$(tt,n)}function zt(){G(tt),G(lt),G(ot)}function _t(n){n.memoizedState!==null&&$(dt,n);var i=tt.current,r=qm(i,n.type);i!==r&&($(lt,n),$(tt,r))}function It(n){lt.current===n&&(G(tt),G(lt)),dt.current===n&&(G(dt),kr._currentValue=at)}var Bt=Object.prototype.hasOwnProperty,Vt=o.unstable_scheduleCallback,Tt=o.unstable_cancelCallback,xt=o.unstable_shouldYield,Nt=o.unstable_requestPaint,jt=o.unstable_now,$t=o.unstable_getCurrentPriorityLevel,nn=o.unstable_ImmediatePriority,_i=o.unstable_UserBlockingPriority,Ee=o.unstable_NormalPriority,mn=o.unstable_LowPriority,ti=o.unstable_IdlePriority,Ha=o.log,Nc=o.unstable_setDisableYieldValue,ts=null,ge=null;function sn(n){if(typeof Ha=="function"&&Nc(n),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(ts,n)}catch{}}var _e=Math.clz32?Math.clz32:Sb,Ua=Math.log,Ab=Math.LN2;function Sb(n){return n>>>=0,n===0?32:31-(Ua(n)/Ab|0)|0}var wo=256,xo=4194304;function es(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Eo(n,i,r){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~m,c!==0?f=es(c):(A&=x,A!==0?f=es(A):r||(r=x&~n,r!==0&&(f=es(r))))):(x=c&~m,x!==0?f=es(x):A!==0?f=es(A):r||(r=c&~n,r!==0&&(f=es(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function Ga(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function wb(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(){var n=wo;return wo<<=1,(wo&4194048)===0&&(wo=256),n}function Tf(){var n=xo;return xo<<=1,(xo&62914560)===0&&(xo=4194304),n}function kc(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function qa(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xb(n,i,r,c,f,m){var A=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var x=n.entanglements,M=n.expirationTimes,H=n.hiddenUpdates;for(r=A&~r;0<r;){var K=31-_e(r),J=1<<K;x[K]=0,M[K]=-1;var q=H[K];if(q!==null)for(H[K]=null,K=0;K<q.length;K++){var V=q[K];V!==null&&(V.lane&=-536870913)}r&=~J}c!==0&&Rf(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(A&~i))}function Rf(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-_e(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|r&4194090}function Mf(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var c=31-_e(r),f=1<<c;f&i|n[c]&i&&(n[c]|=i),r&=~f}}function Pc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function zc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Lf(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:c0(n.type))}function Eb(n,i){var r=B.p;try{return B.p=n,i()}finally{B.p=r}}var Ci=Math.random().toString(36).slice(2),je="__reactFiber$"+Ci,Xe="__reactProps$"+Ci,Ns="__reactContainer$"+Ci,jc="__reactEvents$"+Ci,_b="__reactListeners$"+Ci,Cb="__reactHandles$"+Ci,Df="__reactResources$"+Ci,Va="__reactMarker$"+Ci;function Ic(n){delete n[je],delete n[Xe],delete n[jc],delete n[_b],delete n[Cb]}function ks(n){var i=n[je];if(i)return i;for(var r=n.parentNode;r;){if(i=r[Ns]||r[je]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Xm(n);n!==null;){if(r=n[je])return r;n=Xm(n)}return i}n=r,r=n.parentNode}return null}function Ps(n){if(n=n[je]||n[Ns]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function $a(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function zs(n){var i=n[Df];return i||(i=n[Df]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(n){n[Va]=!0}var Of=new Set,Nf={};function ns(n,i){js(n,i),js(n+"Capture",i)}function js(n,i){for(Nf[n]=i,n=0;n<i.length;n++)Of.add(i[n])}var Tb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Pf={};function Rb(n){return Bt.call(Pf,n)?!0:Bt.call(kf,n)?!1:Tb.test(n)?Pf[n]=!0:(kf[n]=!0,!1)}function _o(n,i,r){if(Rb(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Co(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function ei(n,i,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+c)}}var Fc,zf;function Is(n){if(Fc===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Fc=i&&i[1]||"",zf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fc+n+zf}var Bc=!1;function Hc(n,i){if(!n||Bc)return"";Bc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var q=V}Reflect.construct(n,[],J)}else{try{J.call()}catch(V){q=V}n.call(J.prototype)}}else{try{throw Error()}catch(V){q=V}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),A=m[0],x=m[1];if(A&&x){var M=A.split(`
`),H=x.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===H.length)for(c=M.length-1,f=H.length-1;1<=c&&0<=f&&M[c]!==H[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==H[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==H[f]){var K=`
`+M[c].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=c&&0<=f);break}}}finally{Bc=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Is(r):""}function Mb(n){switch(n.tag){case 26:case 27:case 5:return Is(n.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return Hc(n.type,!1);case 11:return Hc(n.type.render,!1);case 1:return Hc(n.type,!0);case 31:return Is("Activity");default:return""}}function jf(n){try{var i="";do i+=Mb(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function yn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function If(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lb(n){var i=If(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(A){c=""+A,m.call(this,A)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function To(n){n._valueTracker||(n._valueTracker=Lb(n))}function Ff(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),c="";return n&&(c=If(n)?n.checked?"true":"false":n.value),n=c,n!==r?(i.setValue(n),!0):!1}function Ro(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Db=/[\n"\\]/g;function vn(n){return n.replace(Db,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uc(n,i,r,c,f,m,A,x){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),i!=null?A==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+yn(i)):n.value!==""+yn(i)&&(n.value=""+yn(i)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),i!=null?Gc(n,A,yn(i)):r!=null?Gc(n,A,yn(r)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+yn(x):n.removeAttribute("name")}function Bf(n,i,r,c,f,m,A,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+yn(r):"",i=i!=null?""+yn(i):r,x||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function Gc(n,i,r){i==="number"&&Ro(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Fs(n,i,r,c){if(n=n.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=i.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&c&&(n[r].defaultSelected=!0)}else{for(r=""+yn(r),i=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Hf(n,i,r){if(i!=null&&(i=""+yn(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+yn(r):""}function Uf(n,i,r,c){if(i==null){if(c!=null){if(r!=null)throw Error(s(92));if(st(c)){if(1<c.length)throw Error(s(93));c=c[0]}r=c}r==null&&(r=""),i=r}r=yn(i),n.defaultValue=r,c=n.textContent,c===r&&c!==""&&c!==null&&(n.value=c)}function Bs(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var Ob=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gf(n,i,r){var c=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,r):typeof r!="number"||r===0||Ob.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function qf(n,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&r[f]!==c&&Gf(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&Gf(n,m,i[m])}function qc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(n){return kb.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vc=null;function $c(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hs=null,Us=null;function Vf(n){var i=Ps(n);if(i&&(n=i.stateNode)){var r=n[Xe]||null;t:switch(n=i.stateNode,i.type){case"input":if(Uc(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var c=r[i];if(c!==n&&c.form===n.form){var f=c[Xe]||null;if(!f)throw Error(s(90));Uc(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)c=r[i],c.form===n.form&&Ff(c)}break t;case"textarea":Hf(n,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&Fs(n,!!r.multiple,i,!1)}}}var Yc=!1;function $f(n,i,r){if(Yc)return n(i,r);Yc=!0;try{var c=n(i);return c}finally{if(Yc=!1,(Hs!==null||Us!==null)&&(pl(),Hs&&(i=Hs,n=Us,Us=Hs=null,Vf(i),n)))for(i=0;i<n.length;i++)Vf(n[i])}}function Ya(n,i){var r=n.stateNode;if(r===null)return null;var c=r[Xe]||null;if(c===null)return null;r=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(ni)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Xc=!1}var Ti=null,Kc=null,Lo=null;function Yf(){if(Lo)return Lo;var n,i=Kc,r=i.length,c,f="value"in Ti?Ti.value:Ti.textContent,m=f.length;for(n=0;n<r&&i[n]===f[n];n++);var A=r-n;for(c=1;c<=A&&i[r-c]===f[m-c];c++);return Lo=f.slice(n,1<c?1-c:void 0)}function Do(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Oo(){return!0}function Xf(){return!1}function Ke(n){function i(r,c,f,m,A){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(r=n[x],this[x]=r?r(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Oo:Xf,this.isPropagationStopped=Xf,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),i}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=Ke(is),Ka=g({},is,{view:0,detail:0}),Pb=Ke(Ka),Wc,Qc,Wa,ko=g({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wa&&(Wa&&n.type==="mousemove"?(Wc=n.screenX-Wa.screenX,Qc=n.screenY-Wa.screenY):Qc=Wc=0,Wa=n),Wc)},movementY:function(n){return"movementY"in n?n.movementY:Qc}}),Kf=Ke(ko),zb=g({},ko,{dataTransfer:0}),jb=Ke(zb),Ib=g({},Ka,{relatedTarget:0}),Zc=Ke(Ib),Fb=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Bb=Ke(Fb),Hb=g({},is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ub=Ke(Hb),Gb=g({},is,{data:0}),Wf=Ke(Gb),qb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$b[n])?!!i[n]:!1}function Jc(){return Yb}var Xb=g({},Ka,{key:function(n){if(n.key){var i=qb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Do(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(n){return n.type==="keypress"?Do(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Do(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kb=Ke(Xb),Wb=g({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=Ke(Wb),Qb=g({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),Zb=Ke(Qb),Jb=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),tA=Ke(Jb),eA=g({},ko,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nA=Ke(eA),iA=g({},is,{newState:0,oldState:0}),sA=Ke(iA),aA=[9,13,27,32],tu=ni&&"CompositionEvent"in window,Qa=null;ni&&"documentMode"in document&&(Qa=document.documentMode);var rA=ni&&"TextEvent"in window&&!Qa,Zf=ni&&(!tu||Qa&&8<Qa&&11>=Qa),Jf=" ",tp=!1;function ep(n,i){switch(n){case"keyup":return aA.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gs=!1;function oA(n,i){switch(n){case"compositionend":return np(i);case"keypress":return i.which!==32?null:(tp=!0,Jf);case"textInput":return n=i.data,n===Jf&&tp?null:n;default:return null}}function lA(n,i){if(Gs)return n==="compositionend"||!tu&&ep(n,i)?(n=Yf(),Lo=Kc=Ti=null,Gs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zf&&i.locale!=="ko"?null:i.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!cA[n.type]:i==="textarea"}function sp(n,i,r,c){Hs?Us?Us.push(c):Us=[c]:Hs=c,i=Al(i,"onChange"),0<i.length&&(r=new No("onChange","change",null,r,c),n.push({event:r,listeners:i}))}var Za=null,Ja=null;function uA(n){Im(n,0)}function Po(n){var i=$a(n);if(Ff(i))return n}function ap(n,i){if(n==="change")return i}var rp=!1;if(ni){var eu;if(ni){var nu="oninput"in document;if(!nu){var op=document.createElement("div");op.setAttribute("oninput","return;"),nu=typeof op.oninput=="function"}eu=nu}else eu=!1;rp=eu&&(!document.documentMode||9<document.documentMode)}function lp(){Za&&(Za.detachEvent("onpropertychange",cp),Ja=Za=null)}function cp(n){if(n.propertyName==="value"&&Po(Ja)){var i=[];sp(i,Ja,n,$c(n)),$f(uA,i)}}function hA(n,i,r){n==="focusin"?(lp(),Za=i,Ja=r,Za.attachEvent("onpropertychange",cp)):n==="focusout"&&lp()}function dA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Po(Ja)}function fA(n,i){if(n==="click")return Po(i)}function pA(n,i){if(n==="input"||n==="change")return Po(i)}function gA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var an=typeof Object.is=="function"?Object.is:gA;function tr(n,i){if(an(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),c=Object.keys(i);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!Bt.call(i,f)||!an(n[f],i[f]))return!1}return!0}function up(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hp(n,i){var r=up(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=i&&c>=i)return{node:r,offset:i-n};n=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=up(r)}}function dp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?dp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function fp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ro(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=Ro(n.document)}return i}function iu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var mA=ni&&"documentMode"in document&&11>=document.documentMode,qs=null,su=null,er=null,au=!1;function pp(n,i,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;au||qs==null||qs!==Ro(c)||(c=qs,"selectionStart"in c&&iu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),er&&tr(er,c)||(er=c,c=Al(su,"onSelect"),0<c.length&&(i=new No("onSelect","select",null,i,r),n.push({event:i,listeners:c}),i.target=qs)))}function ss(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Vs={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},ru={},gp={};ni&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function as(n){if(ru[n])return ru[n];if(!Vs[n])return n;var i=Vs[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in gp)return ru[n]=i[r];return n}var mp=as("animationend"),yp=as("animationiteration"),vp=as("animationstart"),yA=as("transitionrun"),vA=as("transitionstart"),bA=as("transitioncancel"),bp=as("transitionend"),Ap=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function Ln(n,i){Ap.set(n,i),ns(i,[n])}var Sp=new WeakMap;function bn(n,i){if(typeof n=="object"&&n!==null){var r=Sp.get(n);return r!==void 0?r:(i={value:n,source:i,stack:jf(i)},Sp.set(n,i),i)}return{value:n,source:i,stack:jf(i)}}var An=[],$s=0,lu=0;function zo(){for(var n=$s,i=lu=$s=0;i<n;){var r=An[i];An[i++]=null;var c=An[i];An[i++]=null;var f=An[i];An[i++]=null;var m=An[i];if(An[i++]=null,c!==null&&f!==null){var A=c.pending;A===null?f.next=f:(f.next=A.next,A.next=f),c.pending=f}m!==0&&wp(r,f,m)}}function jo(n,i,r,c){An[$s++]=n,An[$s++]=i,An[$s++]=r,An[$s++]=c,lu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function cu(n,i,r,c){return jo(n,i,r,c),Io(n)}function Ys(n,i){return jo(n,null,null,i),Io(n)}function wp(n,i,r){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r);for(var f=!1,m=n.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-_e(r),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=r|536870912),m):null}function Io(n){if(50<Cr)throw Cr=0,gh=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Xs={};function AA(n,i,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(n,i,r,c){return new AA(n,i,r,c)}function uu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ii(n,i){var r=n.alternate;return r===null?(r=rn(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function xp(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Fo(n,i,r,c,f,m){var A=0;if(c=n,typeof n=="function")uu(n)&&(A=1);else if(typeof n=="string")A=w1(n,r,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case Y:return n=rn(31,r,i,f),n.elementType=Y,n.lanes=m,n;case S:return rs(r.children,f,m,i);case w:A=8,f|=24;break;case C:return n=rn(12,r,i,f|2),n.elementType=C,n.lanes=m,n;case R:return n=rn(13,r,i,f),n.elementType=R,n.lanes=m,n;case j:return n=rn(19,r,i,f),n.elementType=j,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case T:A=10;break t;case L:A=9;break t;case D:A=11;break t;case k:A=14;break t;case X:A=16,c=null;break t}A=29,r=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=rn(A,r,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function rs(n,i,r,c){return n=rn(7,n,c,i),n.lanes=r,n}function hu(n,i,r){return n=rn(6,n,null,i),n.lanes=r,n}function du(n,i,r){return i=rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ks=[],Ws=0,Bo=null,Ho=0,Sn=[],wn=0,os=null,si=1,ai="";function ls(n,i){Ks[Ws++]=Ho,Ks[Ws++]=Bo,Bo=n,Ho=i}function Ep(n,i,r){Sn[wn++]=si,Sn[wn++]=ai,Sn[wn++]=os,os=n;var c=si;n=ai;var f=32-_e(c)-1;c&=~(1<<f),r+=1;var m=32-_e(i)+f;if(30<m){var A=f-f%5;m=(c&(1<<A)-1).toString(32),c>>=A,f-=A,si=1<<32-_e(i)+f|r<<f|c,ai=m+n}else si=1<<m|r<<f|c,ai=n}function fu(n){n.return!==null&&(ls(n,1),Ep(n,1,0))}function pu(n){for(;n===Bo;)Bo=Ks[--Ws],Ks[Ws]=null,Ho=Ks[--Ws],Ks[Ws]=null;for(;n===os;)os=Sn[--wn],Sn[wn]=null,ai=Sn[--wn],Sn[wn]=null,si=Sn[--wn],Sn[wn]=null}var Ve=null,oe=null,Ht=!1,cs=null,In=!1,gu=Error(s(519));function us(n){var i=Error(s(418,""));throw sr(bn(i,n)),gu}function _p(n){var i=n.stateNode,r=n.type,c=n.memoizedProps;switch(i[je]=n,i[Xe]=c,r){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(r=0;r<Rr.length;r++)Dt(Rr[r],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),Bf(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),To(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),Uf(i,c.value,c.defaultValue,c.children),To(i)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||c.suppressHydrationWarning===!0||Um(i.textContent,r)?(c.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),c.onScroll!=null&&Dt("scroll",i),c.onScrollEnd!=null&&Dt("scrollend",i),c.onClick!=null&&(i.onclick=Sl),i=!0):i=!1,i||us(n)}function Cp(n){for(Ve=n.return;Ve;)switch(Ve.tag){case 5:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Ve=Ve.return}}function nr(n){if(n!==Ve)return!1;if(!Ht)return Cp(n),Ht=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Dh(n.type,n.memoizedProps)),r=!r),r&&oe&&us(n),Cp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){oe=On(n.nextSibling);break t}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}oe=null}}else i===27?(i=oe,Gi(n.type)?(n=Ph,Ph=null,oe=n):oe=i):oe=Ve?On(n.stateNode.nextSibling):null;return!0}function ir(){oe=Ve=null,Ht=!1}function Tp(){var n=cs;return n!==null&&(Ze===null?Ze=n:Ze.push.apply(Ze,n),cs=null),n}function sr(n){cs===null?cs=[n]:cs.push(n)}var mu=U(null),hs=null,ri=null;function Ri(n,i,r){$(mu,i._currentValue),i._currentValue=r}function oi(n){n._currentValue=mu.current,G(mu)}function yu(n,i,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===r)break;n=n.return}}function vu(n,i,r,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var A=f.child;m=m.firstContext;t:for(;m!==null;){var x=m;m=f;for(var M=0;M<i.length;M++)if(x.context===i[M]){m.lanes|=r,x=m.alternate,x!==null&&(x.lanes|=r),yu(m.return,r,n),c||(A=null);break t}m=x.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(s(341));A.lanes|=r,m=A.alternate,m!==null&&(m.lanes|=r),yu(A,r,n),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===n){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function ar(n,i,r,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var x=f.type;an(f.pendingProps.value,A.value)||(n!==null?n.push(x):n=[x])}}else if(f===dt.current){if(A=f.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(kr):n=[kr])}f=f.return}n!==null&&vu(i,n,r,c),i.flags|=262144}function Uo(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ds(n){hs=n,ri=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ie(n){return Rp(hs,n)}function Go(n,i){return hs===null&&ds(n),Rp(n,i)}function Rp(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ri===null){if(n===null)throw Error(s(308));ri=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ri=ri.next=i;return r}var SA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},wA=o.unstable_scheduleCallback,xA=o.unstable_NormalPriority,Se={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new SA,data:new Map,refCount:0}}function rr(n){n.refCount--,n.refCount===0&&wA(xA,function(){n.controller.abort()})}var or=null,Au=0,Qs=0,Zs=null;function EA(n,i){if(or===null){var r=or=[];Au=0,Qs=wh(),Zs={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Au++,i.then(Mp,Mp),i}function Mp(){if(--Au===0&&or!==null){Zs!==null&&(Zs.status="fulfilled");var n=or;or=null,Qs=0,Zs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _A(n,i){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var Lp=O.S;O.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&EA(n,i),Lp!==null&&Lp(n,i)};var fs=U(null);function Su(){var n=fs.current;return n!==null?n:Jt.pooledCache}function qo(n,i){i===null?$(fs,fs.current):$(fs,i.pool)}function Dp(){var n=Su();return n===null?null:{parent:Se._currentValue,pool:n}}var lr=Error(s(460)),Op=Error(s(474)),Vo=Error(s(542)),wu={then:function(){}};function Np(n){return n=n.status,n==="fulfilled"||n==="rejected"}function $o(){}function kp(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then($o,$o),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,zp(n),n;default:if(typeof i.status=="string")i.then($o,$o);else{if(n=Jt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,zp(n),n}throw cr=i,lr}}var cr=null;function Pp(){if(cr===null)throw Error(s(459));var n=cr;return cr=null,n}function zp(n){if(n===lr||n===Vo)throw Error(s(483))}var Mi=!1;function xu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Li(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Di(n,i,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Gt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=Io(n),wp(n,null,r),i}return jo(n,c,i,r),Io(n)}function ur(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,Mf(n,r)}}function _u(n,i){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var A={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=A:m=m.next=A,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var Cu=!1;function hr(){if(Cu){var n=Zs;if(n!==null)throw n}}function dr(n,i,r,c){Cu=!1;var f=n.updateQueue;Mi=!1;var m=f.firstBaseUpdate,A=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var M=x,H=M.next;M.next=null,A===null?m=H:A.next=H,A=M;var K=n.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==A&&(x===null?K.firstBaseUpdate=H:x.next=H,K.lastBaseUpdate=M))}if(m!==null){var J=f.baseState;A=0,K=H=M=null,x=m;do{var q=x.lane&-536870913,V=q!==x.lane;if(V?(Pt&q)===q:(c&q)===q){q!==0&&q===Qs&&(Cu=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var At=n,mt=x;q=i;var Kt=r;switch(mt.tag){case 1:if(At=mt.payload,typeof At=="function"){J=At.call(Kt,J,q);break t}J=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=mt.payload,q=typeof At=="function"?At.call(Kt,J,q):At,q==null)break t;J=g({},J,q);break t;case 2:Mi=!0}}q=x.callback,q!==null&&(n.flags|=64,V&&(n.flags|=8192),V=f.callbacks,V===null?f.callbacks=[q]:V.push(q))}else V={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(H=K=V,M=J):K=K.next=V,A|=q;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;V=x,x=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);K===null&&(M=J),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=K,m===null&&(f.shared.lanes=0),Fi|=A,n.lanes=A,n.memoizedState=J}}function jp(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ip(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)jp(r[n],i)}var Js=U(null),Yo=U(0);function Fp(n,i){n=pi,$(Yo,n),$(Js,i),pi=n|i.baseLanes}function Tu(){$(Yo,pi),$(Js,Js.current)}function Ru(){pi=Yo.current,G(Js),G(Yo)}var Oi=0,Rt=null,Yt=null,me=null,Xo=!1,ta=!1,ps=!1,Ko=0,fr=0,ea=null,CA=0;function ce(){throw Error(s(321))}function Mu(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!an(n[r],i[r]))return!1;return!0}function Lu(n,i,r,c,f,m){return Oi=m,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=n===null||n.memoizedState===null?wg:xg,ps=!1,m=r(c,f),ps=!1,ta&&(m=Hp(i,r,c,f)),Bp(n),m}function Bp(n){O.H=el;var i=Yt!==null&&Yt.next!==null;if(Oi=0,me=Yt=Rt=null,Xo=!1,fr=0,ea=null,i)throw Error(s(300));n===null||Te||(n=n.dependencies,n!==null&&Uo(n)&&(Te=!0))}function Hp(n,i,r,c){Rt=n;var f=0;do{if(ta&&(ea=null),fr=0,ta=!1,25<=f)throw Error(s(301));if(f+=1,me=Yt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}O.H=NA,m=i(r,c)}while(ta);return m}function TA(){var n=O.H,i=n.useState()[0];return i=typeof i.then=="function"?pr(i):i,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(Rt.flags|=1024),i}function Du(){var n=Ko!==0;return Ko=0,n}function Ou(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Nu(n){if(Xo){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Xo=!1}Oi=0,me=Yt=Rt=null,ta=!1,fr=Ko=0,ea=null}function We(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Rt.memoizedState=me=n:me=me.next=n,me}function ye(){if(Yt===null){var n=Rt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var i=me===null?Rt.memoizedState:me.next;if(i!==null)me=i,Yt=n;else{if(n===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?Rt.memoizedState=me=n:me=me.next=n}return me}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pr(n){var i=fr;return fr+=1,ea===null&&(ea=[]),n=kp(ea,n,i),i=Rt,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?wg:xg),n}function Wo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pr(n);if(n.$$typeof===T)return Ie(n)}throw Error(s(438,String(n)))}function Pu(n){var i=null,r=Rt.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var c=Rt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=ku(),Rt.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),c=0;c<n;c++)r[c]=it;return i.index++,r}function li(n,i){return typeof i=="function"?i(n):i}function Qo(n){var i=ye();return zu(i,Yt,n)}function zu(n,i,r){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var A=f.next;f.next=m.next,m.next=A}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var x=A=null,M=null,H=i,K=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Pt&J)===J:(Oi&J)===J){var q=H.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Qs&&(K=!0);else if((Oi&q)===q){H=H.next,q===Qs&&(K=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=J,A=m):M=M.next=J,Rt.lanes|=q,Fi|=q;J=H.action,ps&&r(m,J),m=H.hasEagerState?H.eagerState:r(m,J)}else q={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=q,A=m):M=M.next=q,Rt.lanes|=J,Fi|=J;H=H.next}while(H!==null&&H!==i);if(M===null?A=m:M.next=x,!an(m,n.memoizedState)&&(Te=!0,K&&(r=Zs,r!==null)))throw r;n.memoizedState=m,n.baseState=A,n.baseQueue=M,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function ju(n){var i=ye(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var c=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var A=f=f.next;do m=n(m,A.action),A=A.next;while(A!==f);an(m,i.memoizedState)||(Te=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,c]}function Up(n,i,r){var c=Rt,f=ye(),m=Ht;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=i();var A=!an((Yt||f).memoizedState,r);A&&(f.memoizedState=r,Te=!0),f=f.queue;var x=Vp.bind(null,c,f,n);if(gr(2048,8,x,[n]),f.getSnapshot!==i||A||me!==null&&me.memoizedState.tag&1){if(c.flags|=2048,na(9,Zo(),qp.bind(null,c,f,r,i),null),Jt===null)throw Error(s(349));m||(Oi&124)!==0||Gp(c,i,r)}return r}function Gp(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=Rt.updateQueue,i===null?(i=ku(),Rt.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function qp(n,i,r,c){i.value=r,i.getSnapshot=c,$p(i)&&Yp(n)}function Vp(n,i,r){return r(function(){$p(i)&&Yp(n)})}function $p(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!an(n,r)}catch{return!0}}function Yp(n){var i=Ys(n,2);i!==null&&hn(i,n,2)}function Iu(n){var i=We();if(typeof n=="function"){var r=n;if(n=r(),ps){sn(!0);try{r()}finally{sn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},i}function Xp(n,i,r,c){return n.baseState=r,zu(n,Yt,typeof c=="function"?c:li)}function RA(n,i,r,c,f){if(tl(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};O.T!==null?r(!0):m.isTransition=!1,c(m),r=i.pending,r===null?(m.next=i.pending=m,Kp(i,m)):(m.next=r.next,i.pending=r.next=m)}}function Kp(n,i){var r=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=O.T,A={};O.T=A;try{var x=r(f,c),M=O.S;M!==null&&M(A,x),Wp(n,i,x)}catch(H){Fu(n,i,H)}finally{O.T=m}}else try{m=r(f,c),Wp(n,i,m)}catch(H){Fu(n,i,H)}}function Wp(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Qp(n,i,c)},function(c){return Fu(n,i,c)}):Qp(n,i,r)}function Qp(n,i,r){i.status="fulfilled",i.value=r,Zp(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Kp(n,r)))}function Fu(n,i,r){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=r,Zp(i),i=i.next;while(i!==c)}n.action=null}function Zp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Jp(n,i){return i}function tg(n,i){if(Ht){var r=Jt.formState;if(r!==null){t:{var c=Rt;if(Ht){if(oe){e:{for(var f=oe,m=In;f.nodeType!==8;){if(!m){f=null;break e}if(f=On(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){oe=On(f.nextSibling),c=f.data==="F!";break t}}us(c)}c=!1}c&&(i=r[0])}}return r=We(),r.memoizedState=r.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:i},r.queue=c,r=bg.bind(null,Rt,c),c.dispatch=r,c=Iu(!1),m=qu.bind(null,Rt,!1,c.queue),c=We(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,r=RA.bind(null,Rt,f,m,r),f.dispatch=r,c.memoizedState=n,[i,r,!1]}function eg(n){var i=ye();return ng(i,Yt,n)}function ng(n,i,r){if(i=zu(n,i,Jp)[0],n=Qo(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=pr(i)}catch(A){throw A===lr?Vo:A}else c=i;i=ye();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(Rt.flags|=2048,na(9,Zo(),MA.bind(null,f,r),null)),[c,m,n]}function MA(n,i){n.action=i}function ig(n){var i=ye(),r=Yt;if(r!==null)return ng(i,r,n);ye(),i=i.memoizedState,r=ye();var c=r.queue.dispatch;return r.memoizedState=n,[i,c,!1]}function na(n,i,r,c){return n={tag:n,create:r,deps:c,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=ku(),Rt.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,i.lastEffect=n),n}function Zo(){return{destroy:void 0,resource:void 0}}function sg(){return ye().memoizedState}function Jo(n,i,r,c){var f=We();c=c===void 0?null:c,Rt.flags|=n,f.memoizedState=na(1|i,Zo(),r,c)}function gr(n,i,r,c){var f=ye();c=c===void 0?null:c;var m=f.memoizedState.inst;Yt!==null&&c!==null&&Mu(c,Yt.memoizedState.deps)?f.memoizedState=na(i,m,r,c):(Rt.flags|=n,f.memoizedState=na(1|i,m,r,c))}function ag(n,i){Jo(8390656,8,n,i)}function rg(n,i){gr(2048,8,n,i)}function og(n,i){return gr(4,2,n,i)}function lg(n,i){return gr(4,4,n,i)}function cg(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ug(n,i,r){r=r!=null?r.concat([n]):null,gr(4,4,cg.bind(null,i,n),r)}function Bu(){}function hg(n,i){var r=ye();i=i===void 0?null:i;var c=r.memoizedState;return i!==null&&Mu(i,c[1])?c[0]:(r.memoizedState=[n,i],n)}function dg(n,i){var r=ye();i=i===void 0?null:i;var c=r.memoizedState;if(i!==null&&Mu(i,c[1]))return c[0];if(c=n(),ps){sn(!0);try{n()}finally{sn(!1)}}return r.memoizedState=[c,i],c}function Hu(n,i,r){return r===void 0||(Oi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=gm(),Rt.lanes|=n,Fi|=n,r)}function fg(n,i,r,c){return an(r,i)?r:Js.current!==null?(n=Hu(n,r,c),an(n,i)||(Te=!0),n):(Oi&42)===0?(Te=!0,n.memoizedState=r):(n=gm(),Rt.lanes|=n,Fi|=n,i)}function pg(n,i,r,c,f){var m=B.p;B.p=m!==0&&8>m?m:8;var A=O.T,x={};O.T=x,qu(n,!1,i,r);try{var M=f(),H=O.S;if(H!==null&&H(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=_A(M,c);mr(n,i,K,un(n))}else mr(n,i,c,un(n))}catch(J){mr(n,i,{then:function(){},status:"rejected",reason:J},un())}finally{B.p=m,O.T=A}}function LA(){}function Uu(n,i,r,c){if(n.tag!==5)throw Error(s(476));var f=gg(n).queue;pg(n,f,i,at,r===null?LA:function(){return mg(n),r(c)})}function gg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:at},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function mg(n){var i=gg(n).next.queue;mr(n,i,{},un())}function Gu(){return Ie(kr)}function yg(){return ye().memoizedState}function vg(){return ye().memoizedState}function DA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=un();n=Li(r);var c=Di(i,n,r);c!==null&&(hn(c,i,r),ur(c,i,r)),i={cache:bu()},n.payload=i;return}i=i.return}}function OA(n,i,r){var c=un();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},tl(n)?Ag(i,r):(r=cu(n,i,r,c),r!==null&&(hn(r,n,c),Sg(r,i,c)))}function bg(n,i,r){var c=un();mr(n,i,r,c)}function mr(n,i,r,c){var f={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(tl(n))Ag(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var A=i.lastRenderedState,x=m(A,r);if(f.hasEagerState=!0,f.eagerState=x,an(x,A))return jo(n,i,f,0),Jt===null&&zo(),!1}catch{}finally{}if(r=cu(n,i,f,c),r!==null)return hn(r,n,c),Sg(r,i,c),!0}return!1}function qu(n,i,r,c){if(c={lane:2,revertLane:wh(),action:c,hasEagerState:!1,eagerState:null,next:null},tl(n)){if(i)throw Error(s(479))}else i=cu(n,r,c,2),i!==null&&hn(i,n,2)}function tl(n){var i=n.alternate;return n===Rt||i!==null&&i===Rt}function Ag(n,i){ta=Xo=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function Sg(n,i,r){if((r&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,Mf(n,r)}}var el={readContext:Ie,use:Wo,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},wg={readContext:Ie,use:Wo,useCallback:function(n,i){return We().memoizedState=[n,i===void 0?null:i],n},useContext:Ie,useEffect:ag,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Jo(4194308,4,cg.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Jo(4194308,4,n,i)},useInsertionEffect:function(n,i){Jo(4,2,n,i)},useMemo:function(n,i){var r=We();i=i===void 0?null:i;var c=n();if(ps){sn(!0);try{n()}finally{sn(!1)}}return r.memoizedState=[c,i],c},useReducer:function(n,i,r){var c=We();if(r!==void 0){var f=r(i);if(ps){sn(!0);try{r(i)}finally{sn(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=OA.bind(null,Rt,n),[c.memoizedState,n]},useRef:function(n){var i=We();return n={current:n},i.memoizedState=n},useState:function(n){n=Iu(n);var i=n.queue,r=bg.bind(null,Rt,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:Bu,useDeferredValue:function(n,i){var r=We();return Hu(r,n,i)},useTransition:function(){var n=Iu(!1);return n=pg.bind(null,Rt,n.queue,!0,!1),We().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var c=Rt,f=We();if(Ht){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Jt===null)throw Error(s(349));(Pt&124)!==0||Gp(c,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,ag(Vp.bind(null,c,m,n),[n]),c.flags|=2048,na(9,Zo(),qp.bind(null,c,m,r,i),null),r},useId:function(){var n=We(),i=Jt.identifierPrefix;if(Ht){var r=ai,c=si;r=(c&~(1<<32-_e(c)-1)).toString(32)+r,i="«"+i+"R"+r,r=Ko++,0<r&&(i+="H"+r.toString(32)),i+="»"}else r=CA++,i="«"+i+"r"+r.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Gu,useFormState:tg,useActionState:tg,useOptimistic:function(n){var i=We();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=qu.bind(null,Rt,!0,r),r.dispatch=i,[n,i]},useMemoCache:Pu,useCacheRefresh:function(){return We().memoizedState=DA.bind(null,Rt)}},xg={readContext:Ie,use:Wo,useCallback:hg,useContext:Ie,useEffect:rg,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:lg,useMemo:dg,useReducer:Qo,useRef:sg,useState:function(){return Qo(li)},useDebugValue:Bu,useDeferredValue:function(n,i){var r=ye();return fg(r,Yt.memoizedState,n,i)},useTransition:function(){var n=Qo(li)[0],i=ye().memoizedState;return[typeof n=="boolean"?n:pr(n),i]},useSyncExternalStore:Up,useId:yg,useHostTransitionStatus:Gu,useFormState:eg,useActionState:eg,useOptimistic:function(n,i){var r=ye();return Xp(r,Yt,n,i)},useMemoCache:Pu,useCacheRefresh:vg},NA={readContext:Ie,use:Wo,useCallback:hg,useContext:Ie,useEffect:rg,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:lg,useMemo:dg,useReducer:ju,useRef:sg,useState:function(){return ju(li)},useDebugValue:Bu,useDeferredValue:function(n,i){var r=ye();return Yt===null?Hu(r,n,i):fg(r,Yt.memoizedState,n,i)},useTransition:function(){var n=ju(li)[0],i=ye().memoizedState;return[typeof n=="boolean"?n:pr(n),i]},useSyncExternalStore:Up,useId:yg,useHostTransitionStatus:Gu,useFormState:ig,useActionState:ig,useOptimistic:function(n,i){var r=ye();return Yt!==null?Xp(r,Yt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Pu,useCacheRefresh:vg},ia=null,yr=0;function nl(n){var i=yr;return yr+=1,ia===null&&(ia=[]),kp(ia,n,i)}function vr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function il(n,i){throw i.$$typeof===y?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Eg(n){var i=n._init;return i(n._payload)}function _g(n){function i(I,z){if(n){var F=I.deletions;F===null?(I.deletions=[z],I.flags|=16):F.push(z)}}function r(I,z){if(!n)return null;for(;z!==null;)i(I,z),z=z.sibling;return null}function c(I){for(var z=new Map;I!==null;)I.key!==null?z.set(I.key,I):z.set(I.index,I),I=I.sibling;return z}function f(I,z){return I=ii(I,z),I.index=0,I.sibling=null,I}function m(I,z,F){return I.index=F,n?(F=I.alternate,F!==null?(F=F.index,F<z?(I.flags|=67108866,z):F):(I.flags|=67108866,z)):(I.flags|=1048576,z)}function A(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function x(I,z,F,W){return z===null||z.tag!==6?(z=hu(F,I.mode,W),z.return=I,z):(z=f(z,F),z.return=I,z)}function M(I,z,F,W){var ht=F.type;return ht===S?K(I,z,F.props.children,W,F.key):z!==null&&(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===X&&Eg(ht)===z.type)?(z=f(z,F.props),vr(z,F),z.return=I,z):(z=Fo(F.type,F.key,F.props,null,I.mode,W),vr(z,F),z.return=I,z)}function H(I,z,F,W){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=du(F,I.mode,W),z.return=I,z):(z=f(z,F.children||[]),z.return=I,z)}function K(I,z,F,W,ht){return z===null||z.tag!==7?(z=rs(F,I.mode,W,ht),z.return=I,z):(z=f(z,F),z.return=I,z)}function J(I,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=hu(""+z,I.mode,F),z.return=I,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return F=Fo(z.type,z.key,z.props,null,I.mode,F),vr(F,z),F.return=I,F;case b:return z=du(z,I.mode,F),z.return=I,z;case X:var W=z._init;return z=W(z._payload),J(I,z,F)}if(st(z)||Q(z))return z=rs(z,I.mode,F,null),z.return=I,z;if(typeof z.then=="function")return J(I,nl(z),F);if(z.$$typeof===T)return J(I,Go(I,z),F);il(I,z)}return null}function q(I,z,F,W){var ht=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ht!==null?null:x(I,z,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return F.key===ht?M(I,z,F,W):null;case b:return F.key===ht?H(I,z,F,W):null;case X:return ht=F._init,F=ht(F._payload),q(I,z,F,W)}if(st(F)||Q(F))return ht!==null?null:K(I,z,F,W,null);if(typeof F.then=="function")return q(I,z,nl(F),W);if(F.$$typeof===T)return q(I,z,Go(I,F),W);il(I,F)}return null}function V(I,z,F,W,ht){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return I=I.get(F)||null,x(z,I,""+W,ht);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return I=I.get(W.key===null?F:W.key)||null,M(z,I,W,ht);case b:return I=I.get(W.key===null?F:W.key)||null,H(z,I,W,ht);case X:var Mt=W._init;return W=Mt(W._payload),V(I,z,F,W,ht)}if(st(W)||Q(W))return I=I.get(F)||null,K(z,I,W,ht,null);if(typeof W.then=="function")return V(I,z,F,nl(W),ht);if(W.$$typeof===T)return V(I,z,F,Go(z,W),ht);il(z,W)}return null}function At(I,z,F,W){for(var ht=null,Mt=null,ft=z,yt=z=0,Me=null;ft!==null&&yt<F.length;yt++){ft.index>yt?(Me=ft,ft=null):Me=ft.sibling;var Ft=q(I,ft,F[yt],W);if(Ft===null){ft===null&&(ft=Me);break}n&&ft&&Ft.alternate===null&&i(I,ft),z=m(Ft,z,yt),Mt===null?ht=Ft:Mt.sibling=Ft,Mt=Ft,ft=Me}if(yt===F.length)return r(I,ft),Ht&&ls(I,yt),ht;if(ft===null){for(;yt<F.length;yt++)ft=J(I,F[yt],W),ft!==null&&(z=m(ft,z,yt),Mt===null?ht=ft:Mt.sibling=ft,Mt=ft);return Ht&&ls(I,yt),ht}for(ft=c(ft);yt<F.length;yt++)Me=V(ft,I,yt,F[yt],W),Me!==null&&(n&&Me.alternate!==null&&ft.delete(Me.key===null?yt:Me.key),z=m(Me,z,yt),Mt===null?ht=Me:Mt.sibling=Me,Mt=Me);return n&&ft.forEach(function(Xi){return i(I,Xi)}),Ht&&ls(I,yt),ht}function mt(I,z,F,W){if(F==null)throw Error(s(151));for(var ht=null,Mt=null,ft=z,yt=z=0,Me=null,Ft=F.next();ft!==null&&!Ft.done;yt++,Ft=F.next()){ft.index>yt?(Me=ft,ft=null):Me=ft.sibling;var Xi=q(I,ft,Ft.value,W);if(Xi===null){ft===null&&(ft=Me);break}n&&ft&&Xi.alternate===null&&i(I,ft),z=m(Xi,z,yt),Mt===null?ht=Xi:Mt.sibling=Xi,Mt=Xi,ft=Me}if(Ft.done)return r(I,ft),Ht&&ls(I,yt),ht;if(ft===null){for(;!Ft.done;yt++,Ft=F.next())Ft=J(I,Ft.value,W),Ft!==null&&(z=m(Ft,z,yt),Mt===null?ht=Ft:Mt.sibling=Ft,Mt=Ft);return Ht&&ls(I,yt),ht}for(ft=c(ft);!Ft.done;yt++,Ft=F.next())Ft=V(ft,I,yt,Ft.value,W),Ft!==null&&(n&&Ft.alternate!==null&&ft.delete(Ft.key===null?yt:Ft.key),z=m(Ft,z,yt),Mt===null?ht=Ft:Mt.sibling=Ft,Mt=Ft);return n&&ft.forEach(function(k1){return i(I,k1)}),Ht&&ls(I,yt),ht}function Kt(I,z,F,W){if(typeof F=="object"&&F!==null&&F.type===S&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case v:t:{for(var ht=F.key;z!==null;){if(z.key===ht){if(ht=F.type,ht===S){if(z.tag===7){r(I,z.sibling),W=f(z,F.props.children),W.return=I,I=W;break t}}else if(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===X&&Eg(ht)===z.type){r(I,z.sibling),W=f(z,F.props),vr(W,F),W.return=I,I=W;break t}r(I,z);break}else i(I,z);z=z.sibling}F.type===S?(W=rs(F.props.children,I.mode,W,F.key),W.return=I,I=W):(W=Fo(F.type,F.key,F.props,null,I.mode,W),vr(W,F),W.return=I,I=W)}return A(I);case b:t:{for(ht=F.key;z!==null;){if(z.key===ht)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){r(I,z.sibling),W=f(z,F.children||[]),W.return=I,I=W;break t}else{r(I,z);break}else i(I,z);z=z.sibling}W=du(F,I.mode,W),W.return=I,I=W}return A(I);case X:return ht=F._init,F=ht(F._payload),Kt(I,z,F,W)}if(st(F))return At(I,z,F,W);if(Q(F)){if(ht=Q(F),typeof ht!="function")throw Error(s(150));return F=ht.call(F),mt(I,z,F,W)}if(typeof F.then=="function")return Kt(I,z,nl(F),W);if(F.$$typeof===T)return Kt(I,z,Go(I,F),W);il(I,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(r(I,z.sibling),W=f(z,F),W.return=I,I=W):(r(I,z),W=hu(F,I.mode,W),W.return=I,I=W),A(I)):r(I,z)}return function(I,z,F,W){try{yr=0;var ht=Kt(I,z,F,W);return ia=null,ht}catch(ft){if(ft===lr||ft===Vo)throw ft;var Mt=rn(29,ft,null,I.mode);return Mt.lanes=W,Mt.return=I,Mt}finally{}}}var sa=_g(!0),Cg=_g(!1),xn=U(null),Fn=null;function Ni(n){var i=n.alternate;$(we,we.current&1),$(xn,n),Fn===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Fn=n)}function Tg(n){if(n.tag===22){if($(we,we.current),$(xn,n),Fn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Fn=n)}}else ki()}function ki(){$(we,we.current),$(xn,xn.current)}function ci(n){G(xn),Fn===n&&(Fn=null),G(we)}var we=U(0);function sl(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||kh(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vu(n,i,r,c){i=n.memoizedState,r=r(c,i),r=r==null?i:g({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var $u={enqueueSetState:function(n,i,r){n=n._reactInternals;var c=un(),f=Li(c);f.payload=i,r!=null&&(f.callback=r),i=Di(n,f,c),i!==null&&(hn(i,n,c),ur(i,n,c))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var c=un(),f=Li(c);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Di(n,f,c),i!==null&&(hn(i,n,c),ur(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=un(),c=Li(r);c.tag=2,i!=null&&(c.callback=i),i=Di(n,c,r),i!==null&&(hn(i,n,r),ur(i,n,r))}};function Rg(n,i,r,c,f,m,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,A):i.prototype&&i.prototype.isPureReactComponent?!tr(r,c)||!tr(f,m):!0}function Mg(n,i,r,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,c),i.state!==n&&$u.enqueueReplaceState(i,i.state,null)}function gs(n,i){var r=i;if("ref"in i){r={};for(var c in i)c!=="ref"&&(r[c]=i[c])}if(n=n.defaultProps){r===i&&(r=g({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var al=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Lg(n){al(n)}function Dg(n){console.error(n)}function Og(n){al(n)}function rl(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Ng(n,i,r){try{var c=n.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yu(n,i,r){return r=Li(r),r.tag=3,r.payload={element:null},r.callback=function(){rl(n,i)},r}function kg(n){return n=Li(n),n.tag=3,n}function Pg(n,i,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){Ng(i,r,c)}}var A=r.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Ng(i,r,c),typeof f!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function kA(n,i,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=r.alternate,i!==null&&ar(i,r,f,!0),r=xn.current,r!==null){switch(r.tag){case 13:return Fn===null?yh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===wu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([c]):i.add(c),bh(n,c,f)),!1;case 22:return r.flags|=65536,c===wu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([c]):r.add(c)),bh(n,c,f)),!1}throw Error(s(435,r.tag))}return bh(n,c,f),yh(),!1}if(Ht)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==gu&&(n=Error(s(422),{cause:c}),sr(bn(n,r)))):(c!==gu&&(i=Error(s(423),{cause:c}),sr(bn(i,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=bn(c,r),f=Yu(n.stateNode,c,f),_u(n,f),le!==4&&(le=2)),!1;var m=Error(s(520),{cause:c});if(m=bn(m,r),_r===null?_r=[m]:_r.push(m),le!==4&&(le=2),i===null)return!0;c=bn(c,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=Yu(r.stateNode,c,n),_u(r,n),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bi===null||!Bi.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=kg(f),Pg(f,n,r,c),_u(r,f),!1}r=r.return}while(r!==null);return!1}var zg=Error(s(461)),Te=!1;function Ne(n,i,r,c){i.child=n===null?Cg(i,null,r,c):sa(i,n.child,r,c)}function jg(n,i,r,c,f){r=r.render;var m=i.ref;if("ref"in c){var A={};for(var x in c)x!=="ref"&&(A[x]=c[x])}else A=c;return ds(i),c=Lu(n,i,r,A,m,f),x=Du(),n!==null&&!Te?(Ou(n,i,f),ui(n,i,f)):(Ht&&x&&fu(i),i.flags|=1,Ne(n,i,c,f),i.child)}function Ig(n,i,r,c,f){if(n===null){var m=r.type;return typeof m=="function"&&!uu(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Fg(n,i,m,c,f)):(n=Fo(r.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!eh(n,f)){var A=m.memoizedProps;if(r=r.compare,r=r!==null?r:tr,r(A,c)&&n.ref===i.ref)return ui(n,i,f)}return i.flags|=1,n=ii(m,c),n.ref=i.ref,n.return=i,i.child=n}function Fg(n,i,r,c,f){if(n!==null){var m=n.memoizedProps;if(tr(m,c)&&n.ref===i.ref)if(Te=!1,i.pendingProps=c=m,eh(n,f))(n.flags&131072)!==0&&(Te=!0);else return i.lanes=n.lanes,ui(n,i,f)}return Xu(n,i,r,c,f)}function Bg(n,i,r){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|r:r,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return Hg(n,i,c,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&qo(i,m!==null?m.cachePool:null),m!==null?Fp(i,m):Tu(),Tg(i);else return i.lanes=i.childLanes=536870912,Hg(n,i,m!==null?m.baseLanes|r:r,r)}else m!==null?(qo(i,m.cachePool),Fp(i,m),ki(),i.memoizedState=null):(n!==null&&qo(i,null),Tu(),ki());return Ne(n,i,f,r),i.child}function Hg(n,i,r,c){var f=Su();return f=f===null?null:{parent:Se._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},n!==null&&qo(i,null),Tu(),Tg(i),n!==null&&ar(n,i,c,!0),null}function ol(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Xu(n,i,r,c,f){return ds(i),r=Lu(n,i,r,c,void 0,f),c=Du(),n!==null&&!Te?(Ou(n,i,f),ui(n,i,f)):(Ht&&c&&fu(i),i.flags|=1,Ne(n,i,r,f),i.child)}function Ug(n,i,r,c,f,m){return ds(i),i.updateQueue=null,r=Hp(i,c,r,f),Bp(n),c=Du(),n!==null&&!Te?(Ou(n,i,m),ui(n,i,m)):(Ht&&c&&fu(i),i.flags|=1,Ne(n,i,r,m),i.child)}function Gg(n,i,r,c,f){if(ds(i),i.stateNode===null){var m=Xs,A=r.contextType;typeof A=="object"&&A!==null&&(m=Ie(A)),m=new r(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$u,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},xu(i),A=r.contextType,m.context=typeof A=="object"&&A!==null?Ie(A):Xs,m.state=i.memoizedState,A=r.getDerivedStateFromProps,typeof A=="function"&&(Vu(i,r,A,c),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&$u.enqueueReplaceState(m,m.state,null),dr(i,c,m,f),hr(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var x=i.memoizedProps,M=gs(r,x);m.props=M;var H=m.context,K=r.contextType;A=Xs,typeof K=="object"&&K!==null&&(A=Ie(K));var J=r.getDerivedStateFromProps;K=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||H!==A)&&Mg(i,m,c,A),Mi=!1;var q=i.memoizedState;m.state=q,dr(i,c,m,f),hr(),H=i.memoizedState,x||q!==H||Mi?(typeof J=="function"&&(Vu(i,r,J,c),H=i.memoizedState),(M=Mi||Rg(i,r,M,c,q,H,A))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=H),m.props=c,m.state=H,m.context=A,c=M):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Eu(n,i),A=i.memoizedProps,K=gs(r,A),m.props=K,J=i.pendingProps,q=m.context,H=r.contextType,M=Xs,typeof H=="object"&&H!==null&&(M=Ie(H)),x=r.getDerivedStateFromProps,(H=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==J||q!==M)&&Mg(i,m,c,M),Mi=!1,q=i.memoizedState,m.state=q,dr(i,c,m,f),hr();var V=i.memoizedState;A!==J||q!==V||Mi||n!==null&&n.dependencies!==null&&Uo(n.dependencies)?(typeof x=="function"&&(Vu(i,r,x,c),V=i.memoizedState),(K=Mi||Rg(i,r,K,c,q,V,M)||n!==null&&n.dependencies!==null&&Uo(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,V,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,V,M)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=V),m.props=c,m.state=V,m.context=M,c=K):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,ol(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=sa(i,n.child,null,f),i.child=sa(i,null,r,f)):Ne(n,i,r,f),i.memoizedState=m.state,n=i.child):n=ui(n,i,f),n}function qg(n,i,r,c){return ir(),i.flags|=256,Ne(n,i,r,c),i.child}var Ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(n){return{baseLanes:n,cachePool:Dp()}}function Qu(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=En),n}function Vg(n,i,r){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,A;if((A=m)||(A=n!==null&&n.memoizedState===null?!1:(we.current&2)!==0),A&&(f=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ht){if(f?Ni(i):ki(),Ht){var x=oe,M;if(M=x){t:{for(M=x,x=In;M.nodeType!==8;){if(!x){x=null;break t}if(M=On(M.nextSibling),M===null){x=null;break t}}x=M}x!==null?(i.memoizedState={dehydrated:x,treeContext:os!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},M=rn(18,null,null,0),M.stateNode=x,M.return=i,i.child=M,Ve=i,oe=null,M=!0):M=!1}M||us(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return kh(x)?i.lanes=32:i.lanes=536870912,null;ci(i)}return x=c.children,c=c.fallback,f?(ki(),f=i.mode,x=ll({mode:"hidden",children:x},f),c=rs(c,f,r,null),x.return=i,c.return=i,x.sibling=c,i.child=x,f=i.child,f.memoizedState=Wu(r),f.childLanes=Qu(n,A,r),i.memoizedState=Ku,c):(Ni(i),Zu(i,x))}if(M=n.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(m)i.flags&256?(Ni(i),i.flags&=-257,i=Ju(n,i,r)):i.memoizedState!==null?(ki(),i.child=n.child,i.flags|=128,i=null):(ki(),f=c.fallback,x=i.mode,c=ll({mode:"visible",children:c.children},x),f=rs(f,x,r,null),f.flags|=2,c.return=i,f.return=i,c.sibling=f,i.child=c,sa(i,n.child,null,r),c=i.child,c.memoizedState=Wu(r),c.childLanes=Qu(n,A,r),i.memoizedState=Ku,i=f);else if(Ni(i),kh(x)){if(A=x.nextSibling&&x.nextSibling.dataset,A)var H=A.dgst;A=H,c=Error(s(419)),c.stack="",c.digest=A,sr({value:c,source:null,stack:null}),i=Ju(n,i,r)}else if(Te||ar(n,i,r,!1),A=(r&n.childLanes)!==0,Te||A){if(A=Jt,A!==null&&(c=r&-r,c=(c&42)!==0?1:Pc(c),c=(c&(A.suspendedLanes|r))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,Ys(n,c),hn(A,n,c),zg;x.data==="$?"||yh(),i=Ju(n,i,r)}else x.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,oe=On(x.nextSibling),Ve=i,Ht=!0,cs=null,In=!1,n!==null&&(Sn[wn++]=si,Sn[wn++]=ai,Sn[wn++]=os,si=n.id,ai=n.overflow,os=i),i=Zu(i,c.children),i.flags|=4096);return i}return f?(ki(),f=c.fallback,x=i.mode,M=n.child,H=M.sibling,c=ii(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,H!==null?f=ii(H,f):(f=rs(f,x,r,null),f.flags|=2),f.return=i,c.return=i,c.sibling=f,i.child=c,c=f,f=i.child,x=n.child.memoizedState,x===null?x=Wu(r):(M=x.cachePool,M!==null?(H=Se._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=Dp(),x={baseLanes:x.baseLanes|r,cachePool:M}),f.memoizedState=x,f.childLanes=Qu(n,A,r),i.memoizedState=Ku,c):(Ni(i),r=n.child,n=r.sibling,r=ii(r,{mode:"visible",children:c.children}),r.return=i,r.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=r,i.memoizedState=null,r)}function Zu(n,i){return i=ll({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function ll(n,i){return n=rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ju(n,i,r){return sa(i,n.child,null,r),n=Zu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function $g(n,i,r){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),yu(n.return,i,r)}function th(n,i,r,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=r,m.tailMode=f)}function Yg(n,i,r){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Ne(n,i,c.children,r),c=we.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$g(n,r,i);else if(n.tag===19)$g(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch($(we,c),f){case"forwards":for(r=i.child,f=null;r!==null;)n=r.alternate,n!==null&&sl(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),th(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&sl(n)===null){i.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}th(i,!0,r,null,m);break;case"together":th(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ui(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(ar(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,r=ii(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=ii(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function eh(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Uo(n)))}function PA(n,i,r){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Ri(i,Se,n.memoizedState.cache),ir();break;case 27:case 5:_t(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ni(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Vg(n,i,r):(Ni(i),n=ui(n,i,r),n!==null?n.sibling:null);Ni(i);break;case 19:var f=(n.flags&128)!==0;if(c=(r&i.childLanes)!==0,c||(ar(n,i,r,!1),c=(r&i.childLanes)!==0),f){if(c)return Yg(n,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(we,we.current),c)break;return null;case 22:case 23:return i.lanes=0,Bg(n,i,r);case 24:Ri(i,Se,n.memoizedState.cache)}return ui(n,i,r)}function Xg(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Te=!0;else{if(!eh(n,r)&&(i.flags&128)===0)return Te=!1,PA(n,i,r);Te=(n.flags&131072)!==0}else Te=!1,Ht&&(i.flags&1048576)!==0&&Ep(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var c=i.elementType,f=c._init;if(c=f(c._payload),i.type=c,typeof c=="function")uu(c)?(n=gs(c,n),i.tag=1,i=Gg(null,i,c,n,r)):(i.tag=0,i=Xu(null,i,c,n,r));else{if(c!=null){if(f=c.$$typeof,f===D){i.tag=11,i=jg(null,i,c,n,r);break t}else if(f===k){i.tag=14,i=Ig(null,i,c,n,r);break t}}throw i=rt(c)||c,Error(s(306,i,""))}}return i;case 0:return Xu(n,i,i.type,i.pendingProps,r);case 1:return c=i.type,f=gs(c,i.pendingProps),Gg(n,i,c,f,r);case 3:t:{if(bt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,Eu(n,i),dr(i,c,null,r);var A=i.memoizedState;if(c=A.cache,Ri(i,Se,c),c!==m.cache&&vu(i,[Se],r,!0),hr(),c=A.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=qg(n,i,c,r);break t}else if(c!==f){f=bn(Error(s(424)),i),sr(f),i=qg(n,i,c,r);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(oe=On(n.firstChild),Ve=i,Ht=!0,cs=null,In=!0,r=Cg(i,null,c,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ir(),c===f){i=ui(n,i,r);break t}Ne(n,i,c,r)}i=i.child}return i;case 26:return ol(n,i),n===null?(r=Zm(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ht||(r=i.type,n=i.pendingProps,c=wl(ot.current).createElement(r),c[je]=i,c[Xe]=n,Pe(c,r,n),Ce(c),i.stateNode=c):i.memoizedState=Zm(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _t(i),n===null&&Ht&&(c=i.stateNode=Km(i.type,i.pendingProps,ot.current),Ve=i,In=!0,f=oe,Gi(i.type)?(Ph=f,oe=On(c.firstChild)):oe=f),Ne(n,i,i.pendingProps.children,r),ol(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ht&&((f=c=oe)&&(c=c1(c,i.type,i.pendingProps,In),c!==null?(i.stateNode=c,Ve=i,oe=On(c.firstChild),In=!1,f=!0):f=!1),f||us(i)),_t(i),f=i.type,m=i.pendingProps,A=n!==null?n.memoizedProps:null,c=m.children,Dh(f,m)?c=null:A!==null&&Dh(f,A)&&(i.flags|=32),i.memoizedState!==null&&(f=Lu(n,i,TA,null,null,r),kr._currentValue=f),ol(n,i),Ne(n,i,c,r),i.child;case 6:return n===null&&Ht&&((n=r=oe)&&(r=u1(r,i.pendingProps,In),r!==null?(i.stateNode=r,Ve=i,oe=null,n=!0):n=!1),n||us(i)),null;case 13:return Vg(n,i,r);case 4:return bt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=sa(i,null,c,r):Ne(n,i,c,r),i.child;case 11:return jg(n,i,i.type,i.pendingProps,r);case 7:return Ne(n,i,i.pendingProps,r),i.child;case 8:return Ne(n,i,i.pendingProps.children,r),i.child;case 12:return Ne(n,i,i.pendingProps.children,r),i.child;case 10:return c=i.pendingProps,Ri(i,i.type,c.value),Ne(n,i,c.children,r),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,ds(i),f=Ie(f),c=c(f),i.flags|=1,Ne(n,i,c,r),i.child;case 14:return Ig(n,i,i.type,i.pendingProps,r);case 15:return Fg(n,i,i.type,i.pendingProps,r);case 19:return Yg(n,i,r);case 31:return c=i.pendingProps,r=i.mode,c={mode:c.mode,children:c.children},n===null?(r=ll(c,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=ii(n.child,c),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return Bg(n,i,r);case 24:return ds(i),c=Ie(Se),n===null?(f=Su(),f===null&&(f=Jt,m=bu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:c,cache:f},xu(i),Ri(i,Se,f)):((n.lanes&r)!==0&&(Eu(n,i),dr(i,null,null,r),hr()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ri(i,Se,c)):(c=m.cache,Ri(i,Se,c),c!==f.cache&&vu(i,[Se],r,!0))),Ne(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hi(n){n.flags|=4}function Kg(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!i0(i)){if(i=xn.current,i!==null&&((Pt&4194048)===Pt?Fn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==Fn))throw cr=wu,Op;n.flags|=8192}}function cl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Tf():536870912,n.lanes|=i,la|=i)}function br(n,i){if(!Ht)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function se(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(i)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=r,i}function zA(n,i,r){var c=i.pendingProps;switch(pu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return r=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),oi(Se),zt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(nr(i)?hi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tp())),se(i),null;case 26:return r=i.memoizedState,n===null?(hi(i),r!==null?(se(i),Kg(i,r)):(se(i),i.flags&=-16777217)):r?r!==n.memoizedState?(hi(i),se(i),Kg(i,r)):(se(i),i.flags&=-16777217):(n.memoizedProps!==c&&hi(i),se(i),i.flags&=-16777217),null;case 27:It(i),r=ot.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&hi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return se(i),null}n=tt.current,nr(i)?_p(i):(n=Km(f,c,r),i.stateNode=n,hi(i))}return se(i),null;case 5:if(It(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&hi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(n=tt.current,nr(i))_p(i);else{switch(f=wl(ot.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(r,{is:c.is}):f.createElement(r)}}n[je]=i,n[Xe]=c;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(Pe(n,r,c),r){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&hi(i)}}return se(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&hi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=ot.current,nr(i)){if(n=i.stateNode,r=i.memoizedProps,c=null,f=Ve,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[je]=i,n=!!(n.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Um(n.nodeValue,r)),n||us(i)}else n=wl(n).createTextNode(c),n[je]=i,i.stateNode=n}return se(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=nr(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[je]=i}else ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),f=!1}else f=Tp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ci(i),i):(ci(i),null)}if(ci(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=c!==null,n=n!==null&&n.memoizedState!==null,r){c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),cl(i,i.updateQueue),se(i),null;case 4:return zt(),n===null&&Ch(i.stateNode.containerInfo),se(i),null;case 10:return oi(i.type),se(i),null;case 19:if(G(we),f=i.memoizedState,f===null)return se(i),null;if(c=(i.flags&128)!==0,m=f.rendering,m===null)if(c)br(f,!1);else{if(le!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=sl(n),m!==null){for(i.flags|=128,br(f,!1),n=m.updateQueue,i.updateQueue=n,cl(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)xp(r,n),r=r.sibling;return $(we,we.current&1|2),i.child}n=n.sibling}f.tail!==null&&jt()>dl&&(i.flags|=128,c=!0,br(f,!1),i.lanes=4194304)}else{if(!c)if(n=sl(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,cl(i,n),br(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ht)return se(i),null}else 2*jt()-f.renderingStartTime>dl&&r!==536870912&&(i.flags|=128,c=!0,br(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=jt(),i.sibling=null,n=we.current,$(we,c?n&1|2:n&1),i):(se(i),null);case 22:case 23:return ci(i),Ru(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(r&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),r=i.updateQueue,r!==null&&cl(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==r&&(i.flags|=2048),n!==null&&G(fs),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),oi(Se),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jA(n,i){switch(pu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return oi(Se),zt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 13:if(ci(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ir()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return G(we),null;case 4:return zt(),null;case 10:return oi(i.type),null;case 22:case 23:return ci(i),Ru(),n!==null&&G(fs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return oi(Se),null;case 25:return null;default:return null}}function Wg(n,i){switch(pu(i),i.tag){case 3:oi(Se),zt();break;case 26:case 27:case 5:It(i);break;case 4:zt();break;case 13:ci(i);break;case 19:G(we);break;case 10:oi(i.type);break;case 22:case 23:ci(i),Ru(),n!==null&&G(fs);break;case 24:oi(Se)}}function Ar(n,i){try{var r=i.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&n)===n){c=void 0;var m=r.create,A=r.inst;c=m(),A.destroy=c}r=r.next}while(r!==f)}}catch(x){Qt(i,i.return,x)}}function Pi(n,i,r){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var A=c.inst,x=A.destroy;if(x!==void 0){A.destroy=void 0,f=i;var M=r,H=x;try{H()}catch(K){Qt(f,M,K)}}}c=c.next}while(c!==m)}}catch(K){Qt(i,i.return,K)}}function Qg(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Ip(i,r)}catch(c){Qt(n,n.return,c)}}}function Zg(n,i,r){r.props=gs(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(c){Qt(n,i,c)}}function Sr(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof r=="function"?n.refCleanup=r(c):r.current=c}}catch(f){Qt(n,i,f)}}function Bn(n,i){var r=n.ref,c=n.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Qt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Qt(n,i,f)}else r.current=null}function Jg(n){var i=n.type,r=n.memoizedProps,c=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Qt(n,n.return,f)}}function nh(n,i,r){try{var c=n.stateNode;s1(c,n.type,r,i),c[Xe]=i}catch(f){Qt(n,n.return,f)}}function tm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gi(n.type)||n.tag===4}function ih(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||tm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sh(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Sl));else if(c!==4&&(c===27&&Gi(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(sh(n,i,r),n=n.sibling;n!==null;)sh(n,i,r),n=n.sibling}function ul(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(c!==4&&(c===27&&Gi(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ul(n,i,r),n=n.sibling;n!==null;)ul(n,i,r),n=n.sibling}function em(n){var i=n.stateNode,r=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Pe(i,c,r),i[je]=n,i[Xe]=r}catch(m){Qt(n,n.return,m)}}var di=!1,ue=!1,ah=!1,nm=typeof WeakSet=="function"?WeakSet:Set,Re=null;function IA(n,i){if(n=n.containerInfo,Mh=Rl,n=fp(n),iu(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var A=0,x=-1,M=-1,H=0,K=0,J=n,q=null;e:for(;;){for(var V;J!==r||f!==0&&J.nodeType!==3||(x=A+f),J!==m||c!==0&&J.nodeType!==3||(M=A+c),J.nodeType===3&&(A+=J.nodeValue.length),(V=J.firstChild)!==null;)q=J,J=V;for(;;){if(J===n)break e;if(q===r&&++H===f&&(x=A),q===m&&++K===c&&(M=A),(V=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=V}r=x===-1||M===-1?null:{start:x,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lh={focusedElem:n,selectionRange:r},Rl=!1,Re=i;Re!==null;)if(i=Re,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Re=n;else for(;Re!==null;){switch(i=Re,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var At=gs(r.type,f,r.elementType===r.type);n=c.getSnapshotBeforeUpdate(At,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(mt){Qt(r,r.return,mt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Nh(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Re=n;break}Re=i.return}}function im(n,i,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:zi(n,r),c&4&&Ar(5,r);break;case 1:if(zi(n,r),c&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(A){Qt(r,r.return,A)}else{var f=gs(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Qt(r,r.return,A)}}c&64&&Qg(r),c&512&&Sr(r,r.return);break;case 3:if(zi(n,r),c&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Ip(n,i)}catch(A){Qt(r,r.return,A)}}break;case 27:i===null&&c&4&&em(r);case 26:case 5:zi(n,r),i===null&&c&4&&Jg(r),c&512&&Sr(r,r.return);break;case 12:zi(n,r);break;case 13:zi(n,r),c&4&&rm(n,r),c&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=YA.bind(null,r),h1(n,r))));break;case 22:if(c=r.memoizedState!==null||di,!c){i=i!==null&&i.memoizedState!==null||ue,f=di;var m=ue;di=c,(ue=i)&&!m?ji(n,r,(r.subtreeFlags&8772)!==0):zi(n,r),di=f,ue=m}break;case 30:break;default:zi(n,r)}}function sm(n){var i=n.alternate;i!==null&&(n.alternate=null,sm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ic(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,Qe=!1;function fi(n,i,r){for(r=r.child;r!==null;)am(n,i,r),r=r.sibling}function am(n,i,r){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ts,r)}catch{}switch(r.tag){case 26:ue||Bn(r,i),fi(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Bn(r,i);var c=ee,f=Qe;Gi(r.type)&&(ee=r.stateNode,Qe=!1),fi(n,i,r),Lr(r.stateNode),ee=c,Qe=f;break;case 5:ue||Bn(r,i);case 6:if(c=ee,f=Qe,ee=null,fi(n,i,r),ee=c,Qe=f,ee!==null)if(Qe)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(m){Qt(r,i,m)}else try{ee.removeChild(r.stateNode)}catch(m){Qt(r,i,m)}break;case 18:ee!==null&&(Qe?(n=ee,Ym(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Ir(n)):Ym(ee,r.stateNode));break;case 4:c=ee,f=Qe,ee=r.stateNode.containerInfo,Qe=!0,fi(n,i,r),ee=c,Qe=f;break;case 0:case 11:case 14:case 15:ue||Pi(2,r,i),ue||Pi(4,r,i),fi(n,i,r);break;case 1:ue||(Bn(r,i),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Zg(r,i,c)),fi(n,i,r);break;case 21:fi(n,i,r);break;case 22:ue=(c=ue)||r.memoizedState!==null,fi(n,i,r),ue=c;break;default:fi(n,i,r)}}function rm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ir(n)}catch(r){Qt(i,i.return,r)}}function FA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new nm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new nm),i;default:throw Error(s(435,n.tag))}}function rh(n,i){var r=FA(n);i.forEach(function(c){var f=XA.bind(null,n,c);r.has(c)||(r.add(c),c.then(f,f))})}function on(n,i){var r=i.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],m=n,A=i,x=A;t:for(;x!==null;){switch(x.tag){case 27:if(Gi(x.type)){ee=x.stateNode,Qe=!1;break t}break;case 5:ee=x.stateNode,Qe=!1;break t;case 3:case 4:ee=x.stateNode.containerInfo,Qe=!0;break t}x=x.return}if(ee===null)throw Error(s(160));am(m,A,f),ee=null,Qe=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)om(i,n),i=i.sibling}var Dn=null;function om(n,i){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:on(i,n),ln(n),c&4&&(Pi(3,n,n.return),Ar(3,n),Pi(5,n,n.return));break;case 1:on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),c&64&&di&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Dn;if(on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=n.memoizedState,r===null)if(c===null)if(n.stateNode===null){t:{c=n.type,r=n.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Va]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Pe(m,c,r),m[je]=n,Ce(m),c=m;break t;case"link":var A=e0("link","href",f).get(c+(r.href||""));if(A){for(var x=0;x<A.length;x++)if(m=A[x],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){A.splice(x,1);break e}}m=f.createElement(c),Pe(m,c,r),f.head.appendChild(m);break;case"meta":if(A=e0("meta","content",f).get(c+(r.content||""))){for(x=0;x<A.length;x++)if(m=A[x],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){A.splice(x,1);break e}}m=f.createElement(c),Pe(m,c,r),f.head.appendChild(m);break;default:throw Error(s(468,c))}m[je]=n,Ce(m),c=m}n.stateNode=c}else n0(f,n.type,n.stateNode);else n.stateNode=t0(f,c,n.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?n0(f,n.type,n.stateNode):t0(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&nh(n,n.memoizedProps,r.memoizedProps)}break;case 27:on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),r!==null&&c&4&&nh(n,n.memoizedProps,r.memoizedProps);break;case 5:if(on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),n.flags&32){f=n.stateNode;try{Bs(f,"")}catch(V){Qt(n,n.return,V)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,nh(n,f,r!==null?r.memoizedProps:f)),c&1024&&(ah=!0);break;case 6:if(on(i,n),ln(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,r=n.stateNode;try{r.nodeValue=c}catch(V){Qt(n,n.return,V)}}break;case 3:if(_l=null,f=Dn,Dn=xl(i.containerInfo),on(i,n),Dn=f,ln(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Ir(i.containerInfo)}catch(V){Qt(n,n.return,V)}ah&&(ah=!1,lm(n));break;case 4:c=Dn,Dn=xl(n.stateNode.containerInfo),on(i,n),ln(n),Dn=c;break;case 12:on(i,n),ln(n);break;case 13:on(i,n),ln(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(dh=jt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rh(n,c)));break;case 22:f=n.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,H=di,K=ue;if(di=H||f,ue=K||M,on(i,n),ue=K,di=H,ln(n),c&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||M||di||ue||ms(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(m=M.stateNode,f)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{x=M.stateNode;var J=M.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(V){Qt(M,M.return,V)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(V){Qt(M,M.return,V)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,rh(n,r))));break;case 19:on(i,n),ln(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,rh(n,c)));break;case 30:break;case 21:break;default:on(i,n),ln(n)}}function ln(n){var i=n.flags;if(i&2){try{for(var r,c=n.return;c!==null;){if(tm(c)){r=c;break}c=c.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,m=ih(n);ul(n,m,f);break;case 5:var A=r.stateNode;r.flags&32&&(Bs(A,""),r.flags&=-33);var x=ih(n);ul(n,x,A);break;case 3:case 4:var M=r.stateNode.containerInfo,H=ih(n);sh(n,H,M);break;default:throw Error(s(161))}}catch(K){Qt(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function lm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;lm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)im(n,i.alternate,i),i=i.sibling}function ms(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Pi(4,i,i.return),ms(i);break;case 1:Bn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Zg(i,i.return,r),ms(i);break;case 27:Lr(i.stateNode);case 26:case 5:Bn(i,i.return),ms(i);break;case 22:i.memoizedState===null&&ms(i);break;case 30:ms(i);break;default:ms(i)}n=n.sibling}}function ji(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,A=m.flags;switch(m.tag){case 0:case 11:case 15:ji(f,m,r),Ar(4,m);break;case 1:if(ji(f,m,r),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Qt(c,c.return,H)}if(c=m,f=c.updateQueue,f!==null){var x=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)jp(M[f],x)}catch(H){Qt(c,c.return,H)}}r&&A&64&&Qg(m),Sr(m,m.return);break;case 27:em(m);case 26:case 5:ji(f,m,r),r&&c===null&&A&4&&Jg(m),Sr(m,m.return);break;case 12:ji(f,m,r);break;case 13:ji(f,m,r),r&&A&4&&rm(f,m);break;case 22:m.memoizedState===null&&ji(f,m,r),Sr(m,m.return);break;case 30:break;default:ji(f,m,r)}i=i.sibling}}function oh(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&rr(r))}function lh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&rr(n))}function Hn(n,i,r,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cm(n,i,r,c),i=i.sibling}function cm(n,i,r,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Hn(n,i,r,c),f&2048&&Ar(9,i);break;case 1:Hn(n,i,r,c);break;case 3:Hn(n,i,r,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&rr(n)));break;case 12:if(f&2048){Hn(n,i,r,c),n=i.stateNode;try{var m=i.memoizedProps,A=m.id,x=m.onPostCommit;typeof x=="function"&&x(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Qt(i,i.return,M)}}else Hn(n,i,r,c);break;case 13:Hn(n,i,r,c);break;case 23:break;case 22:m=i.stateNode,A=i.alternate,i.memoizedState!==null?m._visibility&2?Hn(n,i,r,c):wr(n,i):m._visibility&2?Hn(n,i,r,c):(m._visibility|=2,aa(n,i,r,c,(i.subtreeFlags&10256)!==0)),f&2048&&oh(A,i);break;case 24:Hn(n,i,r,c),f&2048&&lh(i.alternate,i);break;default:Hn(n,i,r,c)}}function aa(n,i,r,c,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,A=i,x=r,M=c,H=A.flags;switch(A.tag){case 0:case 11:case 15:aa(m,A,x,M,f),Ar(8,A);break;case 23:break;case 22:var K=A.stateNode;A.memoizedState!==null?K._visibility&2?aa(m,A,x,M,f):wr(m,A):(K._visibility|=2,aa(m,A,x,M,f)),f&&H&2048&&oh(A.alternate,A);break;case 24:aa(m,A,x,M,f),f&&H&2048&&lh(A.alternate,A);break;default:aa(m,A,x,M,f)}i=i.sibling}}function wr(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,c=i,f=c.flags;switch(c.tag){case 22:wr(r,c),f&2048&&oh(c.alternate,c);break;case 24:wr(r,c),f&2048&&lh(c.alternate,c);break;default:wr(r,c)}i=i.sibling}}var xr=8192;function ra(n){if(n.subtreeFlags&xr)for(n=n.child;n!==null;)um(n),n=n.sibling}function um(n){switch(n.tag){case 26:ra(n),n.flags&xr&&n.memoizedState!==null&&E1(Dn,n.memoizedState,n.memoizedProps);break;case 5:ra(n);break;case 3:case 4:var i=Dn;Dn=xl(n.stateNode.containerInfo),ra(n),Dn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=xr,xr=16777216,ra(n),xr=i):ra(n));break;default:ra(n)}}function hm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Er(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];Re=c,fm(c,n)}hm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dm(n),n=n.sibling}function dm(n){switch(n.tag){case 0:case 11:case 15:Er(n),n.flags&2048&&Pi(9,n,n.return);break;case 3:Er(n);break;case 12:Er(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,hl(n)):Er(n);break;default:Er(n)}}function hl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];Re=c,fm(c,n)}hm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Pi(8,i,i.return),hl(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,hl(i));break;default:hl(i)}n=n.sibling}}function fm(n,i){for(;Re!==null;){var r=Re;switch(r.tag){case 0:case 11:case 15:Pi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:rr(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Re=c;else t:for(r=n;Re!==null;){c=Re;var f=c.sibling,m=c.return;if(sm(c),c===r){Re=null;break t}if(f!==null){f.return=m,Re=f;break t}Re=m}}}var BA={getCacheForType:function(n){var i=Ie(Se),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},HA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Lt=null,Pt=0,qt=0,cn=null,Ii=!1,oa=!1,ch=!1,pi=0,le=0,Fi=0,ys=0,uh=0,En=0,la=0,_r=null,Ze=null,hh=!1,dh=0,dl=1/0,fl=null,Bi=null,ke=0,Hi=null,ca=null,ua=0,fh=0,ph=null,pm=null,Cr=0,gh=null;function un(){if((Gt&2)!==0&&Pt!==0)return Pt&-Pt;if(O.T!==null){var n=Qs;return n!==0?n:wh()}return Lf()}function gm(){En===0&&(En=(Pt&536870912)===0||Ht?Cf():536870912);var n=xn.current;return n!==null&&(n.flags|=32),En}function hn(n,i,r){(n===Jt&&(qt===2||qt===9)||n.cancelPendingCommit!==null)&&(ha(n,0),Ui(n,Pt,En,!1)),qa(n,r),((Gt&2)===0||n!==Jt)&&(n===Jt&&((Gt&2)===0&&(ys|=r),le===4&&Ui(n,Pt,En,!1)),Un(n))}function mm(n,i,r){if((Gt&6)!==0)throw Error(s(327));var c=!r&&(i&124)===0&&(i&n.expiredLanes)===0||Ga(n,i),f=c?qA(n,i):vh(n,i,!0),m=c;do{if(f===0){oa&&!c&&Ui(n,i,0,!1);break}else{if(r=n.current.alternate,m&&!UA(r)){f=vh(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var x=n;f=_r;var M=x.current.memoizedState.isDehydrated;if(M&&(ha(x,A).flags|=256),A=vh(x,A,!1),A!==2){if(ch&&!M){x.errorRecoveryDisabledLanes|=m,ys|=m,f=4;break t}m=Ze,Ze=f,m!==null&&(Ze===null?Ze=m:Ze.push.apply(Ze,m))}f=A}if(m=!1,f!==2)continue}}if(f===1){ha(n,0),Ui(n,i,0,!0);break}t:{switch(c=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ui(c,i,En,!Ii);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=dh+300-jt(),10<f)){if(Ui(c,i,En,!Ii),Eo(c,0,!0)!==0)break t;c.timeoutHandle=Vm(ym.bind(null,c,r,Ze,fl,hh,i,En,ys,la,Ii,m,2,-0,0),f);break t}ym(c,r,Ze,fl,hh,i,En,ys,la,Ii,m,0,-0,0)}}break}while(!0);Un(n)}function ym(n,i,r,c,f,m,A,x,M,H,K,J,q,V){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Nr={stylesheets:null,count:0,unsuspend:x1},um(i),J=_1(),J!==null)){n.cancelPendingCommit=J(Em.bind(null,n,i,m,r,c,f,A,x,M,K,1,q,V)),Ui(n,m,A,!H);return}Em(n,i,m,r,c,f,A,x,M)}function UA(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],m=f.getSnapshot;f=f.value;try{if(!an(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ui(n,i,r,c){i&=~uh,i&=~ys,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-_e(f),A=1<<m;c[m]=-1,f&=~A}r!==0&&Rf(n,r,i)}function pl(){return(Gt&6)===0?(Tr(0),!1):!0}function mh(){if(Lt!==null){if(qt===0)var n=Lt.return;else n=Lt,ri=hs=null,Nu(n),ia=null,yr=0,n=Lt;for(;n!==null;)Wg(n.alternate,n),n=n.return;Lt=null}}function ha(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,r1(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),mh(),Jt=n,Lt=r=ii(n.current,null),Pt=i,qt=0,cn=null,Ii=!1,oa=Ga(n,i),ch=!1,la=En=uh=ys=Fi=le=0,Ze=_r=null,hh=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-_e(c),m=1<<f;i|=n[f],c&=~m}return pi=i,zo(),r}function vm(n,i){Rt=null,O.H=el,i===lr||i===Vo?(i=Pp(),qt=3):i===Op?(i=Pp(),qt=4):qt=i===zg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,Lt===null&&(le=1,rl(n,bn(i,n.current)))}function bm(){var n=O.H;return O.H=el,n===null?el:n}function Am(){var n=O.A;return O.A=BA,n}function yh(){le=4,Ii||(Pt&4194048)!==Pt&&xn.current!==null||(oa=!0),(Fi&134217727)===0&&(ys&134217727)===0||Jt===null||Ui(Jt,Pt,En,!1)}function vh(n,i,r){var c=Gt;Gt|=2;var f=bm(),m=Am();(Jt!==n||Pt!==i)&&(fl=null,ha(n,i)),i=!1;var A=le;t:do try{if(qt!==0&&Lt!==null){var x=Lt,M=cn;switch(qt){case 8:mh(),A=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var H=qt;if(qt=0,cn=null,da(n,x,M,H),r&&oa){A=0;break t}break;default:H=qt,qt=0,cn=null,da(n,x,M,H)}}GA(),A=le;break}catch(K){vm(n,K)}while(!0);return i&&n.shellSuspendCounter++,ri=hs=null,Gt=c,O.H=f,O.A=m,Lt===null&&(Jt=null,Pt=0,zo()),A}function GA(){for(;Lt!==null;)Sm(Lt)}function qA(n,i){var r=Gt;Gt|=2;var c=bm(),f=Am();Jt!==n||Pt!==i?(fl=null,dl=jt()+500,ha(n,i)):oa=Ga(n,i);t:do try{if(qt!==0&&Lt!==null){i=Lt;var m=cn;e:switch(qt){case 1:qt=0,cn=null,da(n,i,m,1);break;case 2:case 9:if(Np(m)){qt=0,cn=null,wm(i);break}i=function(){qt!==2&&qt!==9||Jt!==n||(qt=7),Un(n)},m.then(i,i);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Np(m)?(qt=0,cn=null,wm(i)):(qt=0,cn=null,da(n,i,m,7));break;case 5:var A=null;switch(Lt.tag){case 26:A=Lt.memoizedState;case 5:case 27:var x=Lt;if(!A||i0(A)){qt=0,cn=null;var M=x.sibling;if(M!==null)Lt=M;else{var H=x.return;H!==null?(Lt=H,gl(H)):Lt=null}break e}}qt=0,cn=null,da(n,i,m,5);break;case 6:qt=0,cn=null,da(n,i,m,6);break;case 8:mh(),le=6;break t;default:throw Error(s(462))}}VA();break}catch(K){vm(n,K)}while(!0);return ri=hs=null,O.H=c,O.A=f,Gt=r,Lt!==null?0:(Jt=null,Pt=0,zo(),le)}function VA(){for(;Lt!==null&&!xt();)Sm(Lt)}function Sm(n){var i=Xg(n.alternate,n,pi);n.memoizedProps=n.pendingProps,i===null?gl(n):Lt=i}function wm(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=Ug(r,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Ug(r,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Nu(i);default:Wg(r,i),i=Lt=xp(i,pi),i=Xg(r,i,pi)}n.memoizedProps=n.pendingProps,i===null?gl(n):Lt=i}function da(n,i,r,c){ri=hs=null,Nu(i),ia=null,yr=0;var f=i.return;try{if(kA(n,f,i,r,Pt)){le=1,rl(n,bn(r,n.current)),Lt=null;return}}catch(m){if(f!==null)throw Lt=f,m;le=1,rl(n,bn(r,n.current)),Lt=null;return}i.flags&32768?(Ht||c===1?n=!0:oa||(Pt&536870912)!==0?n=!1:(Ii=n=!0,(c===2||c===9||c===3||c===6)&&(c=xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),xm(i,n)):gl(i)}function gl(n){var i=n;do{if((i.flags&32768)!==0){xm(i,Ii);return}n=i.return;var r=zA(i.alternate,i,pi);if(r!==null){Lt=r;return}if(i=i.sibling,i!==null){Lt=i;return}Lt=i=n}while(i!==null);le===0&&(le=5)}function xm(n,i){do{var r=jA(n.alternate,n);if(r!==null){r.flags&=32767,Lt=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Lt=n;return}Lt=n=r}while(n!==null);le=6,Lt=null}function Em(n,i,r,c,f,m,A,x,M){n.cancelPendingCommit=null;do ml();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=lu,xb(n,r,m,A,x,M),n===Jt&&(Lt=Jt=null,Pt=0),ca=i,Hi=n,ua=r,fh=m,ph=f,pm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KA(Ee,function(){return Mm(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=O.T,O.T=null,f=B.p,B.p=2,A=Gt,Gt|=4;try{IA(n,i,r)}finally{Gt=A,B.p=f,O.T=c}}ke=1,_m(),Cm(),Tm()}}function _m(){if(ke===1){ke=0;var n=Hi,i=ca,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var c=B.p;B.p=2;var f=Gt;Gt|=4;try{om(i,n);var m=Lh,A=fp(n.containerInfo),x=m.focusedElem,M=m.selectionRange;if(A!==x&&x&&x.ownerDocument&&dp(x.ownerDocument.documentElement,x)){if(M!==null&&iu(x)){var H=M.start,K=M.end;if(K===void 0&&(K=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(K,x.value.length);else{var J=x.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var V=q.getSelection(),At=x.textContent.length,mt=Math.min(M.start,At),Kt=M.end===void 0?mt:Math.min(M.end,At);!V.extend&&mt>Kt&&(A=Kt,Kt=mt,mt=A);var I=hp(x,mt),z=hp(x,Kt);if(I&&z&&(V.rangeCount!==1||V.anchorNode!==I.node||V.anchorOffset!==I.offset||V.focusNode!==z.node||V.focusOffset!==z.offset)){var F=J.createRange();F.setStart(I.node,I.offset),V.removeAllRanges(),mt>Kt?(V.addRange(F),V.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),V.addRange(F))}}}}for(J=[],V=x;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var W=J[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Rl=!!Mh,Lh=Mh=null}finally{Gt=f,B.p=c,O.T=r}}n.current=i,ke=2}}function Cm(){if(ke===2){ke=0;var n=Hi,i=ca,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var c=B.p;B.p=2;var f=Gt;Gt|=4;try{im(n,i.alternate,i)}finally{Gt=f,B.p=c,O.T=r}}ke=3}}function Tm(){if(ke===4||ke===3){ke=0,Nt();var n=Hi,i=ca,r=ua,c=pm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,ca=Hi=null,Rm(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Bi=null),zc(r),i=i.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ts,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=O.T,f=B.p,B.p=2,O.T=null;try{for(var m=n.onRecoverableError,A=0;A<c.length;A++){var x=c[A];m(x.value,{componentStack:x.stack})}}finally{O.T=i,B.p=f}}(ua&3)!==0&&ml(),Un(n),f=n.pendingLanes,(r&4194090)!==0&&(f&42)!==0?n===gh?Cr++:(Cr=0,gh=n):Cr=0,Tr(0)}}function Rm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,rr(i)))}function ml(n){return _m(),Cm(),Tm(),Mm()}function Mm(){if(ke!==5)return!1;var n=Hi,i=fh;fh=0;var r=zc(ua),c=O.T,f=B.p;try{B.p=32>r?32:r,O.T=null,r=ph,ph=null;var m=Hi,A=ua;if(ke=0,ca=Hi=null,ua=0,(Gt&6)!==0)throw Error(s(331));var x=Gt;if(Gt|=4,dm(m.current),cm(m,m.current,A,r),Gt=x,Tr(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ts,m)}catch{}return!0}finally{B.p=f,O.T=c,Rm(n,i)}}function Lm(n,i,r){i=bn(r,i),i=Yu(n.stateNode,i,2),n=Di(n,i,2),n!==null&&(qa(n,2),Un(n))}function Qt(n,i,r){if(n.tag===3)Lm(n,n,r);else for(;i!==null;){if(i.tag===3){Lm(i,n,r);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bi===null||!Bi.has(c))){n=bn(r,n),r=kg(2),c=Di(i,r,2),c!==null&&(Pg(r,c,i,n),qa(c,2),Un(c));break}}i=i.return}}function bh(n,i,r){var c=n.pingCache;if(c===null){c=n.pingCache=new HA;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(r)||(ch=!0,f.add(r),n=$A.bind(null,n,i,r),i.then(n,n))}function $A(n,i,r){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Jt===n&&(Pt&r)===r&&(le===4||le===3&&(Pt&62914560)===Pt&&300>jt()-dh?(Gt&2)===0&&ha(n,0):uh|=r,la===Pt&&(la=0)),Un(n)}function Dm(n,i){i===0&&(i=Tf()),n=Ys(n,i),n!==null&&(qa(n,i),Un(n))}function YA(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),Dm(n,r)}function XA(n,i){var r=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Dm(n,r)}function KA(n,i){return Vt(n,i)}var yl=null,fa=null,Ah=!1,vl=!1,Sh=!1,vs=0;function Un(n){n!==fa&&n.next===null&&(fa===null?yl=fa=n:fa=fa.next=n),vl=!0,Ah||(Ah=!0,QA())}function Tr(n,i){if(!Sh&&vl){Sh=!0;do for(var r=!1,c=yl;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var A=c.suspendedLanes,x=c.pingedLanes;m=(1<<31-_e(42|n)+1)-1,m&=f&~(A&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Pm(c,m))}else m=Pt,m=Eo(c,c===Jt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ga(c,m)||(r=!0,Pm(c,m));c=c.next}while(r);Sh=!1}}function WA(){Om()}function Om(){vl=Ah=!1;var n=0;vs!==0&&(a1()&&(n=vs),vs=0);for(var i=jt(),r=null,c=yl;c!==null;){var f=c.next,m=Nm(c,i);m===0?(c.next=null,r===null?yl=f:r.next=f,f===null&&(fa=r)):(r=c,(n!==0||(m&3)!==0)&&(vl=!0)),c=f}Tr(n)}function Nm(n,i){for(var r=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var A=31-_e(m),x=1<<A,M=f[A];M===-1?((x&r)===0||(x&c)!==0)&&(f[A]=wb(x,i)):M<=i&&(n.expiredLanes|=x),m&=~x}if(i=Jt,r=Pt,r=Eo(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,r===0||n===i&&(qt===2||qt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Tt(c),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Ga(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(c!==null&&Tt(c),zc(r)){case 2:case 8:r=_i;break;case 32:r=Ee;break;case 268435456:r=ti;break;default:r=Ee}return c=km.bind(null,n),r=Vt(r,c),n.callbackPriority=i,n.callbackNode=r,i}return c!==null&&c!==null&&Tt(c),n.callbackPriority=2,n.callbackNode=null,2}function km(n,i){if(ke!==0&&ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(ml()&&n.callbackNode!==r)return null;var c=Pt;return c=Eo(n,n===Jt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(mm(n,c,i),Nm(n,jt()),n.callbackNode!=null&&n.callbackNode===r?km.bind(null,n):null)}function Pm(n,i){if(ml())return null;mm(n,i,!0)}function QA(){o1(function(){(Gt&6)!==0?Vt(nn,WA):Om()})}function wh(){return vs===0&&(vs=Cf()),vs}function zm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mo(""+n)}function jm(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function ZA(n,i,r,c,f){if(i==="submit"&&r&&r.stateNode===f){var m=zm((f[Xe]||null).action),A=c.submitter;A&&(i=(i=A[Xe]||null)?zm(i.formAction):A.getAttribute("formAction"),i!==null&&(m=i,A=null));var x=new No("action","action",null,c,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vs!==0){var M=A?jm(f,A):new FormData(f);Uu(r,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(x.preventDefault(),M=A?jm(f,A):new FormData(f),Uu(r,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var xh=0;xh<ou.length;xh++){var Eh=ou[xh],JA=Eh.toLowerCase(),t1=Eh[0].toUpperCase()+Eh.slice(1);Ln(JA,"on"+t1)}Ln(mp,"onAnimationEnd"),Ln(yp,"onAnimationIteration"),Ln(vp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(yA,"onTransitionRun"),Ln(vA,"onTransitionStart"),Ln(bA,"onTransitionCancel"),Ln(bp,"onTransitionEnd"),js("onMouseEnter",["mouseout","mouseover"]),js("onMouseLeave",["mouseout","mouseover"]),js("onPointerEnter",["pointerout","pointerover"]),js("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rr));function Im(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],f=c.event;c=c.listeners;t:{var m=void 0;if(i)for(var A=c.length-1;0<=A;A--){var x=c[A],M=x.instance,H=x.currentTarget;if(x=x.listener,M!==m&&f.isPropagationStopped())break t;m=x,f.currentTarget=H;try{m(f)}catch(K){al(K)}f.currentTarget=null,m=M}else for(A=0;A<c.length;A++){if(x=c[A],M=x.instance,H=x.currentTarget,x=x.listener,M!==m&&f.isPropagationStopped())break t;m=x,f.currentTarget=H;try{m(f)}catch(K){al(K)}f.currentTarget=null,m=M}}}}function Dt(n,i){var r=i[jc];r===void 0&&(r=i[jc]=new Set);var c=n+"__bubble";r.has(c)||(Fm(i,n,2,!1),r.add(c))}function _h(n,i,r){var c=0;i&&(c|=4),Fm(r,n,c,i)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Ch(n){if(!n[bl]){n[bl]=!0,Of.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||_h(r,!1,n),_h(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[bl]||(i[bl]=!0,_h("selectionchange",!1,i))}}function Fm(n,i,r,c){switch(c0(i)){case 2:var f=R1;break;case 8:f=M1;break;default:f=Bh}r=f.bind(null,i,r,n),f=void 0,!Xc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,r,{capture:!0,passive:f}):n.addEventListener(i,r,!0):f!==void 0?n.addEventListener(i,r,{passive:f}):n.addEventListener(i,r,!1)}function Th(n,i,r,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var x=c.stateNode.containerInfo;if(x===f)break;if(A===4)for(A=c.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;x!==null;){if(A=ks(x),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){c=m=A;continue t}x=x.parentNode}}c=c.return}$f(function(){var H=m,K=$c(r),J=[];t:{var q=Ap.get(n);if(q!==void 0){var V=No,At=n;switch(n){case"keypress":if(Do(r)===0)break t;case"keydown":case"keyup":V=Kb;break;case"focusin":At="focus",V=Zc;break;case"focusout":At="blur",V=Zc;break;case"beforeblur":case"afterblur":V=Zc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=jb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Zb;break;case mp:case yp:case vp:V=Bb;break;case bp:V=tA;break;case"scroll":case"scrollend":V=Pb;break;case"wheel":V=nA;break;case"copy":case"cut":case"paste":V=Ub;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Qf;break;case"toggle":case"beforetoggle":V=sA}var mt=(i&4)!==0,Kt=!mt&&(n==="scroll"||n==="scrollend"),I=mt?q!==null?q+"Capture":null:q;mt=[];for(var z=H,F;z!==null;){var W=z;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||I===null||(W=Ya(z,I),W!=null&&mt.push(Mr(z,W,F))),Kt)break;z=z.return}0<mt.length&&(q=new V(q,At,null,r,K),J.push({event:q,listeners:mt}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",q&&r!==Vc&&(At=r.relatedTarget||r.fromElement)&&(ks(At)||At[Ns]))break t;if((V||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,V?(At=r.relatedTarget||r.toElement,V=H,At=At?ks(At):null,At!==null&&(Kt=l(At),mt=At.tag,At!==Kt||mt!==5&&mt!==27&&mt!==6)&&(At=null)):(V=null,At=H),V!==At)){if(mt=Kf,W="onMouseLeave",I="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(mt=Qf,W="onPointerLeave",I="onPointerEnter",z="pointer"),Kt=V==null?q:$a(V),F=At==null?q:$a(At),q=new mt(W,z+"leave",V,r,K),q.target=Kt,q.relatedTarget=F,W=null,ks(K)===H&&(mt=new mt(I,z+"enter",At,r,K),mt.target=F,mt.relatedTarget=Kt,W=mt),Kt=W,V&&At)e:{for(mt=V,I=At,z=0,F=mt;F;F=pa(F))z++;for(F=0,W=I;W;W=pa(W))F++;for(;0<z-F;)mt=pa(mt),z--;for(;0<F-z;)I=pa(I),F--;for(;z--;){if(mt===I||I!==null&&mt===I.alternate)break e;mt=pa(mt),I=pa(I)}mt=null}else mt=null;V!==null&&Bm(J,q,V,mt,!1),At!==null&&Kt!==null&&Bm(J,Kt,At,mt,!0)}}t:{if(q=H?$a(H):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var ht=ap;else if(ip(q))if(rp)ht=pA;else{ht=dA;var Mt=hA}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&qc(H.elementType)&&(ht=ap):ht=fA;if(ht&&(ht=ht(n,H))){sp(J,ht,r,K);break t}Mt&&Mt(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Gc(q,"number",q.value)}switch(Mt=H?$a(H):window,n){case"focusin":(ip(Mt)||Mt.contentEditable==="true")&&(qs=Mt,su=H,er=null);break;case"focusout":er=su=qs=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,pp(J,r,K);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":pp(J,r,K)}var ft;if(tu)t:{switch(n){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Gs?ep(n,r)&&(yt="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(Zf&&r.locale!=="ko"&&(Gs||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Gs&&(ft=Yf()):(Ti=K,Kc="value"in Ti?Ti.value:Ti.textContent,Gs=!0)),Mt=Al(H,yt),0<Mt.length&&(yt=new Wf(yt,n,null,r,K),J.push({event:yt,listeners:Mt}),ft?yt.data=ft:(ft=np(r),ft!==null&&(yt.data=ft)))),(ft=rA?oA(n,r):lA(n,r))&&(yt=Al(H,"onBeforeInput"),0<yt.length&&(Mt=new Wf("onBeforeInput","beforeinput",null,r,K),J.push({event:Mt,listeners:yt}),Mt.data=ft)),ZA(J,n,H,r,K)}Im(J,i)})}function Mr(n,i,r){return{instance:n,listener:i,currentTarget:r}}function Al(n,i){for(var r=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ya(n,r),f!=null&&c.unshift(Mr(n,f,m)),f=Ya(n,i),f!=null&&c.push(Mr(n,f,m))),n.tag===3)return c;n=n.return}return[]}function pa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Bm(n,i,r,c,f){for(var m=i._reactName,A=[];r!==null&&r!==c;){var x=r,M=x.alternate,H=x.stateNode;if(x=x.tag,M!==null&&M===c)break;x!==5&&x!==26&&x!==27||H===null||(M=H,f?(H=Ya(r,m),H!=null&&A.unshift(Mr(r,H,M))):f||(H=Ya(r,m),H!=null&&A.push(Mr(r,H,M)))),r=r.return}A.length!==0&&n.push({event:i,listeners:A})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Hm(n){return(typeof n=="string"?n:""+n).replace(n1,`
`).replace(i1,"")}function Um(n,i){return i=Hm(i),Hm(n)===i}function Sl(){}function Xt(n,i,r,c,f,m){switch(r){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Bs(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Bs(n,""+c);break;case"className":Co(n,"class",c);break;case"tabIndex":Co(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(n,r,c);break;case"style":qf(n,c,m);break;case"data":if(i!=="object"){Co(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Mo(""+c),n.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&Xt(n,i,"name",f.name,f,null),Xt(n,i,"formEncType",f.formEncType,f,null),Xt(n,i,"formMethod",f.formMethod,f,null),Xt(n,i,"formTarget",f.formTarget,f,null)):(Xt(n,i,"encType",f.encType,f,null),Xt(n,i,"method",f.method,f,null),Xt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Mo(""+c),n.setAttribute(r,c);break;case"onClick":c!=null&&(n.onclick=Sl);break;case"onScroll":c!=null&&Dt("scroll",n);break;case"onScrollEnd":c!=null&&Dt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}r=Mo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""+c):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":c===!0?n.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,c):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(r,c):n.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(r):n.setAttribute(r,c);break;case"popover":Dt("beforetoggle",n),Dt("toggle",n),_o(n,"popover",c);break;case"xlinkActuate":ei(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ei(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ei(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ei(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ei(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ei(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ei(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ei(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ei(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_o(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nb.get(r)||r,_o(n,r,c))}}function Rh(n,i,r,c,f,m){switch(r){case"style":qf(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof c=="string"?Bs(n,c):(typeof c=="number"||typeof c=="bigint")&&Bs(n,""+c);break;case"onScroll":c!=null&&Dt("scroll",n);break;case"onScrollEnd":c!=null&&Dt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=n[Xe]||null,m=m!=null?m[r]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,c,f);break t}r in n?n[r]=c:c===!0?n.setAttribute(r,""):_o(n,r,c)}}}function Pe(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",n),Dt("load",n);var c=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var A=r[m];if(A!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(n,i,m,A,r,null)}}f&&Xt(n,i,"srcSet",r.srcSet,r,null),c&&Xt(n,i,"src",r.src,r,null);return;case"input":Dt("invalid",n);var x=m=A=f=null,M=null,H=null;for(c in r)if(r.hasOwnProperty(c)){var K=r[c];if(K!=null)switch(c){case"name":f=K;break;case"type":A=K;break;case"checked":M=K;break;case"defaultChecked":H=K;break;case"value":m=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Xt(n,i,c,K,r,null)}}Bf(n,m,x,M,H,A,f,!1),To(n);return;case"select":Dt("invalid",n),c=A=m=null;for(f in r)if(r.hasOwnProperty(f)&&(x=r[f],x!=null))switch(f){case"value":m=x;break;case"defaultValue":A=x;break;case"multiple":c=x;default:Xt(n,i,f,x,r,null)}i=m,r=A,n.multiple=!!c,i!=null?Fs(n,!!c,i,!1):r!=null&&Fs(n,!!c,r,!0);return;case"textarea":Dt("invalid",n),m=f=c=null;for(A in r)if(r.hasOwnProperty(A)&&(x=r[A],x!=null))switch(A){case"value":c=x;break;case"defaultValue":f=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Xt(n,i,A,x,r,null)}Uf(n,c,f,m),To(n);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(c=r[M],c!=null))switch(M){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Xt(n,i,M,c,r,null)}return;case"dialog":Dt("beforetoggle",n),Dt("toggle",n),Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":Dt("load",n);break;case"video":case"audio":for(c=0;c<Rr.length;c++)Dt(Rr[c],n);break;case"image":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"embed":case"source":case"link":Dt("error",n),Dt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(c=r[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(n,i,H,c,r,null)}return;default:if(qc(i)){for(K in r)r.hasOwnProperty(K)&&(c=r[K],c!==void 0&&Rh(n,i,K,c,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(c=r[x],c!=null&&Xt(n,i,x,c,r,null))}function s1(n,i,r,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,A=null,x=null,M=null,H=null,K=null;for(V in r){var J=r[V];if(r.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":M=J;default:c.hasOwnProperty(V)||Xt(n,i,V,null,c,J)}}for(var q in c){var V=c[q];if(J=r[q],c.hasOwnProperty(q)&&(V!=null||J!=null))switch(q){case"type":m=V;break;case"name":f=V;break;case"checked":H=V;break;case"defaultChecked":K=V;break;case"value":A=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==J&&Xt(n,i,q,V,c,J)}}Uc(n,A,x,M,H,K,m,f);return;case"select":V=A=x=q=null;for(m in r)if(M=r[m],r.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":V=M;default:c.hasOwnProperty(m)||Xt(n,i,m,null,c,M)}for(f in c)if(m=c[f],M=r[f],c.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":q=m;break;case"defaultValue":x=m;break;case"multiple":A=m;default:m!==M&&Xt(n,i,f,m,c,M)}i=x,r=A,c=V,q!=null?Fs(n,!!r,q,!1):!!c!=!!r&&(i!=null?Fs(n,!!r,i,!0):Fs(n,!!r,r?[]:"",!1));return;case"textarea":V=q=null;for(x in r)if(f=r[x],r.hasOwnProperty(x)&&f!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Xt(n,i,x,null,c,f)}for(A in c)if(f=c[A],m=r[A],c.hasOwnProperty(A)&&(f!=null||m!=null))switch(A){case"value":q=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Xt(n,i,A,f,c,m)}Hf(n,q,V);return;case"option":for(var At in r)if(q=r[At],r.hasOwnProperty(At)&&q!=null&&!c.hasOwnProperty(At))switch(At){case"selected":n.selected=!1;break;default:Xt(n,i,At,null,c,q)}for(M in c)if(q=c[M],V=r[M],c.hasOwnProperty(M)&&q!==V&&(q!=null||V!=null))switch(M){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(n,i,M,q,c,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)q=r[mt],r.hasOwnProperty(mt)&&q!=null&&!c.hasOwnProperty(mt)&&Xt(n,i,mt,null,c,q);for(H in c)if(q=c[H],V=r[H],c.hasOwnProperty(H)&&q!==V&&(q!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Xt(n,i,H,q,c,V)}return;default:if(qc(i)){for(var Kt in r)q=r[Kt],r.hasOwnProperty(Kt)&&q!==void 0&&!c.hasOwnProperty(Kt)&&Rh(n,i,Kt,void 0,c,q);for(K in c)q=c[K],V=r[K],!c.hasOwnProperty(K)||q===V||q===void 0&&V===void 0||Rh(n,i,K,q,c,V);return}}for(var I in r)q=r[I],r.hasOwnProperty(I)&&q!=null&&!c.hasOwnProperty(I)&&Xt(n,i,I,null,c,q);for(J in c)q=c[J],V=r[J],!c.hasOwnProperty(J)||q===V||q==null&&V==null||Xt(n,i,J,q,c,V)}var Mh=null,Lh=null;function wl(n){return n.nodeType===9?n:n.ownerDocument}function Gm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Dh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Oh=null;function a1(){var n=window.event;return n&&n.type==="popstate"?n===Oh?!1:(Oh=n,!0):(Oh=null,!1)}var Vm=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(n){return $m.resolve(null).then(n).catch(l1)}:Vm;function l1(n){setTimeout(function(){throw n})}function Gi(n){return n==="head"}function Ym(n,i){var r=i,c=0,f=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<c&&8>c){r=c;var A=n.ownerDocument;if(r&1&&Lr(A.documentElement),r&2&&Lr(A.body),r&4)for(r=A.head,Lr(r),A=r.firstChild;A;){var x=A.nextSibling,M=A.nodeName;A[Va]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||r.removeChild(A),A=x}}if(f===0){n.removeChild(m),Ir(i);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:c=r.charCodeAt(0)-48;else c=0;r=m}while(r);Ir(i)}function Nh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nh(r),Ic(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function c1(n,i,r,c){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Va])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=On(n.nextSibling),n===null)break}return null}function u1(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=On(n.nextSibling),n===null))return null;return n}function kh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function h1(n,i){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")i();else{var c=function(){i(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function On(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Ph=null;function Xm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function Km(n,i,r){switch(i=wl(r),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Lr(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ic(n)}var _n=new Map,Wm=new Set;function xl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var gi=B.d;B.d={f:d1,r:f1,D:p1,C:g1,L:m1,m:y1,X:b1,S:v1,M:A1};function d1(){var n=gi.f(),i=pl();return n||i}function f1(n){var i=Ps(n);i!==null&&i.tag===5&&i.type==="form"?mg(i):gi.r(n)}var ga=typeof document>"u"?null:document;function Qm(n,i,r){var c=ga;if(c&&typeof i=="string"&&i){var f=vn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Wm.has(f)||(Wm.add(f),n={rel:n,crossOrigin:r,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Pe(i,"link",n),Ce(i),c.head.appendChild(i)))}}function p1(n){gi.D(n),Qm("dns-prefetch",n,null)}function g1(n,i){gi.C(n,i),Qm("preconnect",n,i)}function m1(n,i,r){gi.L(n,i,r);var c=ga;if(c&&n&&i){var f='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+vn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+vn(r.imageSizes)+'"]')):f+='[href="'+vn(n)+'"]';var m=f;switch(i){case"style":m=ma(n);break;case"script":m=ya(n)}_n.has(m)||(n=g({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),_n.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Dr(m))||i==="script"&&c.querySelector(Or(m))||(i=c.createElement("link"),Pe(i,"link",n),Ce(i),c.head.appendChild(i)))}}function y1(n,i){gi.m(n,i);var r=ga;if(r&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ya(n)}if(!_n.has(m)&&(n=g({rel:"modulepreload",href:n},i),_n.set(m,n),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Or(m)))return}c=r.createElement("link"),Pe(c,"link",n),Ce(c),r.head.appendChild(c)}}}function v1(n,i,r){gi.S(n,i,r);var c=ga;if(c&&n){var f=zs(c).hoistableStyles,m=ma(n);i=i||"default";var A=f.get(m);if(!A){var x={loading:0,preload:null};if(A=c.querySelector(Dr(m)))x.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},r),(r=_n.get(m))&&zh(n,r);var M=A=c.createElement("link");Ce(M),Pe(M,"link",n),M._p=new Promise(function(H,K){M.onload=H,M.onerror=K}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,El(A,i,c)}A={type:"stylesheet",instance:A,count:1,state:x},f.set(m,A)}}}function b1(n,i){gi.X(n,i);var r=ga;if(r&&n){var c=zs(r).hoistableScripts,f=ya(n),m=c.get(f);m||(m=r.querySelector(Or(f)),m||(n=g({src:n,async:!0},i),(i=_n.get(f))&&jh(n,i),m=r.createElement("script"),Ce(m),Pe(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function A1(n,i){gi.M(n,i);var r=ga;if(r&&n){var c=zs(r).hoistableScripts,f=ya(n),m=c.get(f);m||(m=r.querySelector(Or(f)),m||(n=g({src:n,async:!0,type:"module"},i),(i=_n.get(f))&&jh(n,i),m=r.createElement("script"),Ce(m),Pe(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Zm(n,i,r,c){var f=(f=ot.current)?xl(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=ma(r.href),r=zs(f).hoistableStyles,c=r.get(i),c||(c={type:"style",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=ma(r.href);var m=zs(f).hoistableStyles,A=m.get(n);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,A),(m=f.querySelector(Dr(n)))&&!m._p&&(A.instance=m,A.state.loading=5),_n.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_n.set(n,r),m||S1(f,n,r,A.state))),i&&c===null)throw Error(s(528,""));return A}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ya(r),r=zs(f).hoistableScripts,c=r.get(i),c||(c={type:"script",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ma(n){return'href="'+vn(n)+'"'}function Dr(n){return'link[rel="stylesheet"]['+n+"]"}function Jm(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function S1(n,i,r,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Pe(i,"link",r),Ce(i),n.head.appendChild(i))}function ya(n){return'[src="'+vn(n)+'"]'}function Or(n){return"script[async]"+n}function t0(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+vn(r.href)+'"]');if(c)return i.instance=c,Ce(c),c;var f=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ce(c),Pe(c,"style",f),El(c,r.precedence,n),i.instance=c;case"stylesheet":f=ma(r.href);var m=n.querySelector(Dr(f));if(m)return i.state.loading|=4,i.instance=m,Ce(m),m;c=Jm(r),(f=_n.get(f))&&zh(c,f),m=(n.ownerDocument||n).createElement("link"),Ce(m);var A=m;return A._p=new Promise(function(x,M){A.onload=x,A.onerror=M}),Pe(m,"link",c),i.state.loading|=4,El(m,r.precedence,n),i.instance=m;case"script":return m=ya(r.src),(f=n.querySelector(Or(m)))?(i.instance=f,Ce(f),f):(c=r,(f=_n.get(m))&&(c=g({},r),jh(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ce(f),Pe(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,El(c,r.precedence,n));return i.instance}function El(n,i,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,A=0;A<c.length;A++){var x=c[A];if(x.dataset.precedence===i)m=x;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function zh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function jh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var _l=null;function e0(n,i,r){if(_l===null){var c=new Map,f=_l=new Map;f.set(r,c)}else f=_l,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(n))return c;for(c.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var m=r[f];if(!(m[Va]||m[je]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(i)||"";A=n+A;var x=c.get(A);x?x.push(m):c.set(A,[m])}}return c}function n0(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function w1(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function i0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Nr=null;function x1(){}function E1(n,i,r){if(Nr===null)throw Error(s(475));var c=Nr;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ma(r.href),m=n.querySelector(Dr(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Cl.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,Ce(m);return}m=n.ownerDocument||n,r=Jm(r),(f=_n.get(f))&&zh(r,f),m=m.createElement("link"),Ce(m);var A=m;A._p=new Promise(function(x,M){A.onload=x,A.onerror=M}),Pe(m,"link",r),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Cl.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function _1(){if(Nr===null)throw Error(s(475));var n=Nr;return n.stylesheets&&n.count===0&&Ih(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&Ih(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function Cl(){if(this.count--,this.count===0){if(this.stylesheets)Ih(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tl=null;function Ih(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tl=new Map,i.forEach(C1,n),Tl=null,Cl.call(n))}function C1(n,i){if(!(i.state.loading&4)){var r=Tl.get(n);if(r)var c=r.get(null);else{r=new Map,Tl.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var A=f[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(r.set(A.dataset.precedence,A),c=A)}c&&r.set(null,c)}f=i.instance,A=f.getAttribute("data-precedence"),m=r.get(A)||c,m===c&&r.set(null,f),r.set(A,f),this.count++,c=Cl.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var kr={$$typeof:T,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function T1(n,i,r,c,f,m,A,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function s0(n,i,r,c,f,m,A,x,M,H,K,J){return n=new T1(n,i,r,A,x,M,H,J),i=1,m===!0&&(i|=24),m=rn(3,null,null,i),n.current=m,m.stateNode=n,i=bu(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:i},xu(m),n}function a0(n){return n?(n=Xs,n):Xs}function r0(n,i,r,c,f,m){f=a0(f),c.context===null?c.context=f:c.pendingContext=f,c=Li(i),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=Di(n,c,i),r!==null&&(hn(r,n,i),ur(r,n,i))}function o0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function Fh(n,i){o0(n,i),(n=n.alternate)&&o0(n,i)}function l0(n){if(n.tag===13){var i=Ys(n,67108864);i!==null&&hn(i,n,67108864),Fh(n,67108864)}}var Rl=!0;function R1(n,i,r,c){var f=O.T;O.T=null;var m=B.p;try{B.p=2,Bh(n,i,r,c)}finally{B.p=m,O.T=f}}function M1(n,i,r,c){var f=O.T;O.T=null;var m=B.p;try{B.p=8,Bh(n,i,r,c)}finally{B.p=m,O.T=f}}function Bh(n,i,r,c){if(Rl){var f=Hh(c);if(f===null)Th(n,i,c,Ml,r),u0(n,c);else if(D1(f,n,i,r,c))c.stopPropagation();else if(u0(n,c),i&4&&-1<L1.indexOf(n)){for(;f!==null;){var m=Ps(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=es(m.pendingLanes);if(A!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;A;){var M=1<<31-_e(A);x.entanglements[1]|=M,A&=~M}Un(m),(Gt&6)===0&&(dl=jt()+500,Tr(0))}}break;case 13:x=Ys(m,2),x!==null&&hn(x,m,2),pl(),Fh(m,2)}if(m=Hh(c),m===null&&Th(n,i,c,Ml,r),m===f)break;f=m}f!==null&&c.stopPropagation()}else Th(n,i,c,null,r)}}function Hh(n){return n=$c(n),Uh(n)}var Ml=null;function Uh(n){if(Ml=null,n=ks(n),n!==null){var i=l(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=u(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ml=n,null}function c0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case nn:return 2;case _i:return 8;case Ee:case mn:return 32;case ti:return 268435456;default:return 32}default:return 32}}var Gh=!1,qi=null,Vi=null,$i=null,Pr=new Map,zr=new Map,Yi=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(n,i){switch(n){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Pr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(i.pointerId)}}function jr(n,i,r,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ps(i),i!==null&&l0(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function D1(n,i,r,c,f){switch(i){case"focusin":return qi=jr(qi,n,i,r,c,f),!0;case"dragenter":return Vi=jr(Vi,n,i,r,c,f),!0;case"mouseover":return $i=jr($i,n,i,r,c,f),!0;case"pointerover":var m=f.pointerId;return Pr.set(m,jr(Pr.get(m)||null,n,i,r,c,f)),!0;case"gotpointercapture":return m=f.pointerId,zr.set(m,jr(zr.get(m)||null,n,i,r,c,f)),!0}return!1}function h0(n){var i=ks(n.target);if(i!==null){var r=l(i);if(r!==null){if(i=r.tag,i===13){if(i=u(r),i!==null){n.blockedOn=i,Eb(n.priority,function(){if(r.tag===13){var c=un();c=Pc(c);var f=Ys(r,c);f!==null&&hn(f,r,c),Fh(r,c)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ll(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Hh(n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);Vc=c,r.target.dispatchEvent(c),Vc=null}else return i=Ps(r),i!==null&&l0(i),n.blockedOn=r,!1;i.shift()}return!0}function d0(n,i,r){Ll(n)&&r.delete(i)}function O1(){Gh=!1,qi!==null&&Ll(qi)&&(qi=null),Vi!==null&&Ll(Vi)&&(Vi=null),$i!==null&&Ll($i)&&($i=null),Pr.forEach(d0),zr.forEach(d0)}function Dl(n,i){n.blockedOn===i&&(n.blockedOn=null,Gh||(Gh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,O1)))}var Ol=null;function f0(n){Ol!==n&&(Ol=n,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ol===n&&(Ol=null);for(var i=0;i<n.length;i+=3){var r=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(Uh(c||r)===null)continue;break}var m=Ps(r);m!==null&&(n.splice(i,3),i-=3,Uu(m,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function Ir(n){function i(M){return Dl(M,n)}qi!==null&&Dl(qi,n),Vi!==null&&Dl(Vi,n),$i!==null&&Dl($i,n),Pr.forEach(i),zr.forEach(i);for(var r=0;r<Yi.length;r++){var c=Yi[r];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)h0(r),r.blockedOn===null&&Yi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],m=r[c+1],A=f[Xe]||null;if(typeof m=="function")A||f0(r);else if(A){var x=null;if(m&&m.hasAttribute("formAction")){if(f=m,A=m[Xe]||null)x=A.formAction;else if(Uh(f)!==null)continue}else x=A.action;typeof x=="function"?r[c+1]=x:(r.splice(c,3),c-=3),f0(r)}}}function qh(n){this._internalRoot=n}Nl.prototype.render=qh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,c=un();r0(r,c,n,i,null,null)},Nl.prototype.unmount=qh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;r0(n.current,2,null,n,null,null),pl(),i[Ns]=null}};function Nl(n){this._internalRoot=n}Nl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Lf();n={blockedOn:null,target:n,priority:i};for(var r=0;r<Yi.length&&i!==0&&i<Yi[r].priority;r++);Yi.splice(r,0,n),r===0&&h0(n)}};var p0=t.version;if(p0!=="19.1.1")throw Error(s(527,p0,"19.1.1"));B.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var N1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{ts=kl.inject(N1),ge=kl}catch{}}return Br.createRoot=function(n,i){if(!a(n))throw Error(s(299));var r=!1,c="",f=Lg,m=Dg,A=Og,x=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=s0(n,1,!1,null,null,r,c,f,m,A,x,null),n[Ns]=i.current,Ch(n),new qh(i)},Br.hydrateRoot=function(n,i,r){if(!a(n))throw Error(s(299));var c=!1,f="",m=Lg,A=Dg,x=Og,M=null,H=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(H=r.formState)),i=s0(n,1,!0,i,r??null,c,f,m,A,x,M,H),i.context=a0(null),r=i.current,c=un(),c=Pc(c),f=Li(c),f.callback=null,Di(r,f,c),r=c,i.current.lanes=r,qa(i,r),Un(i),n[Ns]=i.current,Ch(n),new Nl(i)},Br.version="19.1.1",Br}var C0;function G1(){if(C0)return Xh.exports;C0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Xh.exports=U1(),Xh.exports}var q1=G1();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T0="popstate";function V1(o={}){function t(a,l){let{pathname:u="/",search:h="",hash:d=""}=Ls(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),wd("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:to(l))}function s(a,l){Pn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Y1(t,e,s,o)}function re(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function Pn(o,t){if(!o){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $1(){return Math.random().toString(36).substring(2,10)}function R0(o,t){return{usr:o.state,key:o.key,idx:t}}function wd(o,t,e=null,s){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof t=="string"?Ls(t):t,state:e,key:t&&t.key||s||$1()}}function to({pathname:o="/",search:t="",hash:e=""}){return t&&t!=="?"&&(o+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(o+=e.charAt(0)==="#"?e:"#"+e),o}function Ls(o){let t={};if(o){let e=o.indexOf("#");e>=0&&(t.hash=o.substring(e),o=o.substring(0,e));let s=o.indexOf("?");s>=0&&(t.search=o.substring(s),o=o.substring(0,s)),o&&(t.pathname=o)}return t}function Y1(o,t,e,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let C=g(),E=C==null?null:C-p;p=C,d&&d({action:h,location:w.location,delta:E})}function v(C,E){h="PUSH";let L=wd(w.location,C,E);e&&e(L,C),p=g()+1;let T=R0(L,p),D=w.createHref(L);try{u.pushState(T,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(D)}l&&d&&d({action:h,location:w.location,delta:1})}function b(C,E){h="REPLACE";let L=wd(w.location,C,E);e&&e(L,C),p=g();let T=R0(L,p),D=w.createHref(L);u.replaceState(T,"",D),l&&d&&d({action:h,location:w.location,delta:0})}function S(C){return X1(C)}let w={get action(){return h},get location(){return o(a,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(T0,y),d=C,()=>{a.removeEventListener(T0,y),d=null}},createHref(C){return t(a,C)},createURL:S,encodeLocation(C){let E=S(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:b,go(C){return u.go(C)}};return w}function X1(o,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),re(e,"No window.location.(origin|href) available to create URL");let s=typeof o=="string"?o:to(o);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function Oy(o,t,e="/"){return K1(o,t,e,!1)}function K1(o,t,e,s){let a=typeof t=="string"?Ls(t):t,l=wi(a.pathname||"/",e);if(l==null)return null;let u=Ny(o);W1(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=oS(l);h=aS(u[d],p,s)}return h}function Ny(o,t=[],e=[],s=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(re(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let p=Si([s,d.relativePath]),g=e.concat(d);l.children&&l.children.length>0&&(re(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Ny(l.children,t,g,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:iS(p,l.index),routesMeta:g})};return o.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let h of ky(l.path))a(l,u,h)}),t}function ky(o){let t=o.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=ky(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>o.startsWith("/")&&d===""?"/":d)}function W1(o){o.sort((t,e)=>t.score!==e.score?e.score-t.score:sS(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var Q1=/^:[\w-]+$/,Z1=3,J1=2,tS=1,eS=10,nS=-2,M0=o=>o==="*";function iS(o,t){let e=o.split("/"),s=e.length;return e.some(M0)&&(s+=nS),t&&(s+=J1),e.filter(a=>!M0(a)).reduce((a,l)=>a+(Q1.test(l)?Z1:l===""?tS:eS),s)}function sS(o,t){return o.length===t.length&&o.slice(0,-1).every((s,a)=>s===t[a])?o[o.length-1]-t[t.length-1]:0}function aS(o,t,e=!1){let{routesMeta:s}=o,a={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,g=l==="/"?t:t.slice(l.length)||"/",y=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!y&&p&&e&&!s[s.length-1].route.index&&(y=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:Si([l,y.pathname]),pathnameBase:hS(Si([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Si([l,y.pathnameBase]))}return u}function ic(o,t){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[e,s]=rS(o.path,o.caseSensitive,o.end),a=t.match(e);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let S=h[v]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const b=h[v];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:o}}function rS(o,t=!1,e=!0){Pn(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let s=[],a="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(s.push({paramName:"*"}),a+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":o!==""&&o!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function oS(o){try{return o.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),o}}function wi(o,t){if(t==="/")return o;if(!o.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=o.charAt(e);return s&&s!=="/"?null:o.slice(e)||"/"}function lS(o,t="/"){let{pathname:e,search:s="",hash:a=""}=typeof o=="string"?Ls(o):o;return{pathname:e?e.startsWith("/")?e:cS(e,t):t,search:dS(s),hash:fS(a)}}function cS(o,t){let e=t.replace(/\/+$/,"").split("/");return o.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Zh(o,t,e,s){return`Cannot include a '${o}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uS(o){return o.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Py(o){let t=uS(o);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function zy(o,t,e,s=!1){let a;typeof o=="string"?a=Ls(o):(a={...o},re(!a.pathname||!a.pathname.includes("?"),Zh("?","pathname","search",a)),re(!a.pathname||!a.pathname.includes("#"),Zh("#","pathname","hash",a)),re(!a.search||!a.search.includes("#"),Zh("#","search","hash",a)));let l=o===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=e;else{let y=t.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}h=y>=0?t[y]:"/"}let d=lS(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Si=o=>o.join("/").replace(/\/\/+/g,"/"),hS=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),dS=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,fS=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function pS(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var jy=["POST","PUT","PATCH","DELETE"];new Set(jy);var gS=["GET",...jy];new Set(gS);var Ia=P.createContext(null);Ia.displayName="DataRouter";var gc=P.createContext(null);gc.displayName="DataRouterState";P.createContext(!1);var Iy=P.createContext({isTransitioning:!1});Iy.displayName="ViewTransition";var mS=P.createContext(new Map);mS.displayName="Fetchers";var yS=P.createContext(null);yS.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var oo=P.createContext(null);oo.displayName="Location";var jn=P.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Gd=P.createContext(null);Gd.displayName="RouteError";function vS(o,{relative:t}={}){re(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=P.useContext(Zn),{hash:a,pathname:l,search:u}=co(o,{relative:t}),h=l;return e!=="/"&&(h=l==="/"?e:Si([e,l])),s.createHref({pathname:h,search:u,hash:a})}function lo(){return P.useContext(oo)!=null}function Jn(){return re(lo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(oo).location}var Fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function By(o){P.useContext(Zn).static||P.useLayoutEffect(o)}function Hy(){let{isDataRoute:o}=P.useContext(jn);return o?kS():bS()}function bS(){re(lo(),"useNavigate() may be used only in the context of a <Router> component.");let o=P.useContext(Ia),{basename:t,navigator:e}=P.useContext(Zn),{matches:s}=P.useContext(jn),{pathname:a}=Jn(),l=JSON.stringify(Py(s)),u=P.useRef(!1);return By(()=>{u.current=!0}),P.useCallback((d,p={})=>{if(Pn(u.current,Fy),!u.current)return;if(typeof d=="number"){e.go(d);return}let g=zy(d,JSON.parse(l),a,p.relative==="path");o==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Si([t,g.pathname])),(p.replace?e.replace:e.push)(g,p.state,p)},[t,e,l,a,o])}var AS=P.createContext(null);function SS(o){let t=P.useContext(jn).outlet;return t&&P.createElement(AS.Provider,{value:o},t)}function wS(){let{matches:o}=P.useContext(jn),t=o[o.length-1];return t?t.params:{}}function co(o,{relative:t}={}){let{matches:e}=P.useContext(jn),{pathname:s}=Jn(),a=JSON.stringify(Py(e));return P.useMemo(()=>zy(o,JSON.parse(a),s,t==="path"),[o,a,s,t])}function xS(o,t){return Uy(o,t)}function Uy(o,t,e,s){re(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Zn),{matches:l}=P.useContext(jn),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";Gy(d,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Jn(),v;if(t){let E=typeof t=="string"?Ls(t):t;re(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let b=v.pathname||"/",S=b;if(p!=="/"){let E=p.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=Oy(o,{pathname:S});Pn(g||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=RS(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Si([p,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Si([p,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,e,s);return t&&C?P.createElement(oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function ES(){let o=NS(),t=pS(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),e=o instanceof Error?o.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",o),u=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),e?P.createElement("pre",{style:a},e):null,u)}var _S=P.createElement(ES,null),CS=class extends P.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,t){return t.location!==o.location||t.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:t.error,location:t.location,revalidation:o.revalidation||t.revalidation}}componentDidCatch(o,t){console.error("React Router caught the following error during render",o,t)}render(){return this.state.error!==void 0?P.createElement(jn.Provider,{value:this.props.routeContext},P.createElement(Gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TS({routeContext:o,match:t,children:e}){let s=P.useContext(Ia);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(jn.Provider,{value:o},e)}function RS(o,t=[],e=null,s=null){if(o==null){if(!e)return null;if(e.errors)o=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)o=e.matches;else return null}let a=o,l=e?.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);re(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(e)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=e,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,v=!1,b=null,S=null;e&&(y=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||_S,u&&(h<0&&g===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):h===g&&(v=!0,S=p.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,g+1)),C=()=>{let E;return y?E=b:v?E=S:p.route.Component?E=P.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=d,P.createElement(TS,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:e!=null},children:E})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(CS,{location:e.location,revalidation:e.revalidation,component:b,error:y,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function qd(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(o){let t=P.useContext(Ia);return re(t,qd(o)),t}function LS(o){let t=P.useContext(gc);return re(t,qd(o)),t}function DS(o){let t=P.useContext(jn);return re(t,qd(o)),t}function Vd(o){let t=DS(o),e=t.matches[t.matches.length-1];return re(e.route.id,`${o} can only be used on routes that contain a unique "id"`),e.route.id}function OS(){return Vd("useRouteId")}function NS(){let o=P.useContext(Gd),t=LS("useRouteError"),e=Vd("useRouteError");return o!==void 0?o:t.errors?.[e]}function kS(){let{router:o}=MS("useNavigate"),t=Vd("useNavigate"),e=P.useRef(!1);return By(()=>{e.current=!0}),P.useCallback(async(a,l={})=>{Pn(e.current,Fy),e.current&&(typeof a=="number"?o.navigate(a):await o.navigate(a,{fromRouteId:t,...l}))},[o,t])}var L0={};function Gy(o,t,e){!t&&!L0[o]&&(L0[o]=!0,Pn(!1,e))}P.memo(PS);function PS({routes:o,future:t,state:e}){return Uy(o,void 0,e,t)}function zS(o){return SS(o.context)}function mi(o){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jS({basename:o="/",children:t=null,location:e,navigationType:s="POP",navigator:a,static:l=!1}){re(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=o.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof e=="string"&&(e=Ls(e));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:v="default"}=e,b=P.useMemo(()=>{let S=wi(d,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:v},navigationType:s}},[u,d,p,g,y,v,s]);return Pn(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Zn.Provider,{value:h},P.createElement(oo.Provider,{children:t,value:b}))}function IS({children:o,location:t}){return xS(xd(o),t)}function xd(o,t=[]){let e=[];return P.Children.forEach(o,(s,a)=>{if(!P.isValidElement(s))return;let l=[...t,a];if(s.type===P.Fragment){e.push.apply(e,xd(s.props.children,l));return}re(s.type===mi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=xd(s.props.children,l)),e.push(u)}),e}var Yl="get",Xl="application/x-www-form-urlencoded";function mc(o){return o!=null&&typeof o.tagName=="string"}function FS(o){return mc(o)&&o.tagName.toLowerCase()==="button"}function BS(o){return mc(o)&&o.tagName.toLowerCase()==="form"}function HS(o){return mc(o)&&o.tagName.toLowerCase()==="input"}function US(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function GS(o,t){return o.button===0&&(!t||t==="_self")&&!US(o)}var Pl=null;function qS(){if(Pl===null)try{new FormData(document.createElement("form"),0),Pl=!1}catch{Pl=!0}return Pl}var VS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jh(o){return o!=null&&!VS.has(o)?(Pn(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xl}"`),null):o}function $S(o,t){let e,s,a,l,u;if(BS(o)){let h=o.getAttribute("action");s=h?wi(h,t):null,e=o.getAttribute("method")||Yl,a=Jh(o.getAttribute("enctype"))||Xl,l=new FormData(o)}else if(FS(o)||HS(o)&&(o.type==="submit"||o.type==="image")){let h=o.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=o.getAttribute("formaction")||h.getAttribute("action");if(s=d?wi(d,t):null,e=o.getAttribute("formmethod")||h.getAttribute("method")||Yl,a=Jh(o.getAttribute("formenctype"))||Jh(h.getAttribute("enctype"))||Xl,l=new FormData(h,o),!qS()){let{name:p,type:g,value:y}=o;if(g==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,y)}}else{if(mc(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Yl,s=null,a=Xl,u=o}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:e.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $d(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function YS(o,t,e){let s=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return s.pathname==="/"?s.pathname=`_root.${e}`:t&&wi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function XS(o,t){if(o.id in t)return t[o.id];try{let e=await import(o.module);return t[o.id]=e,e}catch(e){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KS(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function WS(o,t,e){let s=await Promise.all(o.map(async a=>{let l=t.routes[a.route.id];if(l){let u=await XS(l,e);return u.links?u.links():[]}return[]}));return tw(s.flat(1).filter(KS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function D0(o,t,e,s,a,l){let u=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,h=(d,p)=>e[p].pathname!==d.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?t.filter((d,p)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function QS(o,t,{includeHydrateFallback:e}={}){return ZS(o.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZS(o){return[...new Set(o)]}function JS(o){let t={},e=Object.keys(o).sort();for(let s of e)t[s]=o[s];return t}function tw(o,t){let e=new Set;return new Set(t),o.reduce((s,a)=>{let l=JSON.stringify(JS(a));return e.has(l)||(e.add(l),s.push({key:l,link:a})),s},[])}function qy(){let o=P.useContext(Ia);return $d(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function ew(){let o=P.useContext(gc);return $d(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Yd=P.createContext(void 0);Yd.displayName="FrameworkContext";function Vy(){let o=P.useContext(Yd);return $d(o,"You must render this element inside a <HydratedRouter> element"),o}function nw(o,t){let e=P.useContext(Yd),[s,a]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,v=P.useRef(null);P.useEffect(()=>{if(o==="render"&&u(!0),o==="viewport"){let w=E=>{E.forEach(L=>{u(L.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[o]),P.useEffect(()=>{if(s){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[s]);let b=()=>{a(!0)},S=()=>{a(!1),u(!1)};return e?o!=="intent"?[l,v,{}]:[l,v,{onFocus:Hr(h,b),onBlur:Hr(d,S),onMouseEnter:Hr(p,b),onMouseLeave:Hr(g,S),onTouchStart:Hr(y,b)}]:[!1,v,{}]}function Hr(o,t){return e=>{o&&o(e),e.defaultPrevented||t(e)}}function iw({page:o,...t}){let{router:e}=qy(),s=P.useMemo(()=>Oy(e.routes,o,e.basename),[e.routes,o,e.basename]);return s?P.createElement(aw,{page:o,matches:s,...t}):null}function sw(o){let{manifest:t,routeModules:e}=Vy(),[s,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return WS(o,t,e).then(u=>{l||a(u)}),()=>{l=!0}},[o,t,e]),s}function aw({page:o,matches:t,...e}){let s=Jn(),{manifest:a,routeModules:l}=Vy(),{basename:u}=qy(),{loaderData:h,matches:d}=ew(),p=P.useMemo(()=>D0(o,t,d,a,s,"data"),[o,t,d,a,s]),g=P.useMemo(()=>D0(o,t,d,a,s,"assets"),[o,t,d,a,s]),y=P.useMemo(()=>{if(o===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(t.forEach(E=>{let L=a.routes[E.route.id];!L||!L.hasLoader||(!p.some(T=>T.route.id===E.route.id)&&E.route.id in h&&l[E.route.id]?.shouldRevalidate||L.hasClientLoader?w=!0:S.add(E.route.id))}),S.size===0)return[];let C=YS(o,u,"data");return w&&S.size>0&&C.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[u,h,s,a,p,t,o,l]),v=P.useMemo(()=>QS(g,a),[g,a]),b=sw(g);return P.createElement(P.Fragment,null,y.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),v.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),b.map(({key:S,link:w})=>P.createElement("link",{key:S,nonce:e.nonce,...w})))}function rw(...o){return t=>{o.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var $y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$y&&(window.__reactRouterVersion="7.8.0")}catch{}function ow({basename:o,children:t,window:e}){let s=P.useRef();s.current==null&&(s.current=V1({window:e,v5Compat:!0}));let a=s.current,[l,u]=P.useState({action:a.action,location:a.location}),h=P.useCallback(d=>{P.startTransition(()=>u(d))},[u]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.createElement(jS,{basename:o,children:t,location:l.location,navigationType:l.action,navigator:a})}var Yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=P.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,...v},b){let{basename:S}=P.useContext(Zn),w=typeof p=="string"&&Yy.test(p),C,E=!1;if(typeof p=="string"&&w&&(C=p,$y))try{let Y=new URL(window.location.href),it=p.startsWith("//")?new URL(Y.protocol+p):new URL(p),nt=wi(it.pathname,S);it.origin===Y.origin&&nt!=null?p=nt+it.search+it.hash:E=!0}catch{Pn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=vS(p,{relative:a}),[T,D,R]=nw(s,v),j=hw(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function k(Y){t&&t(Y),Y.defaultPrevented||j(Y)}let X=P.createElement("a",{...v,...R,href:C||L,onClick:E||l?t:k,ref:rw(b,D),target:d,"data-discover":!w&&e==="render"?"true":void 0});return T&&!w?P.createElement(P.Fragment,null,X,P.createElement(iw,{page:L})):X});bi.displayName="Link";var lw=P.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},g){let y=co(u,{relative:p.relative}),v=Jn(),b=P.useContext(gc),{navigator:S,basename:w}=P.useContext(Zn),C=b!=null&&mw(y)&&h===!0,E=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,L=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(L=L.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&w&&(T=wi(T,w)||T);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let R=L===E||!a&&L.startsWith(E)&&L.charAt(D)==="/",j=T!=null&&(T===E||!a&&T.startsWith(E)&&T.charAt(E.length)==="/"),k={isActive:R,isPending:j,isTransitioning:C},X=R?t:void 0,Y;typeof s=="function"?Y=s(k):Y=[s,R?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let it=typeof l=="function"?l(k):l;return P.createElement(bi,{...p,"aria-current":X,className:Y,ref:g,style:it,to:u,viewTransition:h},typeof d=="function"?d(k):d)});lw.displayName="NavLink";var cw=P.forwardRef(({discover:o="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:a,state:l,method:u=Yl,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...v},b)=>{let S=pw(),w=gw(h,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&Yy.test(h),L=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,R=D?.getAttribute("formmethod")||u;S(D||T.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:a,state:l,relative:p,preventScrollReset:g,viewTransition:y})};return P.createElement("form",{ref:b,method:C,action:w,onSubmit:s?d:L,...v,"data-discover":!E&&o==="render"?"true":void 0})});cw.displayName="Form";function uw(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xy(o){let t=P.useContext(Ia);return re(t,uw(o)),t}function hw(o,{target:t,replace:e,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Hy(),d=Jn(),p=co(o,{relative:l});return P.useCallback(g=>{if(GS(g,t)){g.preventDefault();let y=e!==void 0?e:to(d)===to(p);h(o,{replace:y,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,e,s,t,o,a,l,u])}var dw=0,fw=()=>`__${String(++dw)}__`;function pw(){let{router:o}=Xy("useSubmit"),{basename:t}=P.useContext(Zn),e=OS();return P.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=$S(s,t);if(a.navigate===!1){let g=a.fetcherKey||fw();await o.fetch(g,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await o.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[o,t,e])}function gw(o,{relative:t}={}){let{basename:e}=P.useContext(Zn),s=P.useContext(jn);re(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...co(o||".",{relative:t})},u=Jn();if(o==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();l.search=g?`?${g}`:""}}return(!o||o===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Si([e,l.pathname])),to(l)}function mw(o,{relative:t}={}){let e=P.useContext(Iy);re(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Xy("useViewTransitionState"),a=co(o,{relative:t});if(!e.isTransitioning)return!1;let l=wi(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=wi(e.nextLocation.pathname,s)||e.nextLocation.pathname;return ic(a.pathname,u)!=null||ic(a.pathname,l)!=null}function yw(){const o=P.useRef(null);return P.useEffect(()=>{const t=o.current,e=t.getContext("2d");function s(){t.width=window.innerWidth,t.height=window.innerHeight}s(),window.addEventListener("resize",s);const a=[],l=300;for(let h=0;h<l;h++)a.push({x:Math.random()*t.width,y:Math.random()*t.height,r:Math.random()*1.5+.5,dx:(Math.random()-.5)*.1,dy:(Math.random()-.5)*.1});function u(){e.fillStyle="black",e.fillRect(0,0,t.width,t.height),e.fillStyle="white",a.forEach(h=>{e.beginPath(),e.arc(h.x,h.y,h.r,0,Math.PI*2),e.fill(),h.x+=h.dx,h.y+=h.dy,h.x<0&&(h.x=t.width),h.x>t.width&&(h.x=0),h.y<0&&(h.y=t.height),h.y>t.height&&(h.y=0)}),requestAnimationFrame(u)}return u(),()=>{window.removeEventListener("resize",s)}},[]),N.jsx("canvas",{ref:o,id:"galaxy",style:{position:"fixed",top:0,left:0,zIndex:-1,width:"100vw",height:"100vh",pointerEvents:"none"}})}var qe=function(){return qe=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},qe.apply(this,arguments)};function La(o,t,e){if(e||arguments.length===2)for(var s=0,a=t.length,l;s<a;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return o.concat(l||Array.prototype.slice.call(t))}var te="-ms-",Qr="-moz-",Ut="-webkit-",Ky="comm",yc="rule",Xd="decl",vw="@import",Wy="@keyframes",bw="@layer",Qy=Math.abs,Kd=String.fromCharCode,Ed=Object.assign;function Aw(o,t){return De(o,0)^45?(((t<<2^De(o,0))<<2^De(o,1))<<2^De(o,2))<<2^De(o,3):0}function Zy(o){return o.trim()}function vi(o,t){return(o=t.exec(o))?o[0]:o}function Ct(o,t,e){return o.replace(t,e)}function Kl(o,t,e){return o.indexOf(t,e)}function De(o,t){return o.charCodeAt(t)|0}function Da(o,t,e){return o.slice(t,e)}function Wn(o){return o.length}function Jy(o){return o.length}function $r(o,t){return t.push(o),o}function Sw(o,t){return o.map(t).join("")}function O0(o,t){return o.filter(function(e){return!vi(e,t)})}var vc=1,Oa=1,tv=0,Rn=0,be=0,Fa="";function bc(o,t,e,s,a,l,u,h){return{value:o,root:t,parent:e,type:s,props:a,children:l,line:vc,column:Oa,length:u,return:"",siblings:h}}function Ki(o,t){return Ed(bc("",null,null,"",null,null,0,o.siblings),o,{length:-o.length},t)}function va(o){for(;o.root;)o=Ki(o.root,{children:[o]});$r(o,o.siblings)}function ww(){return be}function xw(){return be=Rn>0?De(Fa,--Rn):0,Oa--,be===10&&(Oa=1,vc--),be}function kn(){return be=Rn<tv?De(Fa,Rn++):0,Oa++,be===10&&(Oa=1,vc++),be}function Cs(){return De(Fa,Rn)}function Wl(){return Rn}function Ac(o,t){return Da(Fa,o,t)}function _d(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ew(o){return vc=Oa=1,tv=Wn(Fa=o),Rn=0,[]}function _w(o){return Fa="",o}function td(o){return Zy(Ac(Rn-1,Cd(o===91?o+2:o===40?o+1:o)))}function Cw(o){for(;(be=Cs())&&be<33;)kn();return _d(o)>2||_d(be)>3?"":" "}function Tw(o,t){for(;--t&&kn()&&!(be<48||be>102||be>57&&be<65||be>70&&be<97););return Ac(o,Wl()+(t<6&&Cs()==32&&kn()==32))}function Cd(o){for(;kn();)switch(be){case o:return Rn;case 34:case 39:o!==34&&o!==39&&Cd(be);break;case 40:o===41&&Cd(o);break;case 92:kn();break}return Rn}function Rw(o,t){for(;kn()&&o+be!==57;)if(o+be===84&&Cs()===47)break;return"/*"+Ac(t,Rn-1)+"*"+Kd(o===47?o:kn())}function Mw(o){for(;!_d(Cs());)kn();return Ac(o,Rn)}function Lw(o){return _w(Ql("",null,null,null,[""],o=Ew(o),0,[0],o))}function Ql(o,t,e,s,a,l,u,h,d){for(var p=0,g=0,y=u,v=0,b=0,S=0,w=1,C=1,E=1,L=0,T="",D=a,R=l,j=s,k=T;C;)switch(S=L,L=kn()){case 40:if(S!=108&&De(k,y-1)==58){Kl(k+=Ct(td(L),"&","&\f"),"&\f",Qy(p?h[p-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:k+=td(L);break;case 9:case 10:case 13:case 32:k+=Cw(S);break;case 92:k+=Tw(Wl()-1,7);continue;case 47:switch(Cs()){case 42:case 47:$r(Dw(Rw(kn(),Wl()),t,e,d),d);break;default:k+="/"}break;case 123*w:h[p++]=Wn(k)*E;case 125*w:case 59:case 0:switch(L){case 0:case 125:C=0;case 59+g:E==-1&&(k=Ct(k,/\f/g,"")),b>0&&Wn(k)-y&&$r(b>32?k0(k+";",s,e,y-1,d):k0(Ct(k," ","")+";",s,e,y-2,d),d);break;case 59:k+=";";default:if($r(j=N0(k,t,e,p,g,a,h,T,D=[],R=[],y,l),l),L===123)if(g===0)Ql(k,t,j,j,D,l,y,h,R);else switch(v===99&&De(k,3)===110?100:v){case 100:case 108:case 109:case 115:Ql(o,j,j,s&&$r(N0(o,j,j,0,0,a,h,T,a,D=[],y,R),R),a,R,y,h,s?D:R);break;default:Ql(k,j,j,j,[""],R,0,h,R)}}p=g=b=0,w=E=1,T=k="",y=u;break;case 58:y=1+Wn(k),b=S;default:if(w<1){if(L==123)--w;else if(L==125&&w++==0&&xw()==125)continue}switch(k+=Kd(L),L*w){case 38:E=g>0?1:(k+="\f",-1);break;case 44:h[p++]=(Wn(k)-1)*E,E=1;break;case 64:Cs()===45&&(k+=td(kn())),v=Cs(),g=y=Wn(T=k+=Mw(Wl())),L++;break;case 45:S===45&&Wn(k)==2&&(w=0)}}return l}function N0(o,t,e,s,a,l,u,h,d,p,g,y){for(var v=a-1,b=a===0?l:[""],S=Jy(b),w=0,C=0,E=0;w<s;++w)for(var L=0,T=Da(o,v+1,v=Qy(C=u[w])),D=o;L<S;++L)(D=Zy(C>0?b[L]+" "+T:Ct(T,/&\f/g,b[L])))&&(d[E++]=D);return bc(o,t,e,a===0?yc:h,d,p,g,y)}function Dw(o,t,e,s){return bc(o,t,e,Ky,Kd(ww()),Da(o,2,-2),0,s)}function k0(o,t,e,s,a){return bc(o,t,e,Xd,Da(o,0,s),Da(o,s+1,-1),s,a)}function ev(o,t,e){switch(Aw(o,t)){case 5103:return Ut+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+o+o;case 4789:return Qr+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+o+Qr+o+te+o+o;case 5936:switch(De(o,t+11)){case 114:return Ut+o+te+Ct(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return Ut+o+te+Ct(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return Ut+o+te+Ct(o,/[svh]\w+-[tblr]{2}/,"lr")+o}case 6828:case 4268:case 2903:return Ut+o+te+o+o;case 6165:return Ut+o+te+"flex-"+o+o;case 5187:return Ut+o+Ct(o,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+te+"flex-$1$2")+o;case 5443:return Ut+o+te+"flex-item-"+Ct(o,/flex-|-self/g,"")+(vi(o,/flex-|baseline/)?"":te+"grid-row-"+Ct(o,/flex-|-self/g,""))+o;case 4675:return Ut+o+te+"flex-line-pack"+Ct(o,/align-content|flex-|-self/g,"")+o;case 5548:return Ut+o+te+Ct(o,"shrink","negative")+o;case 5292:return Ut+o+te+Ct(o,"basis","preferred-size")+o;case 6060:return Ut+"box-"+Ct(o,"-grow","")+Ut+o+te+Ct(o,"grow","positive")+o;case 4554:return Ut+Ct(o,/([^-])(transform)/g,"$1"+Ut+"$2")+o;case 6187:return Ct(Ct(Ct(o,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),o,"")+o;case 5495:case 3959:return Ct(o,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Ct(Ct(o,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+o+o;case 4200:if(!vi(o,/flex-|baseline/))return te+"grid-column-align"+Da(o,t)+o;break;case 2592:case 3360:return te+Ct(o,"template-","")+o;case 4384:case 3616:return e&&e.some(function(s,a){return t=a,vi(s.props,/grid-\w+-end/)})?~Kl(o+(e=e[t].value),"span",0)?o:te+Ct(o,"-start","")+o+te+"grid-row-span:"+(~Kl(e,"span",0)?vi(e,/\d+/):+vi(e,/\d+/)-+vi(o,/\d+/))+";":te+Ct(o,"-start","")+o;case 4896:case 4128:return e&&e.some(function(s){return vi(s.props,/grid-\w+-start/)})?o:te+Ct(Ct(o,"-end","-span"),"span ","")+o;case 4095:case 3583:case 4068:case 2532:return Ct(o,/(.+)-inline(.+)/,Ut+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wn(o)-1-t>6)switch(De(o,t+1)){case 109:if(De(o,t+4)!==45)break;case 102:return Ct(o,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Qr+(De(o,t+3)==108?"$3":"$2-$3"))+o;case 115:return~Kl(o,"stretch",0)?ev(Ct(o,"stretch","fill-available"),t,e)+o:o}break;case 5152:case 5920:return Ct(o,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,a,l,u,h,d,p){return te+a+":"+l+p+(u?te+a+"-span:"+(h?d:+d-+l)+p:"")+o});case 4949:if(De(o,t+6)===121)return Ct(o,":",":"+Ut)+o;break;case 6444:switch(De(o,De(o,14)===45?18:11)){case 120:return Ct(o,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ut+(De(o,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+te+"$2box$3")+o;case 100:return Ct(o,":",":"+te)+o}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ct(o,"scroll-","scroll-snap-")+o}return o}function sc(o,t){for(var e="",s=0;s<o.length;s++)e+=t(o[s],s,o,t)||"";return e}function Ow(o,t,e,s){switch(o.type){case bw:if(o.children.length)break;case vw:case Xd:return o.return=o.return||o.value;case Ky:return"";case Wy:return o.return=o.value+"{"+sc(o.children,s)+"}";case yc:if(!Wn(o.value=o.props.join(",")))return""}return Wn(e=sc(o.children,s))?o.return=o.value+"{"+e+"}":""}function Nw(o){var t=Jy(o);return function(e,s,a,l){for(var u="",h=0;h<t;h++)u+=o[h](e,s,a,l)||"";return u}}function kw(o){return function(t){t.root||(t=t.return)&&o(t)}}function Pw(o,t,e,s){if(o.length>-1&&!o.return)switch(o.type){case Xd:o.return=ev(o.value,o.length,e);return;case Wy:return sc([Ki(o,{value:Ct(o.value,"@","@"+Ut)})],s);case yc:if(o.length)return Sw(e=o.props,function(a){switch(vi(a,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":va(Ki(o,{props:[Ct(a,/:(read-\w+)/,":"+Qr+"$1")]})),va(Ki(o,{props:[a]})),Ed(o,{props:O0(e,s)});break;case"::placeholder":va(Ki(o,{props:[Ct(a,/:(plac\w+)/,":"+Ut+"input-$1")]})),va(Ki(o,{props:[Ct(a,/:(plac\w+)/,":"+Qr+"$1")]})),va(Ki(o,{props:[Ct(a,/:(plac\w+)/,te+"input-$1")]})),va(Ki(o,{props:[a]})),Ed(o,{props:O0(e,s)});break}return""})}}var zw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dn={},Na=typeof process<"u"&&dn!==void 0&&(dn.REACT_APP_SC_ATTR||dn.SC_ATTR)||"data-styled",nv="active",iv="data-styled-version",Sc="6.1.19",Wd=`/*!sc*/
`,ac=typeof window<"u"&&typeof document<"u",jw=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&dn!==void 0&&dn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&dn.REACT_APP_SC_DISABLE_SPEEDY!==""?dn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&dn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&dn!==void 0&&dn.SC_DISABLE_SPEEDY!==void 0&&dn.SC_DISABLE_SPEEDY!==""&&dn.SC_DISABLE_SPEEDY!=="false"&&dn.SC_DISABLE_SPEEDY),Iw={},wc=Object.freeze([]),ka=Object.freeze({});function sv(o,t,e){return e===void 0&&(e=ka),o.theme!==e.theme&&o.theme||t||e.theme}var av=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Fw=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Bw=/(^-|-$)/g;function P0(o){return o.replace(Fw,"-").replace(Bw,"")}var Hw=/(a)(d)/gi,zl=52,z0=function(o){return String.fromCharCode(o+(o>25?39:97))};function Td(o){var t,e="";for(t=Math.abs(o);t>zl;t=t/zl|0)e=z0(t%zl)+e;return(z0(t%zl)+e).replace(Hw,"$1-$2")}var ed,rv=5381,xa=function(o,t){for(var e=t.length;e;)o=33*o^t.charCodeAt(--e);return o},ov=function(o){return xa(rv,o)};function Qd(o){return Td(ov(o)>>>0)}function Uw(o){return o.displayName||o.name||"Component"}function nd(o){return typeof o=="string"&&!0}var lv=typeof Symbol=="function"&&Symbol.for,cv=lv?Symbol.for("react.memo"):60115,Gw=lv?Symbol.for("react.forward_ref"):60112,qw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Vw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},uv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$w=((ed={})[Gw]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ed[cv]=uv,ed);function j0(o){return("type"in(t=o)&&t.type.$$typeof)===cv?uv:"$$typeof"in o?$w[o.$$typeof]:qw;var t}var Yw=Object.defineProperty,Xw=Object.getOwnPropertyNames,I0=Object.getOwnPropertySymbols,Kw=Object.getOwnPropertyDescriptor,Ww=Object.getPrototypeOf,F0=Object.prototype;function hv(o,t,e){if(typeof t!="string"){if(F0){var s=Ww(t);s&&s!==F0&&hv(o,s,e)}var a=Xw(t);I0&&(a=a.concat(I0(t)));for(var l=j0(o),u=j0(t),h=0;h<a.length;++h){var d=a[h];if(!(d in Vw||e&&e[d]||u&&d in u||l&&d in l)){var p=Kw(t,d);try{Yw(o,d,p)}catch{}}}}return o}function Pa(o){return typeof o=="function"}function Zd(o){return typeof o=="object"&&"styledComponentId"in o}function Ss(o,t){return o&&t?"".concat(o," ").concat(t):o||t||""}function rc(o,t){if(o.length===0)return"";for(var e=o[0],s=1;s<o.length;s++)e+=o[s];return e}function eo(o){return o!==null&&typeof o=="object"&&o.constructor.name===Object.name&&!("props"in o&&o.$$typeof)}function Rd(o,t,e){if(e===void 0&&(e=!1),!e&&!eo(o)&&!Array.isArray(o))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)o[s]=Rd(o[s],t[s]);else if(eo(t))for(var s in t)o[s]=Rd(o[s],t[s]);return o}function Jd(o,t){Object.defineProperty(o,"toString",{value:t})}function uo(o){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(o," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Qw=function(){function o(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return o.prototype.indexOfGroup=function(t){for(var e=0,s=0;s<t;s++)e+=this.groupSizes[s];return e},o.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var s=this.groupSizes,a=s.length,l=a;t>=l;)if((l<<=1)<0)throw uo(16,"".concat(t));this.groupSizes=new Uint32Array(l),this.groupSizes.set(s),this.length=l;for(var u=a;u<l;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(t+1),d=(u=0,e.length);u<d;u++)this.tag.insertRule(h,e[u])&&(this.groupSizes[t]++,h++)},o.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],s=this.indexOfGroup(t),a=s+e;this.groupSizes[t]=0;for(var l=s;l<a;l++)this.tag.deleteRule(s)}},o.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var s=this.groupSizes[t],a=this.indexOfGroup(t),l=a+s,u=a;u<l;u++)e+="".concat(this.tag.getRule(u)).concat(Wd);return e},o}(),Zl=new Map,oc=new Map,Jl=1,jl=function(o){if(Zl.has(o))return Zl.get(o);for(;oc.has(Jl);)Jl++;var t=Jl++;return Zl.set(o,t),oc.set(t,o),t},Zw=function(o,t){Jl=t+1,Zl.set(o,t),oc.set(t,o)},Jw="style[".concat(Na,"][").concat(iv,'="').concat(Sc,'"]'),tx=new RegExp("^".concat(Na,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ex=function(o,t,e){for(var s,a=e.split(","),l=0,u=a.length;l<u;l++)(s=a[l])&&o.registerName(t,s)},nx=function(o,t){for(var e,s=((e=t.textContent)!==null&&e!==void 0?e:"").split(Wd),a=[],l=0,u=s.length;l<u;l++){var h=s[l].trim();if(h){var d=h.match(tx);if(d){var p=0|parseInt(d[1],10),g=d[2];p!==0&&(Zw(g,p),ex(o,g,d[3]),o.getTag().insertRules(p,a)),a.length=0}else a.push(h)}}},B0=function(o){for(var t=document.querySelectorAll(Jw),e=0,s=t.length;e<s;e++){var a=t[e];a&&a.getAttribute(Na)!==nv&&(nx(o,a),a.parentNode&&a.parentNode.removeChild(a))}};function ix(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var dv=function(o){var t=document.head,e=o||t,s=document.createElement("style"),a=function(h){var d=Array.from(h.querySelectorAll("style[".concat(Na,"]")));return d[d.length-1]}(e),l=a!==void 0?a.nextSibling:null;s.setAttribute(Na,nv),s.setAttribute(iv,Sc);var u=ix();return u&&s.setAttribute("nonce",u),e.insertBefore(s,l),s},sx=function(){function o(t){this.element=dv(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var s=document.styleSheets,a=0,l=s.length;a<l;a++){var u=s[a];if(u.ownerNode===e)return u}throw uo(17)}(this.element),this.length=0}return o.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},o.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},o.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},o}(),ax=function(){function o(t){this.element=dv(t),this.nodes=this.element.childNodes,this.length=0}return o.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var s=document.createTextNode(e);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},o.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},o.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},o}(),rx=function(){function o(t){this.rules=[],this.length=0}return o.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},o.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},o.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},o}(),H0=ac,ox={isServer:!ac,useCSSOMInjection:!jw},lc=function(){function o(t,e,s){t===void 0&&(t=ka),e===void 0&&(e={});var a=this;this.options=qe(qe({},ox),t),this.gs=e,this.names=new Map(s),this.server=!!t.isServer,!this.server&&ac&&H0&&(H0=!1,B0(this)),Jd(this,function(){return function(l){for(var u=l.getTag(),h=u.length,d="",p=function(y){var v=function(E){return oc.get(E)}(y);if(v===void 0)return"continue";var b=l.names.get(v),S=u.getGroup(y);if(b===void 0||!b.size||S.length===0)return"continue";var w="".concat(Na,".g").concat(y,'[id="').concat(v,'"]'),C="";b!==void 0&&b.forEach(function(E){E.length>0&&(C+="".concat(E,","))}),d+="".concat(S).concat(w,'{content:"').concat(C,'"}').concat(Wd)},g=0;g<h;g++)p(g);return d}(a)})}return o.registerId=function(t){return jl(t)},o.prototype.rehydrate=function(){!this.server&&ac&&B0(this)},o.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new o(qe(qe({},this.options),t),this.gs,e&&this.names||void 0)},o.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},o.prototype.getTag=function(){return this.tag||(this.tag=(t=function(e){var s=e.useCSSOMInjection,a=e.target;return e.isServer?new rx(a):s?new sx(a):new ax(a)}(this.options),new Qw(t)));var t},o.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},o.prototype.registerName=function(t,e){if(jl(t),this.names.has(t))this.names.get(t).add(e);else{var s=new Set;s.add(e),this.names.set(t,s)}},o.prototype.insertRules=function(t,e,s){this.registerName(t,e),this.getTag().insertRules(jl(t),s)},o.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},o.prototype.clearRules=function(t){this.getTag().clearGroup(jl(t)),this.clearNames(t)},o.prototype.clearTag=function(){this.tag=void 0},o}(),lx=/&/g,cx=/^\s*\/\/.*$/gm;function fv(o,t){return o.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=fv(e.children,t)),e})}function ux(o){var t,e,s,a=ka,l=a.options,u=l===void 0?ka:l,h=a.plugins,d=h===void 0?wc:h,p=function(v,b,S){return S.startsWith(e)&&S.endsWith(e)&&S.replaceAll(e,"").length>0?".".concat(t):v},g=d.slice();g.push(function(v){v.type===yc&&v.value.includes("&")&&(v.props[0]=v.props[0].replace(lx,e).replace(s,p))}),u.prefix&&g.push(Pw),g.push(Ow);var y=function(v,b,S,w){b===void 0&&(b=""),S===void 0&&(S=""),w===void 0&&(w="&"),t=w,e=b,s=new RegExp("\\".concat(e,"\\b"),"g");var C=v.replace(cx,""),E=Lw(S||b?"".concat(S," ").concat(b," { ").concat(C," }"):C);u.namespace&&(E=fv(E,u.namespace));var L=[];return sc(E,Nw(g.concat(kw(function(T){return L.push(T)})))),L};return y.hash=d.length?d.reduce(function(v,b){return b.name||uo(15),xa(v,b.name)},rv).toString():"",y}var hx=new lc,Md=ux(),pv=Ge.createContext({shouldForwardProp:void 0,styleSheet:hx,stylis:Md});pv.Consumer;Ge.createContext(void 0);function Ld(){return P.useContext(pv)}var gv=function(){function o(t,e){var s=this;this.inject=function(a,l){l===void 0&&(l=Md);var u=s.name+l.hash;a.hasNameForId(s.id,u)||a.insertRules(s.id,u,l(s.rules,u,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,Jd(this,function(){throw uo(12,String(s.name))})}return o.prototype.getName=function(t){return t===void 0&&(t=Md),this.name+t.hash},o}(),dx=function(o){return o>="A"&&o<="Z"};function U0(o){for(var t="",e=0;e<o.length;e++){var s=o[e];if(e===1&&s==="-"&&o[0]==="-")return o;dx(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var mv=function(o){return o==null||o===!1||o===""},yv=function(o){var t,e,s=[];for(var a in o){var l=o[a];o.hasOwnProperty(a)&&!mv(l)&&(Array.isArray(l)&&l.isCss||Pa(l)?s.push("".concat(U0(a),":"),l,";"):eo(l)?s.push.apply(s,La(La(["".concat(a," {")],yv(l),!1),["}"],!1)):s.push("".concat(U0(a),": ").concat((t=a,(e=l)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in zw||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return s};function Qi(o,t,e,s){if(mv(o))return[];if(Zd(o))return[".".concat(o.styledComponentId)];if(Pa(o)){if(!Pa(l=o)||l.prototype&&l.prototype.isReactComponent||!t)return[o];var a=o(t);return Qi(a,t,e,s)}var l;return o instanceof gv?e?(o.inject(e,s),[o.getName(s)]):[o]:eo(o)?yv(o):Array.isArray(o)?Array.prototype.concat.apply(wc,o.map(function(u){return Qi(u,t,e,s)})):[o.toString()]}function vv(o){for(var t=0;t<o.length;t+=1){var e=o[t];if(Pa(e)&&!Zd(e))return!1}return!0}var fx=ov(Sc),px=function(){function o(t,e,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&vv(t),this.componentId=e,this.baseHash=xa(fx,e),this.baseStyle=s,lc.registerId(e)}return o.prototype.generateAndInjectStyles=function(t,e,s){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))a=Ss(a,this.staticRulesId);else{var l=rc(Qi(this.rules,t,e,s)),u=Td(xa(this.baseHash,l)>>>0);if(!e.hasNameForId(this.componentId,u)){var h=s(l,".".concat(u),void 0,this.componentId);e.insertRules(this.componentId,u,h)}a=Ss(a,u),this.staticRulesId=u}else{for(var d=xa(this.baseHash,s.hash),p="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")p+=y;else if(y){var v=rc(Qi(y,t,e,s));d=xa(d,v+g),p+=v}}if(p){var b=Td(d>>>0);e.hasNameForId(this.componentId,b)||e.insertRules(this.componentId,b,s(p,".".concat(b),void 0,this.componentId)),a=Ss(a,b)}}return a},o}(),tf=Ge.createContext(void 0);tf.Consumer;var id={};function gx(o,t,e){var s=Zd(o),a=o,l=!nd(o),u=t.attrs,h=u===void 0?wc:u,d=t.componentId,p=d===void 0?function(D,R){var j=typeof D!="string"?"sc":P0(D);id[j]=(id[j]||0)+1;var k="".concat(j,"-").concat(Qd(Sc+j+id[j]));return R?"".concat(R,"-").concat(k):k}(t.displayName,t.parentComponentId):d,g=t.displayName,y=g===void 0?function(D){return nd(D)?"styled.".concat(D):"Styled(".concat(Uw(D),")")}(o):g,v=t.displayName&&t.componentId?"".concat(P0(t.displayName),"-").concat(t.componentId):t.componentId||p,b=s&&a.attrs?a.attrs.concat(h).filter(Boolean):h,S=t.shouldForwardProp;if(s&&a.shouldForwardProp){var w=a.shouldForwardProp;if(t.shouldForwardProp){var C=t.shouldForwardProp;S=function(D,R){return w(D,R)&&C(D,R)}}else S=w}var E=new px(e,v,s?a.componentStyle:void 0);function L(D,R){return function(j,k,X){var Y=j.attrs,it=j.componentStyle,nt=j.defaultProps,Q=j.foldedComponentIds,et=j.styledComponentId,rt=j.target,st=Ge.useContext(tf),O=Ld(),B=j.shouldForwardProp||O.shouldForwardProp,at=sv(k,st,nt)||ka,Z=function(lt,ot,dt){for(var bt,zt=qe(qe({},ot),{className:void 0,theme:dt}),_t=0;_t<lt.length;_t+=1){var It=Pa(bt=lt[_t])?bt(zt):bt;for(var Bt in It)zt[Bt]=Bt==="className"?Ss(zt[Bt],It[Bt]):Bt==="style"?qe(qe({},zt[Bt]),It[Bt]):It[Bt]}return ot.className&&(zt.className=Ss(zt.className,ot.className)),zt}(Y,k,at),_=Z.as||rt,U={};for(var G in Z)Z[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&Z.theme===at||(G==="forwardedAs"?U.as=Z.forwardedAs:B&&!B(G,_)||(U[G]=Z[G]));var $=function(lt,ot){var dt=Ld(),bt=lt.generateAndInjectStyles(ot,dt.styleSheet,dt.stylis);return bt}(it,Z),tt=Ss(Q,et);return $&&(tt+=" "+$),Z.className&&(tt+=" "+Z.className),U[nd(_)&&!av.has(_)?"class":"className"]=tt,X&&(U.ref=X),P.createElement(_,U)}(T,D,R)}L.displayName=y;var T=Ge.forwardRef(L);return T.attrs=b,T.componentStyle=E,T.displayName=y,T.shouldForwardProp=S,T.foldedComponentIds=s?Ss(a.foldedComponentIds,a.styledComponentId):"",T.styledComponentId=v,T.target=s?a.target:o,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=s?function(R){for(var j=[],k=1;k<arguments.length;k++)j[k-1]=arguments[k];for(var X=0,Y=j;X<Y.length;X++)Rd(R,Y[X],!0);return R}({},a.defaultProps,D):D}}),Jd(T,function(){return".".concat(T.styledComponentId)}),l&&hv(T,o,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function G0(o,t){for(var e=[o[0]],s=0,a=t.length;s<a;s+=1)e.push(t[s],o[s+1]);return e}var q0=function(o){return Object.assign(o,{isCss:!0})};function ef(o){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Pa(o)||eo(o))return q0(Qi(G0(wc,La([o],t,!0))));var s=o;return t.length===0&&s.length===1&&typeof s[0]=="string"?Qi(s):q0(Qi(G0(s,t)))}function Dd(o,t,e){if(e===void 0&&(e=ka),!t)throw uo(1,t);var s=function(a){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return o(t,e,ef.apply(void 0,La([a],l,!1)))};return s.attrs=function(a){return Dd(o,t,qe(qe({},e),{attrs:Array.prototype.concat(e.attrs,a).filter(Boolean)}))},s.withConfig=function(a){return Dd(o,t,qe(qe({},e),a))},s}var bv=function(o){return Dd(gx,o)},ct=bv;av.forEach(function(o){ct[o]=bv(o)});var mx=function(){function o(t,e){this.rules=t,this.componentId=e,this.isStatic=vv(t),lc.registerId(this.componentId+1)}return o.prototype.createStyles=function(t,e,s,a){var l=a(rc(Qi(this.rules,e,s,a)),""),u=this.componentId+t;s.insertRules(u,u,l)},o.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},o.prototype.renderStyles=function(t,e,s,a){t>2&&lc.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,e,s,a)},o}();function yx(o){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var s=ef.apply(void 0,La([o],t,!1)),a="sc-global-".concat(Qd(JSON.stringify(s))),l=new mx(s,a),u=function(d){var p=Ld(),g=Ge.useContext(tf),y=Ge.useRef(p.styleSheet.allocateGSInstance(a)).current;return p.styleSheet.server&&h(y,d,p.styleSheet,g,p.stylis),Ge.useLayoutEffect(function(){if(!p.styleSheet.server)return h(y,d,p.styleSheet,g,p.stylis),function(){return l.removeStyles(y,p.styleSheet)}},[y,d,p.styleSheet,g,p.stylis]),null};function h(d,p,g,y,v){if(l.isStatic)l.renderStyles(d,Iw,g,v);else{var b=qe(qe({},p),{theme:sv(p,y,u.defaultProps)});l.renderStyles(d,b,g,v)}}return Ge.memo(u)}function vx(o){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var s=rc(ef.apply(void 0,La([o],t,!1))),a=Qd(s);return new gv(a,s)}const bx=ct.div`
  padding: 100px 20px;
  max-width: 1200px;
  margin: 0 auto;
  color: #fff;
`,Ax=ct.section`
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: left;
  color: #333;

  h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    font-weight: 700;
    background-color: #000;
    color: #4d7cfe;
    @media (max-width: 768px) {
      font-size: 2rem;
      text-align: center;
    }
  }

  h2 {
    font-size: 1.2rem;
    line-height: 1.5;
    max-width: 800px;
    background-color: #000;

    br {
      margin-bottom: 10px;
    }

    @media (max-width: 768px) {
      font-size: 1rem;
      text-align: center;
    }
  }
  h3 {
    text-align: left;
    font-size: 1rem;
    background-color: #000;
    span {
      font-weight: 900;
      font-size: 1.2rem;
      color: #4d7cfe;
    }
  }
`,sd=ct.section`
  margin: 50px 0;
`,ad=ct.h2`
  margin-bottom: 20px;
  font-size: 1.6rem;
  border-left: 4px solid #4d7cfe;
  padding-left: 10px;
`,rd=ct.div`
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
`,V0=ct.div`
  background: #1e1e2f;
  border-radius: 10px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  text-align: ${o=>o.$center?"center":"left"};
`,Sx=ct.h3`
  margin: 0 0 4px;
  font-size: 1.2rem;
`,$0=ct.p`
  font-style: italic;
  opacity: 0.8;
  margin: 4px 0 12px;
`,wx=ct.p`
  line-height: 1.4;
  font-size: 0.95rem;
`,xx=ct.img`
  max-width: 100%;
  height: 300px;
  border-radius: 8px;
  margin-bottom: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
`,od=ct(bi)`
  display: block;
  margin-top: 15px;
  text-align: right;
  color: #4d7cfe;
  font-weight: bold;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
`,Ex=ct.div`
  margin-top: 25px;
  width: 220px;
  padding: 20px 12px;
  border-radius: 10px;
  background: #2c2c3e;
  cursor: pointer;
  background-color: #0f0f1f;

  img {
    width: 100%;
    height: 200px;
    margin-bottom: 10px;
    padding: 0 10px;
    border-radius: 30px;
    cursor: pointer;
  }
  p {
    text-align: center;
    margin: 10px 0;
  }
  @media (max-width: 768px) {
    width: 75%;
    max-width: 300px; 
    display: block;
    margin: 0 auto;
    
    }
`,_x=ct.p`
  font-style: italic;
  opacity: 0.8;
  margin: 4px 0 0;
`,Cx=ct.h3`
  margin: 0 0 6px;
  font-size: 0.9rem;
`;function Av({livro:o}){const t=Hy();return N.jsx(N.Fragment,{children:N.jsxs(Ex,{children:[N.jsx("img",{onClick:()=>t(`/view/${o.id}`,{state:{titulo:o.title,autor:o.autor,img:o.img,descricao:o.descricao}}),src:o.img,alt:"imagem-projeto"}),N.jsx(Cx,{children:o.title}),N.jsxs(_x,{children:[" ",o.autor]})]})})}const Aa=[{img:"/vitrine_criativa/livros/O diario perdido.png",title:"O diario perdido dos meus poemas",autor:"Felipe Rosa",id:"diario",descricao:"Algumas palavras não nascem para serem apenas lidas, elas chegam como tempestades, invadem o peito e só encontram abrigo no papel. Este diário é feito dessas tempestades e calmarias, de versos que carregam a fúria do mar e o silêncio da madrugada"},{img:"/vitrine_criativa/livros/aartedaguerra.jpg",title:"A arte da Guerra",autor:"SUN TZU",id:"aartedaguerra",descricao:"Filósofo que se tornou general cujo nome individual era Wu, nasceu no Estado de Ch’i na China, próximo de 500 a.C., em um auge das ciências militares e legislativas daquele país. Sun Tzu escreveu a “Arte da Guerra”."},{img:"/vitrine_criativa/livros/alicepaismaravilhas.jpg",title:"Alice no País das Maravilhas",autor:"Lewis Carroll",id:"alicepaismaravilhas",descricao:"Charles Lutwidge Dodgson mais conhecido como CARROLL, LEWIS, seu nome está inscrito na história da literatura mundial por ser o autor de Alice no País das Maravilhas, o mais estranho e fascinante livro para crianças jamais escrito."},{img:"/vitrine_criativa/livros/romeuejulieta.jpg",title:"Romeu e Julieta",autor:"William Shakespeare",id:"romeuejulieta",descricao:"Há muito tempo duas famílias banham em sangue as ruas de Verona. Enquanto isso, na penumbra das madrugadas, ardem as brasas de um amor secreto. Romeu, filho dos Montéquio, e Julieta, desafiam a rixa familiar e sonham com um impossível futuro, longe da violência e da loucura."},{img:"/vitrine_criativa/livros/meninomaluquinho.jpg",title:"O Menino Maluquinho",autor:"Ziraldo",id:"meninomaluquinho",descricao:"Nessa versão disponibilizada, gratuitamente, pelo grande Ziraldo, verso e desenho contam a história de um menino traquinas que aprontava muita confusão. Alegria da casa, liderava a garotada, era sabido e um amigão. Fazia versinhos, canções, inventava brincadeiras."},{img:"/vitrine_criativa/livros/monica_agua_boa.jpg",title:"Monica e a Agua Boa",autor:"Mauricio de Sousa",id:"monica_agua_boa",descricao:"A Turma da Mônica ensina de forma divertida a importância da água potável para a saúde. Com histórias cativantes, os personagens mostram como preservar esse recurso essencial para o planeta e o bem-estar de todos."},{img:"/vitrine_criativa/livros/almanaque da monica 01.png",title:"Almanaque da monica 01",autor:"Mauricio de Sousa",id:"almanaque da monica 01",descricao:"Publicado em 1987 pela Editora Globo, o Almanaque da Mônica nº 1 reuniu algumas das aventuras mais divertidas e marcantes da Turma da Mônica produzidas entre o final dos anos 1970 e início dos anos 1980. Em suas páginas, Mônica, Cebolinha, Magali, Cascão e outros personagens clássicos vivem situações cheias de humor, confusão e amizade, alternando histórias do cotidiano, tramas inusitadas e participações de figuras queridas como o Anjinho. Com mais de 100 páginas, essa edição inaugura a fase dos almanaques na nova casa editorial, preservando o espírito das histórias originais e garantindo muitas risadas para leitores de todas as idades."}],Yr=[{titulo:"Vô",autor:"Felipe Rosa",poema:["Lágrimas sobre o caixão","Ela ficou no seu lado até o final","Tudo guardado no coração","Esse sempre foi meu mal"]},{titulo:"A.R.T.",autor:"Mukowski",poema:["O meu sofrimento","é a poesia que os","encanta"]},{titulo:"171",autor:"Felipe Rosa",poema:["Máscaras de sorrisos","Para não preocupar os outros","Sempre nas mentiras","Sempre pensando nas pessoas","Nunca pensado em mim"]},{titulo:"A chuva cai la fora",autor:"Felipe Rosa",poema:["O medo não passou","O ódio vazou","Escondido na flor","Mas ela me causou tanto dor","Me espetou com o seu amor"]},{titulo:"",autor:"Mukowski",poema:["A traição é um ponto","final que nos divide em","duas histórias."]},{titulo:"",autor:"Mukowski",poema:["Se segure, querida, aqui","dentro é um lugar agitado,","você pode se machucar"]},{titulo:"Me sinto amargo",autor:"Felipe Rosa",poema:["Me tornei amargo","Sem nenhum amigo","Sem ninguém para lutar comigo","E talvez eu mereça","Eu escutei de mais minha cabeça"]},{titulo:"Mais um mês",autor:"Felipe Rosa",poema:["Esse mês eu nem chorei tanto","Olha só, sozinho novamente","Culpa das merda da minha mente","Mas já to acostumado","E uma coisa eu garanto","Não sofro mais por não ser amado"]},{titulo:"",autor:"Mukowski",poema:["Me perguntaram:","","-Até aonde você iria por amor?","-Até o fim dele. -respondi"]},{titulo:"Lua",autor:"Felipe Rosa",poema:["Presos de novo naquele momento","E não importa o quanto eu tento","É um lupin infinito","De dor e sofrimento","E nunca vai passar","Mesmo assim eu continuo a te amar"]},{titulo:"Iris",autor:"Felipe Rosa",poema:["É tão difícil de explicar","Esse tal de amar","Queria mesmo era te agradecer","Por ter me tirado do sofrer","Com você eu queria viver","Mas está difícil de você entender"]},{titulo:"",autor:"Mukowski",poema:["O tempo passa mais","rápido quando você não","se importa com ele"]},{titulo:"Nós dois",autor:"Felipe Rosa",poema:["Minha mão na sua cintura","Te olhar é uma grande tortura","Nossas bocas em constante contato","Nossos corpos em constante atrito","Não vou mais falar apenas lembrar","Pois o que é bom não devemos divulgar"]},{titulo:"Aurora boreal",autor:"Felipe Rosa",poema:["Aurora boreal","Sua beleza é surreal","Seus olhos ofuscam","Qualquer constelação","Nossos corpos se cruzam","Ficamos na maior tentação"]},{titulo:"Sou seu",autor:"Felipe Rosa",poema:["Seu sorriso é o portal","Que me leva pro local","Aonde não existe mal","E nunca terá um final"]},{titulo:"Happy birthday",autor:"Felipe Rosa",poema:["Me sinto perdido","Sem ter um lugar","Sempre escondido","Me sinto amargurado","Lutando para não me matar"]},{titulo:"O sol e a lua",autor:"Felipe Rosa",poema:["Meu amor por você","É como o sol","Ele só vai se apagar","Quando tudo deixar de existir.","Mas quando te vi partir","Descobri que você é como a lua","Você tentou me ajudar","Mas sua indecisão vive a me machuca"]},{titulo:"Sou quem sou",autor:"Felipe Rosa",poema:["Sem coração","Sem razão","Sem motivação","Estou acorrentado","Me sentindo um fracassado"]},{titulo:"Constelação",autor:"Felipe Rosa",poema:["Hoje eu percebi que você é meu sol","E eu sou sua lua","Eu tenho uma grande indecisão","Não muda o que sinto no meu coração","Você veio para me aquecer","Me fez esquecer","Me ensinou a entender","E trouxe a minha vontade de viver"]},{titulo:"Desabafo",autor:"Felipe Rosa",poema:["Eu não me sinto bem","Mas relaxa isso não é culpa de ninguém","Eu agradeço por você ter indo embora","Ok fui eu que te mandei embora","E desculpa por ter te passado minha dor","Mas nós dois fomos culpado desse amor"]},{titulo:"",autor:"Mukowski",poema:["Ela foi a pessoa que mais","amei, ironicamente, foi a que","mais me destuiu."]},{titulo:"",autor:"Mukowski",poema:["Estar sozinho era um","presente dos deuses.","","qualquer coisa era melhor","do que estar rodeado de","pessoas vazias."]},{titulo:"",autor:"Mukowski",poema:["O amor é apenas uma","forma elegante de se","altodestruir"]},{titulo:"",autor:"Mukowski",poema:["EU tinha duas escolhas:","Matar nosso amor, ou deixar","que ele nos matasse."]},{titulo:"",autor:"Mukowski",poema:["Naquele erro,","culpei o diabo.","","Até que, diante do","espelho, vi oculpado.","Mas não era ele, era eu."]},{titulo:"Porque eu te amo?",autor:"Felipe Rosa",poema:["Eu não consigo nem dizer","Você me faz querer viver","Você me completa, toda perfeita","és tudo aquilo que sentia falta"]},{titulo:"Para bem longe daqui",autor:"Felipe Rosa",poema:["Vem comigo vamos fugir","Não precisa de lugar pra ir","Só preciso que seja eu e você","E todo o resto podemos esquecer"]},{titulo:"Sempre foi você",autor:"Felipe Rosa",poema:["Eu posso tar apaixonado","Eu posso tar amando","Eu posso só ta sonhando","Mas em tudo tem você"]},{titulo:"Minha linda garota",autor:"Felipe Rosa",poema:["Eu robaria a lua e apagaria o sol","Só é preciso você me pedir","Não ligaria para as consequências","Vale de tudo para te ver sorrir"]},{titulo:"Pesadelos",autor:"Felipe Rosa",poema:["Noites em terror","Relembrando toda a dor","Sempre mostrando o meu pior","Falando que nunca vou ser melhor"]}],Sv=[{autor:"Filips",desenhos:[{src:"/vitrine_criativa/desenhos/Filips/965Fillips.jpeg",titulo:"",data:"2025-08-17"},{src:"/vitrine_criativa/desenhos/Filips/966Fillips.jpeg",titulo:"",data:"2025-08-16"},{src:"/vitrine_criativa/desenhos/Filips/967Fillips.jpeg",titulo:"",data:"2025-08-15"},{src:"/vitrine_criativa/desenhos/Filips/968Fillips.jpeg",titulo:"",data:"2025-08-14"},{src:"/vitrine_criativa/desenhos/Filips/969Fillips.jpeg",titulo:"",data:"2025-08-13"},{src:"/vitrine_criativa/desenhos/Filips/970Fillips.jpeg",titulo:"",data:"2025-08-12"},{src:"/vitrine_criativa/desenhos/Filips/971Fillips.jpeg",titulo:"",data:"2025-08-11"},{src:"/vitrine_criativa/desenhos/Filips/972Fillips.jpeg",titulo:"",data:"2025-08-10"},{src:"/vitrine_criativa/desenhos/Filips/973Fillips.jpeg",titulo:"",data:"2025-08-09"},{src:"/vitrine_criativa/desenhos/Filips/974Fillips.jpeg",titulo:"",data:"2025-08-08"},{src:"/vitrine_criativa/desenhos/Filips/975Fillips.jpeg",titulo:"",data:"2025-08-07"},{src:"/vitrine_criativa/desenhos/Filips/976Fillips.jpeg",titulo:"",data:"2025-08-06"},{src:"/vitrine_criativa/desenhos/Filips/977Fillips.jpeg",titulo:"",data:"2025-08-05"},{src:"/vitrine_criativa/desenhos/Filips/978Fillips.jpeg",titulo:"",data:"2025-08-04"},{src:"/vitrine_criativa/desenhos/Filips/979Fillips.jpeg",titulo:"",data:"2025-08-03"},{src:"/vitrine_criativa/desenhos/Filips/980Fillips.jpeg",titulo:"",data:"2025-08-02"},{src:"/vitrine_criativa/desenhos/Filips/981Fillips.jpeg",titulo:"",data:"2025-08-01"},{src:"/vitrine_criativa/desenhos/Filips/982Fillips.jpg",titulo:"",data:"2025-07-31"},{src:"/vitrine_criativa/desenhos/Filips/983Fillips.jpg",titulo:"",data:"2025-07-30"},{src:"/vitrine_criativa/desenhos/Filips/984Fillips.jpg",titulo:"",data:"2025-07-29"},{src:"/vitrine_criativa/desenhos/Filips/985Fillips.jpg",titulo:"",data:"2025-07-28"},{src:"/vitrine_criativa/desenhos/Filips/986Fillips.jpg",titulo:"",data:"2025-07-27"},{src:"/vitrine_criativa/desenhos/Filips/987Fillips.jpeg",titulo:"",data:"2025-07-26"},{src:"/vitrine_criativa/desenhos/Filips/988Fillips.jpeg",titulo:"",data:"2025-07-25"},{src:"/vitrine_criativa/desenhos/Filips/989Fillips.jpg",titulo:"",data:"2025-07-24"},{src:"/vitrine_criativa/desenhos/Filips/990Fillips.jpg",titulo:"",data:"2025-07-23"},{src:"/vitrine_criativa/desenhos/Filips/991Fillips.jpg",titulo:"",data:"2025-07-22"},{src:"/vitrine_criativa/desenhos/Filips/992Fillips.jpg",titulo:"",data:"2025-07-21"},{src:"/vitrine_criativa/desenhos/Filips/993Fillips.jpg",titulo:"",data:"2025-07-20"},{src:"/vitrine_criativa/desenhos/Filips/994Fillips.jpg",titulo:"",data:"2025-07-19"},{src:"/vitrine_criativa/desenhos/Filips/995Fillips.jpg",titulo:"",data:"2025-07-18"}]},{autor:"Valkarolin",desenhos:[{src:"/vitrine_criativa/desenhos/Valkarolin/996Valkarolin.jpg",titulo:"",data:"2025-07-17"},{src:"/vitrine_criativa/desenhos/Valkarolin/997Valkarolin.jpg",titulo:"",data:"2025-07-16"},{src:"/vitrine_criativa/desenhos/Valkarolin/998Valkarolin.jpg",titulo:"",data:"2025-07-15"},{src:"/vitrine_criativa/desenhos/Valkarolin/999Valkarolin.jpg",titulo:"",data:"2025-07-14"}]}];function Tx(o,t=140){if(!o)return"";if(Array.isArray(o.poema)){const a=o.poema.join(" ").trim();return a.length>t?a.slice(0,t)+"...":a}const e=o.texto??o.poema??"",s=String(e);return s.length>t?s.slice(0,t)+"...":s}function Y0(o){const t=Date.parse(o);return Number.isNaN(t)?0:t}function Rx(){const o=[...Aa].slice(0,4),t=[...Yr].slice(0,3),s=Sv.flatMap(a=>(a.desenhos||[]).map(l=>({...l,autor:a.autor,src:new URL(l.src,import.meta.url).href}))).sort((a,l)=>Y0(l.data)-Y0(a.data)).slice(0,4);return N.jsxs(bx,{children:[N.jsxs(Ax,{children:[N.jsx("h1",{children:"Bem-vindo à Vitrine Criativa"}),N.jsxs("h2",{children:["Aqui você pode explorar e compartilhar suas criações artísticas de forma prática e inspiradora. Navegue entre nossas seções e descubra:",N.jsx("br",{}),N.jsx("br",{}),N.jsxs("h3",{children:[N.jsx("span",{children:"Poesias:"})," Uma galeria dedicada a versos que emocionam e encantam.",N.jsx("br",{}),N.jsx("span",{children:"Livros:"})," Exposições de obras literárias para leitura e inspiração.",N.jsx("br",{}),N.jsx("span",{children:"Desenhos:"})," Mostre seu talento visual ou descubra trabalhos incríveis de outros artistas.",N.jsx("br",{}),N.jsx("span",{children:"Jogos:"})," Em breve, uma página interativa com experiências divertidas e criativas para todos.",N.jsx("br",{}),N.jsx("br",{})]}),"Nosso objetivo é criar um espaço completo, onde escritores, artistas e amantes da criatividade possam se conectar, compartilhar e se inspirar. Explore, publique e mergulhe no universo da arte!"]})]}),N.jsxs(sd,{children:[N.jsx(ad,{children:"✨ Poemas Recentes"}),N.jsx(rd,{children:t.map((a,l)=>N.jsxs(V0,{children:[N.jsx(Sx,{children:a.titulo}),N.jsxs($0,{children:["— ",a.autor]}),N.jsx(wx,{children:Tx(a)})]},`${a.titulo}-${l}`))}),N.jsx(od,{to:"/poesias",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Ver todos os poemas →"})]}),N.jsxs(sd,{children:[N.jsx(ad,{children:"📚 Livros Recentes"}),N.jsx(rd,{children:o.map(a=>N.jsx(Av,{livro:a},a.id))}),N.jsx(od,{to:"/livros",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Ver todos os livros →"})]}),N.jsxs(sd,{children:[N.jsx(ad,{children:"🎨 Desenhos Recentes"}),N.jsx(rd,{children:s.map((a,l)=>N.jsxs(V0,{$center:!0,children:[N.jsx(xx,{src:a.src,alt:a.titulo}),N.jsx($0,{children:a.autor})]},`${a.src}-${l}`))}),N.jsx(od,{to:"/desenhos",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Ver todos os desenhos →"})]})]})}var tc={exports:{}},Mx=tc.exports,X0;function Lx(){return X0||(X0=1,function(o,t){(function(e,s){o.exports=s(pc())})(Mx,e=>(()=>{var s={703:(h,d,p)=>{var g=p(414);function y(){}function v(){}v.resetWarningCache=y,h.exports=function(){function b(C,E,L,T,D,R){if(R!==g){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}function S(){return b}b.isRequired=b;var w={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:S,element:b,elementType:b,instanceOf:S,node:b,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:v,resetWarningCache:y};return w.PropTypes=w,w}},697:(h,d,p)=>{h.exports=p(703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:h=>{h.exports=e}},a={};function l(h){var d=a[h];if(d!==void 0)return d.exports;var p=a[h]={exports:{}};return s[h](p,p.exports,l),p.exports}l.n=h=>{var d=h&&h.__esModule?()=>h.default:()=>h;return l.d(d,{a:d}),d},l.d=(h,d)=>{for(var p in d)l.o(d,p)&&!l.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:d[p]})},l.o=(h,d)=>Object.prototype.hasOwnProperty.call(h,d),l.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var u={};return(()=>{l.r(u),l.d(u,{default:()=>nt});var h=l(98),d=l.n(h),p=l(697),g=l.n(p);function y(){return y=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},y.apply(this,arguments)}var v=function(Q){var et=Q.pageClassName,rt=Q.pageLinkClassName,st=Q.page,O=Q.selected,B=Q.activeClassName,at=Q.activeLinkClassName,Z=Q.getEventListener,_=Q.pageSelectedHandler,U=Q.href,G=Q.extraAriaContext,$=Q.pageLabelBuilder,tt=Q.rel,lt=Q.ariaLabel||"Page "+st+(G?" "+G:""),ot=null;return O&&(ot="page",lt=Q.ariaLabel||"Page "+st+" is your current page",et=et!==void 0?et+" "+B:B,rt!==void 0?at!==void 0&&(rt=rt+" "+at):rt=at),d().createElement("li",{className:et},d().createElement("a",y({rel:tt,role:U?void 0:"button",className:rt,href:U,tabIndex:O?"-1":"0","aria-label":lt,"aria-current":ot,onKeyPress:_},Z(_)),$(st)))};v.propTypes={pageSelectedHandler:g().func.isRequired,selected:g().bool.isRequired,pageClassName:g().string,pageLinkClassName:g().string,activeClassName:g().string,activeLinkClassName:g().string,extraAriaContext:g().string,href:g().string,ariaLabel:g().string,page:g().number.isRequired,getEventListener:g().func.isRequired,pageLabelBuilder:g().func.isRequired,rel:g().string};const b=v;function S(){return S=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},S.apply(this,arguments)}var w=function(Q){var et=Q.breakLabel,rt=Q.breakAriaLabel,st=Q.breakClassName,O=Q.breakLinkClassName,B=Q.breakHandler,at=Q.getEventListener,Z=st||"break";return d().createElement("li",{className:Z},d().createElement("a",S({className:O,role:"button",tabIndex:"0","aria-label":rt,onKeyPress:B},at(B)),et))};w.propTypes={breakLabel:g().oneOfType([g().string,g().node]),breakAriaLabel:g().string,breakClassName:g().string,breakLinkClassName:g().string,breakHandler:g().func.isRequired,getEventListener:g().func.isRequired};const C=w;function E(Q){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Q??et}function L(Q){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},L(Q)}function T(){return T=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},T.apply(this,arguments)}function D(Q,et){for(var rt=0;rt<et.length;rt++){var st=et[rt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(Q,st.key,st)}}function R(Q,et){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rt,st){return rt.__proto__=st,rt},R(Q,et)}function j(Q,et){if(et&&(L(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(Q)}function k(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function X(Q){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},X(Q)}function Y(Q,et,rt){return et in Q?Object.defineProperty(Q,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):Q[et]=rt,Q}var it=function(Q){(function(Z,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(_&&_.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),_&&R(Z,_)})(at,Q);var et,rt,st,O,B=(st=at,O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Z,_=X(st);if(O){var U=X(this).constructor;Z=Reflect.construct(_,arguments,U)}else Z=_.apply(this,arguments);return j(this,Z)});function at(Z){var _,U;return function(G,$){if(!(G instanceof $))throw new TypeError("Cannot call a class as a function")}(this,at),Y(k(_=B.call(this,Z)),"handlePreviousPage",function(G){var $=_.state.selected;_.handleClick(G,null,$>0?$-1:void 0,{isPrevious:!0})}),Y(k(_),"handleNextPage",function(G){var $=_.state.selected,tt=_.props.pageCount;_.handleClick(G,null,$<tt-1?$+1:void 0,{isNext:!0})}),Y(k(_),"handlePageSelected",function(G,$){if(_.state.selected===G)return _.callActiveCallback(G),void _.handleClick($,null,void 0,{isActive:!0});_.handleClick($,null,G)}),Y(k(_),"handlePageChange",function(G){_.state.selected!==G&&(_.setState({selected:G}),_.callCallback(G))}),Y(k(_),"getEventListener",function(G){return Y({},_.props.eventListener,G)}),Y(k(_),"handleClick",function(G,$,tt){var lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ot=lt.isPrevious,dt=ot!==void 0&&ot,bt=lt.isNext,zt=bt!==void 0&&bt,_t=lt.isBreak,It=_t!==void 0&&_t,Bt=lt.isActive,Vt=Bt!==void 0&&Bt;G.preventDefault?G.preventDefault():G.returnValue=!1;var Tt=_.state.selected,xt=_.props.onClick,Nt=tt;if(xt){var jt=xt({index:$,selected:Tt,nextSelectedPage:tt,event:G,isPrevious:dt,isNext:zt,isBreak:It,isActive:Vt});if(jt===!1)return;Number.isInteger(jt)&&(Nt=jt)}Nt!==void 0&&_.handlePageChange(Nt)}),Y(k(_),"handleBreakClick",function(G,$){var tt=_.state.selected;_.handleClick($,G,tt<G?_.getForwardJump():_.getBackwardJump(),{isBreak:!0})}),Y(k(_),"callCallback",function(G){_.props.onPageChange!==void 0&&typeof _.props.onPageChange=="function"&&_.props.onPageChange({selected:G})}),Y(k(_),"callActiveCallback",function(G){_.props.onPageActive!==void 0&&typeof _.props.onPageActive=="function"&&_.props.onPageActive({selected:G})}),Y(k(_),"getElementPageRel",function(G){var $=_.state.selected,tt=_.props,lt=tt.nextPageRel,ot=tt.prevPageRel,dt=tt.selectedPageRel;return $-1===G?ot:$===G?dt:$+1===G?lt:void 0}),Y(k(_),"pagination",function(){var G=[],$=_.props,tt=$.pageRangeDisplayed,lt=$.pageCount,ot=$.marginPagesDisplayed,dt=$.breakLabel,bt=$.breakClassName,zt=$.breakLinkClassName,_t=$.breakAriaLabels,It=_.state.selected;if(lt<=tt)for(var Bt=0;Bt<lt;Bt++)G.push(_.getPageElement(Bt));else{var Vt=tt/2,Tt=tt-Vt;It>lt-tt/2?Vt=tt-(Tt=lt-It):It<tt/2&&(Tt=tt-(Vt=It));var xt,Nt,jt=function(Ee){return _.getPageElement(Ee)},$t=[];for(xt=0;xt<lt;xt++){var nn=xt+1;if(nn<=ot)$t.push({type:"page",index:xt,display:jt(xt)});else if(nn>lt-ot)$t.push({type:"page",index:xt,display:jt(xt)});else if(xt>=It-Vt&&xt<=It+(It===0&&tt>1?Tt-1:Tt))$t.push({type:"page",index:xt,display:jt(xt)});else if(dt&&$t.length>0&&$t[$t.length-1].display!==Nt&&(tt>0||ot>0)){var _i=xt<It?_t.backward:_t.forward;Nt=d().createElement(C,{key:xt,breakAriaLabel:_i,breakLabel:dt,breakClassName:bt,breakLinkClassName:zt,breakHandler:_.handleBreakClick.bind(null,xt),getEventListener:_.getEventListener}),$t.push({type:"break",index:xt,display:Nt})}}$t.forEach(function(Ee,mn){var ti=Ee;Ee.type==="break"&&$t[mn-1]&&$t[mn-1].type==="page"&&$t[mn+1]&&$t[mn+1].type==="page"&&$t[mn+1].index-$t[mn-1].index<=2&&(ti={type:"page",index:Ee.index,display:jt(Ee.index)}),G.push(ti.display)})}return G}),Z.initialPage!==void 0&&Z.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(Z.initialPage,") and forcePage (").concat(Z.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),U=Z.initialPage?Z.initialPage:Z.forcePage?Z.forcePage:0,_.state={selected:U},_}return et=at,(rt=[{key:"componentDidMount",value:function(){var Z=this.props,_=Z.initialPage,U=Z.disableInitialCallback,G=Z.extraAriaContext,$=Z.pageCount,tt=Z.forcePage;_===void 0||U||this.callCallback(_),G&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger($)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat($,"). Did you forget a Math.ceil()?")),_!==void 0&&_>$-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(_," > ").concat($-1,").")),tt!==void 0&&tt>$-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(tt," > ").concat($-1,")."))}},{key:"componentDidUpdate",value:function(Z){this.props.forcePage!==void 0&&this.props.forcePage!==Z.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(Z.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var Z=this.state.selected,_=this.props,U=_.pageCount,G=Z+_.pageRangeDisplayed;return G>=U?U-1:G}},{key:"getBackwardJump",value:function(){var Z=this.state.selected-this.props.pageRangeDisplayed;return Z<0?0:Z}},{key:"getElementHref",value:function(Z){var _=this.props,U=_.hrefBuilder,G=_.pageCount,$=_.hrefAllControls;if(U)return $||Z>=0&&Z<G?U(Z+1,G,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(Z){var _=Z===this.state.selected;if(this.props.ariaLabelBuilder&&Z>=0&&Z<this.props.pageCount){var U=this.props.ariaLabelBuilder(Z+1,_);return this.props.extraAriaContext&&!_&&(U=U+" "+this.props.extraAriaContext),U}}},{key:"getPageElement",value:function(Z){var _=this.state.selected,U=this.props,G=U.pageClassName,$=U.pageLinkClassName,tt=U.activeClassName,lt=U.activeLinkClassName,ot=U.extraAriaContext,dt=U.pageLabelBuilder;return d().createElement(b,{key:Z,pageSelectedHandler:this.handlePageSelected.bind(null,Z),selected:_===Z,rel:this.getElementPageRel(Z),pageClassName:G,pageLinkClassName:$,activeClassName:tt,activeLinkClassName:lt,extraAriaContext:ot,href:this.getElementHref(Z),ariaLabel:this.ariaLabelBuilder(Z),page:Z+1,pageLabelBuilder:dt,getEventListener:this.getEventListener})}},{key:"render",value:function(){var Z=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&Z!==void 0)return Z&&Z(this.props);var _=this.props,U=_.disabledClassName,G=_.disabledLinkClassName,$=_.pageCount,tt=_.className,lt=_.containerClassName,ot=_.previousLabel,dt=_.previousClassName,bt=_.previousLinkClassName,zt=_.previousAriaLabel,_t=_.prevRel,It=_.nextLabel,Bt=_.nextClassName,Vt=_.nextLinkClassName,Tt=_.nextAriaLabel,xt=_.nextRel,Nt=this.state.selected,jt=Nt===0,$t=Nt===$-1,nn="".concat(E(dt)).concat(jt?" ".concat(E(U)):""),_i="".concat(E(Bt)).concat($t?" ".concat(E(U)):""),Ee="".concat(E(bt)).concat(jt?" ".concat(E(G)):""),mn="".concat(E(Vt)).concat($t?" ".concat(E(G)):""),ti=jt?"true":"false",Ha=$t?"true":"false";return d().createElement("ul",{className:tt||lt,role:"navigation","aria-label":"Pagination"},d().createElement("li",{className:nn},d().createElement("a",T({className:Ee,href:this.getElementHref(Nt-1),tabIndex:jt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ti,"aria-label":zt,rel:_t},this.getEventListener(this.handlePreviousPage)),ot)),this.pagination(),d().createElement("li",{className:_i},d().createElement("a",T({className:mn,href:this.getElementHref(Nt+1),tabIndex:$t?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Ha,"aria-label":Tt,rel:xt},this.getEventListener(this.handleNextPage)),It)))}}])&&D(et.prototype,rt),Object.defineProperty(et,"prototype",{writable:!1}),at}(h.Component);Y(it,"propTypes",{pageCount:g().number.isRequired,pageRangeDisplayed:g().number,marginPagesDisplayed:g().number,previousLabel:g().node,previousAriaLabel:g().string,prevPageRel:g().string,prevRel:g().string,nextLabel:g().node,nextAriaLabel:g().string,nextPageRel:g().string,nextRel:g().string,breakLabel:g().oneOfType([g().string,g().node]),breakAriaLabels:g().shape({forward:g().string,backward:g().string}),hrefBuilder:g().func,hrefAllControls:g().bool,onPageChange:g().func,onPageActive:g().func,onClick:g().func,initialPage:g().number,forcePage:g().number,disableInitialCallback:g().bool,containerClassName:g().string,className:g().string,pageClassName:g().string,pageLinkClassName:g().string,pageLabelBuilder:g().func,activeClassName:g().string,activeLinkClassName:g().string,previousClassName:g().string,nextClassName:g().string,previousLinkClassName:g().string,nextLinkClassName:g().string,disabledClassName:g().string,disabledLinkClassName:g().string,breakClassName:g().string,breakLinkClassName:g().string,extraAriaContext:g().string,ariaLabelBuilder:g().func,eventListener:g().string,renderOnZeroPageCount:g().func,selectedPageRel:g().string}),Y(it,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(Q){return Q},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const nt=it})(),u})())}(tc)),tc.exports}var Dx=Lx();const nf=Ud(Dx),Ox=ct.div`
  padding: 50px 20px;
  max-width: 1200px;
  margin: 0 auto;
  color: #fff;
`,Nx=ct.section`
  margin: 50px auto;
  padding: 0 20px;
  max-width: 1200px;
`,kx=ct.h2`
  margin-bottom: 20px;
  font-size: 1.6rem;
  border-left: 4px solid #4d7cfe;
  padding-left: 10px;
`,Px=ct.div`
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
`,zx=ct.div`
  background: #1e1e2f;
  border-radius: 12px;
  padding: 18px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  display: flex;
  flex-direction: column;
`,jx=ct.h3`
  margin: 0 0 6px;
  font-size: 1.3rem;
`,Ix=ct.p`
  font-style: italic;
  opacity: 0.8;
  margin: 4px 0 12px;
`,Fx=ct.div`
  line-height: 1.5;
  font-size: 0.95rem;
  white-space: pre-line;
`,Bx=ct.div`
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: center;
  margin: 20px 0 30px;
  flex-wrap: wrap;
`,Hx=ct.input`
  padding: 10px;
  font-size: 16px;
  border-radius: 8px;
  border: 1px solid #ccc;
  width: 50%;
  max-width: 400px;
  color: #000;
`,K0=ct.button`
  padding: 10px 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: #4d7cfe;
  color: #fff;
  transition: 0.2s;
  &:hover:not(:disabled) {
    background: #4d7cfe;
  }
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Ux=ct.div`
  margin-top: 30px;
  display: flex;
  justify-content: center;

  .pagination {
    display: flex;
    list-style: none;
    gap: 8px;
  }

  .pagination li {
    padding: 6px 12px;
    border-radius: 6px;
    background: #2c2c3e;
    cursor: pointer;
  }

  .pagination li.active {
    background: #4d7cfe;
    font-weight: bold;
  }

  .pagination li:hover {
    background: #444;
  }
`,ld=12,Il=(o="")=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();function Gx(){const[o,t]=P.useState(""),[e,s]=P.useState(0),[a,l]=P.useState(Yr),u=()=>{const b=Il(o.trim());if(!b)l(Yr);else{const S=Yr.filter(w=>Il(w.titulo).includes(b)||Il(w.autor).includes(b)||w.poema.some(C=>Il(C).includes(b)));l(S)}s(0),window.scrollTo({top:0,behavior:"smooth"})},h=()=>{t(""),l(Yr),s(0),window.scrollTo({top:0,behavior:"smooth"})},d=Math.ceil(a.length/ld),p=e*ld,g=a.slice(p,p+ld),y=b=>{s(b.selected),window.scrollTo({top:0,behavior:"smooth"})},v=b=>b.key==="Enter"&&u();return N.jsx(Ox,{children:N.jsxs(Nx,{children:[N.jsx(kx,{children:"✨ Exposição de Poesias"}),N.jsxs(Bx,{children:[N.jsx(Hx,{type:"text",value:o,onChange:b=>t(b.target.value),onKeyDown:v,placeholder:"Buscar por título ou autor..."}),N.jsx(K0,{onClick:u,children:"Buscar"}),N.jsx(K0,{onClick:h,disabled:!o,children:"Limpar"})]}),N.jsx(Px,{children:g.length>0?g.map((b,S)=>N.jsxs(zx,{children:[N.jsx(jx,{children:b.titulo}),N.jsxs(Ix,{children:["— ",b.autor]}),N.jsx(Fx,{children:b.poema.map((w,C)=>N.jsxs("span",{children:[w,N.jsx("br",{})]},C))})]},`${b.titulo}-${S}`)):N.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Nenhum poema encontrado."})}),d>1&&N.jsx(Ux,{children:N.jsx(nf,{previousLabel:"←",nextLabel:"→",breakLabel:"...",pageCount:d,onPageChange:y,containerClassName:"pagination",activeClassName:"active"})})]})})}const qx=ct.div`
   padding: 50px 20px;
  max-width: 1200px;
  margin: 0 auto;
  color: #fff;
  /* background-color: #0f0f1f; */

  @media (max-width: 768px) {
    padding: 100px 20px;
  }
  @media (max-width: 450px) {
    padding: 80px 10px;
  }
`,Vx=ct.div`
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  max-width: calc(4 * 250px + 3 * 1rem);
  width: 100%;
  

  @media (max-width: 768px) {
    grid-template-columns: repeat(2, 1fr);
    max-width: 100%;
  }
  @media (max-width: 450px) {
    grid-template-columns: 1fr;
  }
`,$x=ct.div`
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  margin: 20px 0 30px;
`,Yx=ct.input`
  padding: 10px;
  font-size: 16px;
  border-radius: 8px;
  border: 1px solid #ccc;
  width: 50%;
  max-width: 400px;
  color: #000;
`,W0=ct.button`
  padding: 10px 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: #4d7cfe;
  color: #fff;
  transition: 0.2s;

  &:hover:not(:disabled) {
    background: #3b6edc;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Xx=ct.div`
  margin-top: 30px;
  display: flex;
  justify-content: center;

  .pagination {
    display: flex;
    list-style: none;
    gap: 8px;
  }

  .pagination li {
    padding: 6px 12px;
    border-radius: 6px;
    background: #2c2c3e;
    cursor: pointer;
  }

  .pagination li.active {
    background: #4d7cfe;
    font-weight: bold;
  }

  .pagination li:hover {
    background: #444;
  }
`,Kx=ct.section`
  margin: 50px auto;
  padding: 0 20px;
  max-width: 1200px;
`,Wx=ct.h2`
  margin-bottom: 20px;
  font-size: 1.2rem;
  border-left: 4px solid #4d7cfe;
  padding-left: 10px;
`,cd=12,ud=(o="")=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();function Qx(){const[o,t]=P.useState(""),[e,s]=P.useState(0),[a,l]=P.useState(Aa);P.useEffect(()=>{l(Aa)},[]);const u=()=>{const b=ud(o.trim());if(!b)l(Aa);else{const S=Aa.filter(w=>ud(w.title).includes(b)||ud(w.autor).includes(b));l(S)}s(0),window.scrollTo({top:0,behavior:"smooth"})},h=()=>{t(""),l(Aa),s(0),window.scrollTo({top:0,behavior:"smooth"})},d=Math.ceil(a.length/cd),p=e*cd,g=a.slice(p,p+cd),y=b=>{s(b.selected),window.scrollTo({top:0,behavior:"smooth"})},v=b=>{b.key==="Enter"&&u()};return N.jsx(qx,{children:N.jsxs(Kx,{children:[N.jsx(Wx,{children:N.jsx("h1",{children:"📚 Exposição de Livros"})}),N.jsxs($x,{children:[N.jsx(Yx,{type:"text",value:o,onChange:b=>t(b.target.value),onKeyDown:v,placeholder:"Buscar por título ou autor..."}),N.jsx(W0,{onClick:u,children:"Buscar"}),N.jsx(W0,{onClick:h,disabled:!o,children:"Limpar"})]}),N.jsx(Vx,{children:g.length>0?g.map(b=>N.jsx(Av,{livro:b},b.id)):N.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Nenhum livro encontrado."})}),d>1&&N.jsx(Xx,{children:N.jsx(nf,{previousLabel:"←",nextLabel:"→",breakLabel:"...",pageCount:d,onPageChange:y,containerClassName:"pagination",activeClassName:"active"})})]})})}const Zx=ct.div`
  padding: 100px 20px;
  max-width: 1200px;
  margin: 0 auto;
  color: #fff;
`,Jx=ct.h2`
  margin-bottom: 20px;
  font-size: 1.6rem;
  border-left: 4px solid #4d7cfe;
  padding-left: 10px;
`,tE=ct.div`
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  @media (max-width: 768px) {
    width: 75%;
    max-width: 300px; 
    margin: 0 auto;
    
    }
`,eE=ct.div`
  background: #1e1e2f;
  border-radius: 10px;
  padding: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  text-align: ${o=>o.$center?"center":"left"};
`,nE=ct.img`
  max-width: 100%;
  height: 250px;
  border-radius: 8px;
  margin-bottom: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
`,iE=ct.p`
  font-style: italic;
  opacity: 0.8;
  margin: 4px 0 0;
`,sE=ct.div`
  margin-top: 30px;
  display: flex;
  justify-content: center;

  .pagination {
    display: flex;
    list-style: none;
    gap: 8px;
  }

  .pagination li {
    padding: 6px 12px;
    border-radius: 6px;
    background: #2c2c3e;
    cursor: pointer;
  }

  .pagination li.active {
    background: #4d7cfe;
    font-weight: bold;
  }

  .pagination li:hover {
    background: #444;
  }
`;function aE(){const[o,t]=P.useState(0),[e,s]=P.useState(18),[a,l]=P.useState([]);P.useEffect(()=>{const g=()=>{window.innerWidth<768?s(6):window.innerWidth<1024?s(12):s(18)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),P.useEffect(()=>{const g=Sv.flatMap(y=>(y.desenhos||[]).map(v=>({...v,autor:y.autor,src:new URL(v.src,import.meta.url).href})));l(g)},[]);const u=o*e,h=a.slice(u,u+e),d=Math.ceil(a.length/e),p=({selected:g})=>{t(g),window.scrollTo({top:0,behavior:"smooth"})};return N.jsxs(Zx,{children:[N.jsx(Jx,{children:"🎨 Galeria de Desenhos"}),N.jsx(tE,{children:h.map((g,y)=>N.jsxs(eE,{$center:!0,children:[N.jsx(nE,{src:g.src,alt:g.titulo}),N.jsx(iE,{children:g.autor})]},`${g.src}-${y}`))}),N.jsx(sE,{children:N.jsx(nf,{previousLabel:"←",nextLabel:"→",breakLabel:"...",pageCount:d,onPageChange:p,containerClassName:"pagination",activeClassName:"active"})})]})}const rE=ct.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function oE(){return N.jsx(N.Fragment,{children:N.jsx(rE,{children:"Games"})})}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cE=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,s)=>s?s.toUpperCase():e.toLowerCase()),Q0=o=>{const t=cE(o);return t.charAt(0).toUpperCase()+t.slice(1)},wv=(...o)=>o.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim(),uE=o=>{for(const t in o)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=P.forwardRef(({color:o="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},d)=>P.createElement("svg",{ref:d,...hE,width:t,height:t,stroke:o,strokeWidth:s?Number(e)*24/Number(t):e,className:wv("lucide",a),...!l&&!uE(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,g])=>P.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=(o,t)=>{const e=P.forwardRef(({className:s,...a},l)=>P.createElement(dE,{ref:l,iconNode:t,className:wv(`lucide-${lE(Q0(o))}`,`lucide-${o}`,s),...a}));return e.displayName=Q0(o),e};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Z0=sf("instagram",fE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],gE=sf("linkedin",pE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yE=sf("phone",mE),vE=ct.div`
  padding-top: 70px;
  max-width: 1200px;
  margin: 0 auto;
  color: #fff;
`,bE=ct.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 80vh;
`,AE=ct.h1`
  font-size: 2.6rem;
  margin-bottom: 20px;
  color: #ffffffff;
  background-color: #000;
`,SE=ct.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 40px;
  width: 100%;
  max-width: 800px;
   @media (max-width: 768px) {
    gap: 10px;
    margin-bottom: 20px;
    }
`,wE=ct.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #1e1e2f;
  padding: 25px;
  border-radius: 15px;
  box-shadow: 0px 5px 15px rgba(0,0,0,0.1);
  text-align: center;
  @media (max-width: 768px) {
    margin: 10px 30px;
    }
`,xE=ct.img`
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 20px;
`,EE=ct.h2`
  font-size: 1.8rem;
  margin-bottom: 10px;
  color: #fff;
`,_E=ct.h3`
  font-size: 1.2rem;
  font-weight: 500;
  margin-bottom: 15px;
  color: #555;
`,CE=ct.p`
  font-size: 1rem;
  color: #666;
  line-height: 1.5;
`,TE=ct.div`
  display: flex;
  gap: 12px;
  margin-top: 12px;
  justify-content: center;
`,Fl=ct.a`
  color: #555;
  transition: color 0.3s;

  &:hover {
    color: #000;
  }
`;function RE(){const o=[{nome:"Daniel Guimarães",titulo:"Desenvolvedor Full Stack",resumo:"Daniel é responsável pela arquitetura do projeto e implementação das principais funcionalidades.",imagem:"/vitrine_criativa/creators/Daniel.png",instagram:"https://instagram.com/eiguimaraesdaniel",linkedin:"https://linkedin.com/in/danielguimaraespedrozo",telefone:"5551995531047"},{nome:"Felipe Rosa",titulo:"Designer e Ilustrador",resumo:"Felipe criou o design visual e todos os elementos gráficos do site.",imagem:"/vitrine_criativa/creators/Felipe.jpg",instagram:"https://www.instagram.com/fillips_rosa/",instagram2:"https://www.instagram.com/fillips_oliginal/",linkedin:"https://www.linkedin.com/in/felipe-g-rosa/",telefone:""}];return N.jsx(N.Fragment,{children:N.jsx(vE,{children:N.jsxs(bE,{children:[N.jsx(AE,{children:"Créditos"}),N.jsx(SE,{children:o.map((t,e)=>N.jsxs(wE,{children:[N.jsx(xE,{src:t.imagem,alt:t.nome}),N.jsx(EE,{children:t.nome}),N.jsx(_E,{children:t.titulo}),N.jsx(CE,{children:t.resumo}),N.jsxs(TE,{children:[t.instagram&&N.jsx(Fl,{href:t.instagram,target:"_blank",rel:"noopener noreferrer",children:N.jsx(Z0,{size:25})}),t.instagram2&&N.jsx(Fl,{href:t.instagram2,target:"_blank",rel:"noopener noreferrer",children:N.jsx(Z0,{size:25})}),t.linkedin&&N.jsx(Fl,{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:N.jsx(gE,{size:25})}),t.telefone&&N.jsx(Fl,{href:`https://wa.me/${t.telefone}`,target:"_blank",rel:"noopener noreferrer",children:N.jsx(yE,{size:25})})]})]},e))})]})})})}const ME=vx`
    from {
        transform: scale(0);
    }
    to{
        transform: scale(1);
    }
`,LE=ct.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0;

  h2 span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
  }
  button {
    background-color: #4d7cfe;
    color: #fff;
    width: 10rem;
    height: 35px;
    border-radius: 40px;
    cursor: pointer;
    border: none;
  }
  @media (max-width: 768px) {
    h2 span {
      font-size: 1.4rem;
      font-weight: 400;
    }
    button {
      width: 5rem;
      height: 25px;
    }
  }
  @media (max-width: 450px) {
  }
`,DE=ct.div`
  width: 80%;
  height: 70%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  @media (max-width: 900px) {
    flex-direction: column;
  }
  @media (max-width: 450px) {
  }
`,OE=ct.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  h2 {
    font-size: 1.3rem;
  }
  img {
    height: 300px;
    border-radius: 30px;
    animation: ${ME} 0.5s linear;
  }

  @media (max-width: 768px) {
    img {
      width: 80%;
    }
    h2 {
      font-size: 1.1rem;
    }
  }
  @media (max-width: 450px) {
  }
`,NE=ct.div`
  display: flex;
  flex-direction: column;
  justify-content: center;

  p span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
    background-color: #000;
  }
  p {
    width: 700px;
    font-size: 1.4rem;
    background-color: #000;
  }

  button {
    display: block;
    margin: 25px auto;
  }

  @media (max-width: 768px) {
   
    p {
      width: 90%;
      font-size: 1.1rem;
    }
     p span {
      font-size: 1.3rem;
      font-weight: 400;
    }

  }
  @media (max-width: 450px) {
  }
`;var xv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J0=Ge.createContext&&Ge.createContext(xv),kE=["attr","size","title"];function PE(o,t){if(o==null)return{};var e=zE(o,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(e[s]=o[s])}return e}function zE(o,t){if(o==null)return{};var e={};for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;e[s]=o[s]}return e}function cc(){return cc=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=e[s])}return o},cc.apply(this,arguments)}function ty(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),e.push.apply(e,s)}return e}function uc(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ty(Object(e),!0).forEach(function(s){jE(o,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):ty(Object(e)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(e,s))})}return o}function jE(o,t,e){return t=IE(t),t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}function IE(o){var t=FE(o,"string");return typeof t=="symbol"?t:t+""}function FE(o,t){if(typeof o!="object"||!o)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var s=e.call(o,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function Ev(o){return o&&o.map((t,e)=>Ge.createElement(t.tag,uc({key:e},t.attr),Ev(t.child)))}function BE(o){return t=>Ge.createElement(HE,cc({attr:uc({},o.attr)},t),Ev(o.child))}function HE(o){var t=e=>{var{attr:s,size:a,title:l}=o,u=PE(o,kE),h=a||e.size||"1em",d;return e.className&&(d=e.className),o.className&&(d=(d?d+" ":"")+o.className),Ge.createElement("svg",cc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:d,style:uc(uc({color:o.color||e.color},e.style),o.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Ge.createElement("title",null,l),o.children)};return J0!==void 0?Ge.createElement(J0.Consumer,null,e=>t(e)):t(xv)}function UE(o){return BE({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M880 112c17.7 0 32 14.3 32 32v736c0 17.7-14.3 32-32 32H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32ZM639.978 338.82l-.034.006c-.023.007-.042.018-.083.059L512 466.745l-127.86-127.86c-.042-.041-.06-.052-.084-.059a.118.118 0 0 0-.07 0c-.022.007-.041.018-.082.059l-45.02 45.019c-.04.04-.05.06-.058.083a.118.118 0 0 0 0 .07l.01.022a.268.268 0 0 0 .049.06L466.745 512l-127.86 127.862c-.041.04-.052.06-.059.083a.118.118 0 0 0 0 .07c.007.022.018.041.059.082l45.019 45.02c.04.04.06.05.083.058a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059L512 557.254l127.862 127.861c.04.041.06.052.083.059a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059l45.02-45.019c.04-.04.05-.06.058-.083a.118.118 0 0 0 0-.07l-.01-.022a.268.268 0 0 0-.049-.06L557.254 512l127.861-127.86c.041-.042.052-.06.059-.084a.118.118 0 0 0 0-.07c-.007-.022-.018-.041-.059-.082l-45.019-45.02c-.04-.04-.06-.05-.083-.058a.118.118 0 0 0-.07 0Z"},child:[]}]})(o)}const GE=ct.div`
  background-color: rgba(0, 0, 0, 0.7);
  width: 100%;
  height: 90%;
  
  position: fixed;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  z-index: 999;
   @media (max-width: 908px) {
    top:75px;
  }
`,qE=ct.div`
  width: 60dvw;
  display: flex;
  height: 100dvh;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  max-width: 1200px;
  background-color: #000;
  @media (max-width: 908px) {
    width: 90dvw;
    height: 80dvh;
    
  }
  @media (max-width: 450px) {
  }

`,VE=ct(UE)`
  color: red;
  font-size: 54px;
  cursor: pointer;
  position: relative;
  right: -570px;
`,$E=ct.div`
  perspective: 400px;
`,YE=ct.div`
  display: flex;
  justify-content: center;
  gap: 5px;
  
`,hd=ct.div`
  transform-origin: left center;
  transition: transform 0.6s ease;
  backface-visibility: hidden;

  &.right {
    transform-origin: left center;
  }

  &.left {
    transform-origin: right center;
  }

  &.flip-right {
    transform: rotateY(-220deg);
  }

  &.flip-left {
    transform: rotateY(220deg);
  }

  /* Estilos internos do react-pdf */
  .react-pdf__Page {
    display: block;
  }

  .react-pdf__Page canvas {
    max-width: 100%;
    max-height: 90dvh;
    height: auto;
  }

  @media (max-width: 900px) {
    width: 100%;
    transform: none !important; /* Remove efeito de virar 2 páginas */
  }
`,XE=ct.div`
  margin-top: 10px;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap; /* Quebra em várias linhas se necessário */

  button {
    padding: 8px 14px;
    font-size: 16px;
    margin: 5px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background: #444;
    color: #fff;
    transition: background 0.2s ease;

    &:hover {
      background: #666;
    }

    &:disabled {
      background: #222;
      cursor: not-allowed;
    }

    @media (max-width: 900px) {
      font-size: 14px;
      padding: 6px 10px;
       margin-top: 2px;
    }
  }
`,KE=ct.span`
  margin: 0 10px;

  @media (max-width: 900px) {
    font-size: 14px;
  }
`,$e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Od=[.001,0,0,.001,0,0],dd=1.35,fn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},WE="pdfjs_internal_editor_",St={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},_v={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Zr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},he={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ho={ERRORS:0,WARNINGS:1,INFOS:5},no={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Bl={moveTo:0,lineTo:1,curveTo:2,closePath:3},Cv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let xc=ho.WARNINGS;function QE(o){Number.isInteger(o)&&(xc=o)}function ZE(){return xc}function Ec(o){xc>=ho.INFOS&&console.log(`Info: ${o}`)}function wt(o){xc>=ho.WARNINGS&&console.log(`Warning: ${o}`)}function Wt(o){throw new Error(o)}function Ae(o,t){o||Wt(t)}function JE(o){switch(o?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function af(o,t=null,e=null){if(!o)return null;if(e&&typeof o=="string"&&(e.addDefaultProtocol&&o.startsWith("www.")&&o.match(/\./g)?.length>=2&&(o=`http://${o}`),e.tryConvertEncoding))try{o=s_(o)}catch{}const s=t?URL.parse(o,t):URL.parse(o);return JE(s)?s:null}function rf(o,t,e=!1){const s=URL.parse(o);return s?(s.hash=t,s.href):e&&af(o,"http://example.com")?o.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ot(o,t,e,s=!1){return Object.defineProperty(o,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Ds=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class ey extends Ds{constructor(t,e){super(t,"PasswordException"),this.code=e}}class fd extends Ds{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class hc extends Ds{constructor(t){super(t,"InvalidPDFException")}}class io extends Ds{constructor(t,e,s){super(t,"ResponseException"),this.status=e,this.missing=s}}class t_ extends Ds{constructor(t){super(t,"FormatError")}}class xi extends Ds{constructor(t){super(t,"AbortException")}}function Tv(o){(typeof o!="object"||o?.length===void 0)&&Wt("Invalid argument for bytesToString");const t=o.length,e=8192;if(t<e)return String.fromCharCode.apply(null,o);const s=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),u=o.subarray(a,l);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function fo(o){typeof o!="string"&&Wt("Invalid argument for stringToBytes");const t=o.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=o.charCodeAt(s)&255;return e}function e_(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function n_(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function i_(){try{return new Function(""),!0}catch{return!1}}class Oe{static get isLittleEndian(){return Ot(this,"isLittleEndian",n_())}static get isEvalSupported(){return Ot(this,"isEvalSupported",i_())}static get isOffscreenCanvasSupported(){return Ot(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ot(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ot(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ot(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const pd=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));class pt{static makeHexColor(t,e,s){return`#${pd[t]}${pd[e]}${pd[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,s=0){const a=t[s],l=t[s+1];t[s]=a*e[0]+l*e[2]+e[4],t[s+1]=a*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,s=0){const a=e[0],l=e[1],u=e[2],h=e[3],d=e[4],p=e[5];for(let g=0;g<6;g+=2){const y=t[s+g],v=t[s+g+1];t[s+g]=y*a+v*u+d,t[s+g+1]=y*l+v*h+p}}static applyInverseTransform(t,e){const s=t[0],a=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(s*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-s*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,s){const a=e[0],l=e[1],u=e[2],h=e[3],d=e[4],p=e[5],g=t[0],y=t[1],v=t[2],b=t[3];let S=a*g+d,w=S,C=a*v+d,E=C,L=h*y+p,T=L,D=h*b+p,R=D;if(l!==0||u!==0){const j=l*g,k=l*v,X=u*y,Y=u*b;S+=X,E+=X,C+=Y,w+=Y,L+=j,R+=j,D+=k,T+=k}s[0]=Math.min(s[0],S,C,w,E),s[1]=Math.min(s[1],L,D,T,R),s[2]=Math.max(s[2],S,C,w,E),s[3]=Math.max(s[3],L,D,T,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const s=t[0],a=t[1],l=t[2],u=t[3],h=s**2+a**2,d=s*l+a*u,p=l**2+u**2,g=(h+p)/2,y=Math.sqrt(g**2-(h*p-d**2));e[0]=Math.sqrt(g+y||1),e[1]=Math.sqrt(g-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>u?null:[s,l,a,u]}static pointBoundingBox(t,e,s){s[0]=Math.min(s[0],t),s[1]=Math.min(s[1],e),s[2]=Math.max(s[2],t),s[3]=Math.max(s[3],e)}static rectBoundingBox(t,e,s,a,l){l[0]=Math.min(l[0],t,s),l[1]=Math.min(l[1],e,a),l[2]=Math.max(l[2],t,s),l[3]=Math.max(l[3],e,a)}static#t(t,e,s,a,l,u,h,d,p,g){if(p<=0||p>=1)return;const y=1-p,v=p*p,b=v*p,S=y*(y*(y*t+3*p*e)+3*v*s)+b*a,w=y*(y*(y*l+3*p*u)+3*v*h)+b*d;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],w),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],w)}static#e(t,e,s,a,l,u,h,d,p,g,y,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&this.#t(t,e,s,a,l,u,h,d,-y/g,v);return}const b=g**2-4*y*p;if(b<0)return;const S=Math.sqrt(b),w=2*p;this.#t(t,e,s,a,l,u,h,d,(-g+S)/w,v),this.#t(t,e,s,a,l,u,h,d,(-g-S)/w,v)}static bezierBoundingBox(t,e,s,a,l,u,h,d,p){p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,d),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,d),this.#e(t,s,l,h,e,a,u,d,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),p),this.#e(t,s,l,h,e,a,u,d,3*(-e+3*(a-u)+d),6*(e-2*a+u),3*(a-e),p)}}function s_(o){return decodeURIComponent(escape(o))}let gd=null,ny=null;function Rv(o){return gd||(gd=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ny=new Map([["ﬅ","ſt"]])),o.replaceAll(gd,(t,e,s)=>e?e.normalize("NFKC"):ny.get(s))}function of(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const o=new Uint8Array(32);return crypto.getRandomValues(o),Tv(o)}const lf="pdfjs_internal_id_";function a_(o,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[s,a,...l]=e;if(!o(s)&&!Number.isInteger(s)||!t(a))return!1;const u=l.length;let h=!0;switch(a.name){case"XYZ":if(u<2||u>3)return!1;break;case"Fit":case"FitB":return u===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(u>1)return!1;break;case"FitR":if(u!==4)return!1;h=!1;break;default:return!1}for(const d of l)if(!(typeof d=="number"||h&&d===null))return!1;return!0}function He(o,t,e){return Math.min(Math.max(o,t),e)}function Mv(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(Tv(o))}function r_(o){return Uint8Array.fromBase64?Uint8Array.fromBase64(o):fo(atob(o))}typeof Promise.try!="function"&&(Promise.try=function(o,...t){return new Promise(e=>{e(o(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(o){return o.reduce((t,e)=>t+e,0)});const yi="http://www.w3.org/2000/svg";class Ts{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ba(o,t="text"){if(Xr(o,document.baseURI)){const e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class po{constructor({viewBox:t,userUnit:e,scale:s,rotation:a,offsetX:l=0,offsetY:u=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=s,this.rotation=a,this.offsetX=l,this.offsetY=u,s*=e;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,y,v,b;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,y=0,v=0,b=1;break;case 90:g=0,y=1,v=1,b=0;break;case 270:g=0,y=-1,v=-1,b=0;break;case 0:g=1,y=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(v=-v,b=-b);let S,w,C,E;g===0?(S=Math.abs(p-t[1])*s+l,w=Math.abs(d-t[0])*s+u,C=(t[3]-t[1])*s,E=(t[2]-t[0])*s):(S=Math.abs(d-t[0])*s+l,w=Math.abs(p-t[1])*s+u,C=(t[2]-t[0])*s,E=(t[3]-t[1])*s),this.transform=[g*s,y*s,v*s,b*s,S-g*s*d-v*s*p,w-y*s*d-b*s*p],this.width=C,this.height=E}get rawDims(){const t=this.viewBox;return Ot(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new po({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){const s=[t,e];return pt.applyTransform(s,this.transform),s}convertToViewportRectangle(t){const e=[t[0],t[1]];pt.applyTransform(e,this.transform);const s=[t[2],t[3]];return pt.applyTransform(s,this.transform),[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){const s=[t,e];return pt.applyInverseTransform(s,this.transform),s}}class _c extends Ds{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function go(o){const t=o.length;let e=0;for(;e<t&&o[e].trim()==="";)e++;return o.substring(e,e+5).toLowerCase()==="data:"}function Cc(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function Lv(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function Dv(o,t="document.pdf"){if(typeof o!="string")return t;if(go(o))return wt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(o);let l=s.exec(a[1])||s.exec(a[2])||s.exec(a[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class iy{started=Object.create(null);times=[];time(t){t in this.started&&wt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||wt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:a,end:l}of this.times)t.push(`${s.padEnd(e)} ${l-a}ms
`);return t.join("")}}function Xr(o,t){const e=t?URL.parse(o,t):URL.parse(o);return e?.protocol==="http:"||e?.protocol==="https:"}function Mn(o){o.preventDefault()}function fe(o){o.preventDefault(),o.stopPropagation()}function o_(o){console.log("Deprecated API usage: "+o)}class cf{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const s=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(u+=g,h+=y):p==="+"&&(u-=g,h-=y),new Date(Date.UTC(s,a,l,u,h,d))}}function Ov(o,{scale:t=1,rotation:e=0}){const{width:s,height:a}=o.attributes.style,l=[0,0,parseInt(s),parseInt(a)];return new po({viewBox:l,userUnit:1,scale:t,rotation:e})}function uf(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(wt(`Not a valid color format: "${o}"`),[0,0,0])}function l_(o){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of o.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;o.set(e,uf(s))}t.remove()}function ae(o){const{a:t,b:e,c:s,d:a,e:l,f:u}=o.getTransform();return[t,e,s,a,l,u]}function Vn(o){const{a:t,b:e,c:s,d:a,e:l,f:u}=o.getTransform().invertSelf();return[t,e,s,a,l,u]}function Ji(o,t,e=!1,s=!0){if(t instanceof po){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:u}=o,h=Oe.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${l}px`,g=h?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,y=h?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=g,u.height=y):(u.width=y,u.height=g)}s&&o.setAttribute("data-main-rotation",t.rotation)}class zn{constructor(){const{pixelRatio:t}=zn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,s,a,l=-1){let u=1/0,h=1/0,d=1/0;s=zn.capPixels(s,l),s>0&&(u=Math.sqrt(s/(t*e))),a!==-1&&(h=a/t,d=a/e);const p=Math.min(u,h,d);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,s):s}return t}}const dc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Jr{#t=null;#e=null;#n;#i=null;#a=null;#s=null;static#l=null;constructor(t){this.#n=t,Jr.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Mn,{signal:e}),t.addEventListener("pointerdown",Jr.#o,{signal:e});const s=this.#i=document.createElement("div");s.className="buttons",t.append(s);const a=this.#n.toolbarPosition;if(a){const{style:l}=t,u=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,fe(t)}#c(t){this.#n._focusEventsAllowed=!0,fe(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Mn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",Jr.#l[t]),this.#d(s),s.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#i.append(s)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.prepend(e,this.#f),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#d(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class c_{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Mn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let s=0,a=0;for(const l of t){const u=l.y+l.height;if(u<s)continue;const h=l.x+(e?l.width:0);if(u>s){a=h,s=u;continue}e?h>a&&(a=h):h<a&&(a=h)}return[e?1-a:a,s]}show(t,e,s){const[a,l]=this.#a(e,s),{style:u}=this.#e||=this.#i();t.append(this.#e),u.insetInlineEnd=`${100*a}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#n._signal;t.addEventListener("contextmenu",Mn,{signal:s}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:s}),this.#t.append(t)}}function Nv(o,t,e){for(const s of e)t.addEventListener(s,o[s].bind(o))}class u_{#t=0;get id(){return`${WE}${this.#t++}`}}class hf{#t=of();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ot(this,"_isSVGFittingCanvas",l)}async#i(t,e){this.#n||=new Map;let s=this.#n.get(t);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(s.url=e,a=await Ba(e,"blob")):e instanceof File?a=s.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=hf._isSVGFittingCanvas,u=new FileReader,h=new Image,d=new Promise((p,g)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},u.onload=async()=>{const y=s.svgUrl=u.result;h.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=u.onerror=g});u.readAsDataURL(a),await d}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){wt(a),s=null}return this.#n.set(t,s),s&&this.#n.set(s.id,s),s}async getFromFile(t){const{lastModified:e,name:s,size:a,type:l}=t;return this.#i(`${e}_${s}_${a}_${l}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const s=await e;return this.#i(t,s)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let s=this.#n.get(t);if(s?.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,s),this.#n.set(s.id,s),s}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=a.convertToBlob()}s.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class h_{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:s,mustExec:a,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:h=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:s,type:l};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(d);return}if(u&&this.#t[this.#i].type===l){h&&(d.undo=this.#t[this.#i].undo),this.#t[this.#i]=d;return}const p=this.#i+1;p===this.#n?this.#t.splice(0,1):(this.#i=p,p<this.#t.length&&this.#t.splice(p)),this.#t.push(d)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class mo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Oe.platform;for(const[s,a,l={}]of t)for(const u of s){const h=u.startsWith("mac+");e&&h?(this.callbacks.set(u.slice(4),{callback:a,options:l}),this.allKeys.add(u.split("+").at(-1))):!e&&!h&&(this.callbacks.set(u,{callback:a,options:l}),this.allKeys.add(u.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(this.#t(e));if(!s)return;const{callback:a,options:{bubbles:l=!1,args:u=[],checker:h=null}}=s;h&&!h(t,e)||(a.bind(t,...u,e)(),l||fe(e))}}class df{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return l_(t),Ot(this,"_colors",t)}convert(t){const e=uf(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,a]of this._colors)if(a.every((l,u)=>l===e[u]))return df._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}}class Ei{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#a=null;#s=null;#l=null;#o=new h_;#h=null;#c=null;#d=0;#u=new Set;#f=null;#r=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#y=!1;#v=null;#b=null;#S=null;#x=null;#_=!1;#T=null;#M=new u_;#w=!1;#R=!1;#C=null;#D=null;#O=null;#N=null;#B=null;#E=St.NONE;#A=new Set;#j=null;#I=null;#G=null;#q=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#k=null;#P=null;#U=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ei.prototype,e=u=>u.#P.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ot(this,"_keyboardManager",new mo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#P.contains(h)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#P.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}constructor(t,e,s,a,l,u,h,d,p,g,y,v,b,S){const w=this._signal=this.#t.signal;this.#P=t,this.#U=e,this.#a=s,this.#I=a,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:w}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),l._on("setpreference",this.onSetPreference.bind(this),{signal:w}),l._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:w}),this.#it(),this.#ot(),this.#W(),this.#s=u.annotationStorage,this.#v=u.filterFactory,this.#G=h,this.#x=d||null,this.#m=p,this.#g=g,this.#y=y,this.#B=v||null,this.viewParameters={realScale:Ts.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=S!==!1}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#N?.clear(),this.#e=null,this.#A.clear(),this.#o.destroy(),this.#a?.destroy(),this.#I?.destroy(),this.#T?.hide(),this.#T=null,this.#O?.destroy(),this.#O=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ot(this,"hcmFilter",this.#G?this.#v.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Ot(this,"direction",getComputedStyle(this.#P).direction)}get highlightColors(){return Ot(this,"highlightColors",this.#x?new Map(this.#x.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ot(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#O=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#P.focus()}findParent(t,e){for(const s of this.#i.values()){const{x:a,y:l,width:u,height:h}=s.div.getBoundingClientRect();if(t>=a&&t<=a+u&&e>=l&&e<=l+h)return s}return null}disableUserSelect(t=!1){this.#U.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ts.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of this.#i.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:u}=e,h=e.toString(),p=this.#Y(e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const y=this.#K(p),v=this.#E===St.NONE,b=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:u,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(St.HIGHLIGHT,b);return}b()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=this.#Y(t).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(this.#T||=new c_(this),this.#T.show(s,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#j&&(this.#T?.hide(),this.#j=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#j)return;const a=this.#Y(t).closest(".textLayer");if(!a){this.#j&&(this.#T?.hide(),this.#j=null,this.#L({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#j=e,this.#L({hasSelectedText:!0}),!(this.#E!==St.HIGHLIGHT&&this.#E!==St.NONE)&&(this.#E===St.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#E===St.HIGHLIGHT?this.#K(a):null;l?.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),d=p=>{p.type==="pointerup"&&p.button!==0||(u.abort(),l?.toggleDrawing(!0),p.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}}#X(t=""){this.#E===St.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#st(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#at(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#W(){if(this.#C)return;this.#C=new AbortController;const t=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#rt(){this.#C?.abort(),this.#C=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#Q()}removeEditListeners(){this.#rt(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of this.#r)if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of this.#r)if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of this.#A){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const u of this.#r)if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){wt(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const d of s){const p=await a.deserialize(d);if(!p)return;l.push(p)}const u=()=>{for(const d of l)this.#J(d);this.#tt(l)},h=()=>{for(const d of l)d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}catch(l){wt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==St.NONE&&!this.isEditorHandlingKeyboard&&Ei._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#L(t){Object.entries(t).some(([s,a])=>this.#V[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#E===St.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#F([[kt.HIGHLIGHT_FREE,!0]]))}#F(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#st(),this.#Q(),this.#L({isEditing:this.#E!==St.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#at(),this.#Z(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#r){this.#r=t;for(const e of this.#r)this.#F(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#w?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(this.#E!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#E=t,t===St.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#z.resolve();return}t===St.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const a of this.#i.values())a.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const a of this.#n.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#r){switch(t){case kt.CREATE:this.currentLayer.addNewEditor(e);return;case kt.HIGHLIGHT_DEFAULT_COLOR:this.#O?.updateColor(e);break;case kt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const s of this.#A)s.updateParams(t,e);for(const s of this.#r)s.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){for(const l of this.#n.values())l.editorType===t&&l.show(e);(this.#q?.get(kt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#F([[kt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#w){this.#w=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#w){this.#w=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const s of this.#n.values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#F(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#A);return t}updateUI(t){this.#ut===t&&this.#F(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#F(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#L({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(t){this.#o.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(t){this.#o.cleanType(t)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],s=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},a=()=>{for(const l of e)this.#J(l)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==St.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[a,l]=this.#H,u=[...this.#A],h=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of u)this.#n.has(d.id)&&(d.translateInPage(a,l),d.translationDone())},undo:()=>{for(const d of u)this.#n.has(d.id)&&(d.translateInPage(-a,-l),d.translationDone())},mustExec:!1})},h);for(const d of u)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#A)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:a,y:l,pageIndex:u},h]of t)h.newX=a,h.newY=l,h.newPageIndex=u,e||=a!==h.savedX||l!==h.savedY||u!==h.savedPageIndex;if(!e)return!1;const s=(a,l,u,h)=>{if(this.#n.has(a.id)){const d=this.#i.get(h);d?a._setParentAndPosition(d,l,u):(a.pageIndex=h,a.x=l,a.y=u)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:u,newPageIndex:h}]of t)s(a,l,u,h)},undo:()=>{for(const[a,{savedX:l,savedY:u,savedPageIndex:h}]of t)s(a,l,u,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const s of this.#f.keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return Ot(this,"imageManager",new hf)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:a,width:l,height:u}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,y,v)=>({x:(g-a)/u,y:1-(p+y-s)/l,width:v/u,height:y/l});break;case"180":h=(p,g,y,v)=>({x:1-(p+y-s)/l,y:1-(g+v-a)/u,width:y/l,height:v/u});break;case"270":h=(p,g,y,v)=>({x:1-(g+v-a)/u,y:(p-s)/l,width:v/u,height:y/l});break;default:h=(p,g,y,v)=>({x:(p-s)/l,y:(g-a)/u,width:y/l,height:v/u});break}const d=[];for(let p=0,g=e.rangeCount;p<g;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:v,y:b,width:S,height:w}of y.getClientRects())S===0||w===0||d.push(h(v,b,S,w))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#l||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){const e=this.#l?.get(t.data.id);if(!e)return;const s=this.#s.getRawValue(e);s&&(this.#E===St.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}setMissingCanvas(t,e,s){const a=this.#N?.get(t);a&&(a.setCanvas(e,s),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class Xn{#t=null;#e=!1;#n=null;#i=null;#a=null;#s=null;#l=!1;#o=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,Xn.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Xn._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Xn.#f.missing),e.setAttribute("data-l10n-id",Xn.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#h._uiManager._signal;t.addEventListener("contextmenu",Mn,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const a=l=>{l.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",a,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#l=!0,a(l))},{signal:s}),await this.#p(),t}get#r(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await Xn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:a,cancel:l=!1}){s&&(this.#c=s,this.#d=a),!(this.#t===t&&this.#e===e)&&(l||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Xn.#f[this.#r]),this.#i?.setAttribute("data-l10n-id",Xn.#f[`${this.#r}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const a=100,l=this.#h._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:l})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class yo{#t;#e=!1;#n=null;#i;#a;#s;#l;#o=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:l=null,onPinchEnd:u=null,signal:h}){this.#t=t,this.#n=s,this.#i=e,this.#a=a,this.#s=l,this.#l=u,this.#d=new AbortController,this.#h=AbortSignal.any([h,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/zn.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,l=AbortSignal.any([this.#h,a.signal]),u=this.#t,h={capture:!0,signal:l,passive:!1},d=p=>{p.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};u.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(fe(p),d(p))},h),u.addEventListener("pointerup",d,h),u.addEventListener("pointercancel",d,h);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#h,this.#u.signal]),l=this.#t,u={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",this.#r.bind(this),u);const h=this.#p.bind(this);l.addEventListener("touchend",h,u),l.addEventListener("touchcancel",h,u),u.capture=!0,l.addEventListener("pointerdown",fe,u),l.addEventListener("pointermove",fe,u),l.addEventListener("pointercancel",fe,u),l.addEventListener("pointerup",fe,u),this.#a?.()}if(fe(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#r(t){if(!this.#c||t.touches.length!==2)return;fe(t);let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]);const{screenX:a,screenY:l}=e,{screenX:u,screenY:h}=s,d=this.#c,{touch0X:p,touch0Y:g,touch1X:y,touch1Y:v}=d,b=y-p,S=v-g,w=u-a,C=h-l,E=Math.hypot(w,C)||1,L=Math.hypot(b,S)||1;if(!this.#e&&Math.abs(L-E)<=yo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=l,d.touch1X=u,d.touch1Y=h,!this.#e){this.#e=!0;return}const T=[(a+u)/2,(l+h)/2];this.#s?.(T,L,E)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(fe(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class gt{#t=null;#e=null;#n=null;#i=!1;#a=null;#s="";#l=!1;#o=null;#h=null;#c=null;#d=null;#u="";#f=!1;#r=null;#p=!1;#m=!1;#g=!1;#y=null;#v=0;#b=0;#S=null;#x=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=gt._zIndex++;static _borderLineWidth=-1;static _colorManager=new df;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=gt.prototype._resizeWithKeyboard,e=Ei.TRANSLATE_SMALL,s=Ei.TRANSLATE_BIG;return Ot(this,"_resizerKeyboardManager",new mo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],gt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[l,u];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ot(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new d_({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(gt._l10n??=t,gt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),gt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);gt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#U(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,a){const[l,u]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(t+s)/l,this.y=(e+a)/u,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[s,a]=this.parentDimensions;this.setAt(t*s,e*a,this.width*s,this.height*a),this._onTranslated()}#M([t,e],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#r||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#r||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[a,l]}=this;if(this.x+=t/a,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:u,y:h}=this;const[d,p]=this.getBaseTranslation();u+=d,h+=p;const{style:g}=s;g.left=`${(100*u).toFixed(2)}%`,g.top=`${(100*h).toFixed(2)}%`,this._onTranslating(u,h),s.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}get _hasBeenResized(){return!!this.#r&&(this.#r[2]!==this.width||this.#r[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=gt,a=s/t,l=s/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[s,a]}=this;let{x:l,y:u,width:h,height:d}=this;if(h*=s,d*=a,l*=s,u*=a,this._mustFixPosition)switch(t){case 0:l=He(l,0,s-h),u=He(u,0,a-d);break;case 90:l=He(l,0,s-d),u=He(u,h,a);break;case 180:l=He(l,h,s),u=He(u,d,a);break;case 270:l=He(l,d,s),u=He(u,0,a-h);break}this.x=l/=s,this.y=u/=a;const[p,g]=this.getBaseTranslation();l+=p,u+=g,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*u).toFixed(2)}%`,this.moveInDOM()}static#w(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return gt.#w(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return gt.#w(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,a]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/s).toFixed(2)}%`,this.#l||(l.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,a=s.endsWith("%"),l=!this.#l&&e.endsWith("%");if(a&&l)return;const[u,h]=this.parentDimensions;a||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!this.#l&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const a=document.createElement("div");this.#o.append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",this.#D.bind(this,s),{signal:e}),a.addEventListener("contextmenu",Mn,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#o)}#D(t,e){e.preventDefault();const{isMac:s}=Oe.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("touchmove",fe,{passive:!1,signal:u}),window.addEventListener("contextmenu",Mn,{signal:u}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=h,this.div.style.cursor=d,this.#N()};window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("blur",p,{signal:u})}#O(t,e,s,a){this.width=s,this.height=a,this.x=t,this.y=e;const[l,u]=this.parentDimensions;this.setDims(l*s,u*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:s,savedHeight:a}=this.#c;this.#c=null;const l=this.x,u=this.y,h=this.width,d=this.height;l===t&&u===e&&h===s&&d===a||this.addCommands({cmd:this.#O.bind(this,l,u,h,d),undo:this.#O.bind(this,t,e,s,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#B(t,e){const[s,a]=this.parentDimensions,l=this.x,u=this.y,h=this.width,d=this.height,p=gt.MIN_SIZE/s,g=gt.MIN_SIZE/a,y=this.#R(this.rotation),v=(O,B)=>[y[0]*O+y[2]*B,y[1]*O+y[3]*B],b=this.#R(360-this.rotation),S=(O,B)=>[b[0]*O+b[2]*B,b[1]*O+b[3]*B];let w,C,E=!1,L=!1;switch(t){case"topLeft":E=!0,w=(O,B)=>[0,0],C=(O,B)=>[O,B];break;case"topMiddle":w=(O,B)=>[O/2,0],C=(O,B)=>[O/2,B];break;case"topRight":E=!0,w=(O,B)=>[O,0],C=(O,B)=>[0,B];break;case"middleRight":L=!0,w=(O,B)=>[O,B/2],C=(O,B)=>[0,B/2];break;case"bottomRight":E=!0,w=(O,B)=>[O,B],C=(O,B)=>[0,0];break;case"bottomMiddle":w=(O,B)=>[O/2,B],C=(O,B)=>[O/2,0];break;case"bottomLeft":E=!0,w=(O,B)=>[0,B],C=(O,B)=>[O,0];break;case"middleLeft":L=!0,w=(O,B)=>[0,B/2],C=(O,B)=>[O,B/2];break}const T=w(h,d),D=C(h,d);let R=v(...D);const j=gt._round(l+R[0]),k=gt._round(u+R[1]);let X=1,Y=1,it,nt;if(e.fromKeyboard)({deltaX:it,deltaY:nt}=e);else{const{screenX:O,screenY:B}=e,[at,Z]=this.#h;[it,nt]=this.screenToPageTranslation(O-at,B-Z),this.#h[0]=O,this.#h[1]=B}if([it,nt]=S(it/s,nt/a),E){const O=Math.hypot(h,d);X=Y=Math.max(Math.min(Math.hypot(D[0]-T[0]-it,D[1]-T[1]-nt)/O,1/h,1/d),p/h,g/d)}else L?X=He(Math.abs(D[0]-T[0]-it),p,1)/h:Y=He(Math.abs(D[1]-T[1]-nt),g,1)/d;const Q=gt._round(h*X),et=gt._round(d*Y);R=v(...C(Q,et));const rt=j-R[0],st=k-R[1];this.#r||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=et,this.x=rt,this.y=st,this.setDims(s*Q,a*et),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new Jr(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(Xn.initialize(gt._l10n),this.#n=new Xn(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*s/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[a,l]=this.getInitialTranslation();return this.translate(a,l),Nv(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#x||=new yo({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#j.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#E(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(t,e,s){let l=.7*(s/e)+1-.7;if(l===1)return;const u=this.#R(this.rotation),h=(j,k)=>[u[0]*j+u[2]*k,u[1]*j+u[3]*k],[d,p]=this.parentDimensions,g=this.x,y=this.y,v=this.width,b=this.height,S=gt.MIN_SIZE/d,w=gt.MIN_SIZE/p;l=Math.max(Math.min(l,1/v,1/b),S/v,w/b);const C=gt._round(v*l),E=gt._round(b*l);if(C===v&&E===b)return;this.#r||=[g,y,v,b];const L=h(v/2,b/2),T=gt._round(g+L[0]),D=gt._round(y+L[1]),R=h(C/2,E/2);this.x=T-R[0],this.y=D-R[1],this.width=C,this.height=E,this.setDims(d*C,p*E),this.fixAndSetPosition(),this._onResizing()}#j(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(t){const{isMac:e}=Oe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#I(t)}#I(t){const{isMac:e}=Oe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a),u={capture:!0,passive:!1,signal:l},h=p=>{a.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#I(p),s&&this._onStopDragging()};e&&(this.#v=t.clientX,this.#b=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",p=>{s||(s=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:v}=p;if(v!==this.#a){fe(p);return}const[b,S]=this.screenToPageTranslation(g-this.#v,y-this.#b);this.#v=g,this.#b=y,this._uiManager.dragSelectedEditors(b,S)},u),window.addEventListener("touchmove",fe,u),window.addEventListener("pointerdown",p=>{p.pointerType===this.#s&&(this.#x||p.isPrimary)&&h(p),fe(p)},u));const d=p=>{if(!this.#a||this.#a===p.pointerId){h(p);return}fe(p)};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,s=this.rotation){const a=this.parentScale,[l,u]=this.pageDimensions,[h,d]=this.pageTranslation,p=t/a,g=e/a,y=this.x*l,v=this.y*u,b=this.width*l,S=this.height*u;switch(s){case 0:return[y+p+h,u-v-g-S+d,y+p+b+h,u-v-g+d];case 90:return[y+g+h,u-v+p+d,y+g+S+h,u-v+p+b+d];case 180:return[y-p-b+h,u-v+g+d,y-p+h,u-v+g+S+d];case 270:return[y-g-S+h,u-v-p-b+d,y-g+h,u-v-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,a,l,u]=t,h=l-s,d=u-a;switch(this.rotation){case 0:return[s,e-u,h,d];case 90:return[s,e-a,d,h];case 180:return[l,e-a,h,d];case 270:return[l,e-u,d,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:l,innerWidth:u}=window;return e<u&&a>0&&t<l&&s>0}#q(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Wt("An editor must be serializable")}static async deserialize(t,e,s){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[l,u]=a.pageDimensions,[h,d,p,g]=a.getRectInCurrentCoords(t.rect,u);return a.x=h/l,a.y=d/u,a.width=p/l,a.height=g/u,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#U(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#x?.destroy(),this.#x=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const u=this.#V.bind(this),h=this.#H.bind(this),d=this._uiManager._signal;for(const p of this.#e){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:d}),p.addEventListener("blur",h,{signal:d}),p.addEventListener("focus",this.#k.bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",gt._l10nResizer[g])}}const s=this.#e[0];let a=0;for(const u of e){if(u===s)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==a){if(l<a)for(let h=0;h<a-l;h++)this.#o.append(this.#o.firstChild);else if(l>a)for(let h=0;h<l-a;h++)this.#o.firstChild.before(this.#o.lastChild);let u=0;for(const h of e){const p=this.#e[u++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",gt._l10nResizer[p])}}this.#P(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){gt._resizerKeyboardManager.exec(this,t)}#H(t){this.#g&&t.relatedTarget?.parentNode!==this.#o&&this.#U()}#k(t){this.#u=this.#g?t:""}#P(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#B(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#U(){this.#g=!1,this.#P(-1),this.#N()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;const s=t/e,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:s}=t;let a=this.#S.get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(s),this.#S.size===0&&(this.#S=null)},gt._telemetryTimeout),this.#S.set(s,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class d_ extends gt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const sy=3285377520,Cn=4294901760,$n=65535;class kv{constructor(t){this.h1=t?t&4294967295:sy,this.h2=t?t&4294967295:sy}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let w=0,C=t.length;w<C;w++){const E=t.charCodeAt(w);E<=255?e[s++]=E:(e[s++]=E>>>8,e[s++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,l=s-a*4,u=new Uint32Array(e.buffer,0,a);let h=0,d=0,p=this.h1,g=this.h2;const y=3432918353,v=461845907,b=y&$n,S=v&$n;for(let w=0;w<a;w++)w&1?(h=u[w],h=h*y&Cn|h*b&$n,h=h<<15|h>>>17,h=h*v&Cn|h*S&$n,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(d=u[w],d=d*y&Cn|d*b&$n,d=d<<15|d>>>17,d=d*v&Cn|d*S&$n,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,l){case 3:h^=e[a*4+2]<<16;case 2:h^=e[a*4+1]<<8;case 1:h^=e[a*4],h=h*y&Cn|h*b&$n,h=h<<15|h>>>17,h=h*v&Cn|h*S&$n,a&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Cn|t*36045&$n,e=e*4283543511&Cn|((e<<16|t>>>16)*2950163797&Cn)>>>16,t^=e>>>1,t=t*444984403&Cn|t*60499&$n,e=e*3301882366&Cn|((e<<16|t>>>16)*3120437893&Cn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Nd=Object.freeze({map:null,hash:"",transfer:void 0});class ff{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=this.#n.get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof gt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=this.#n.get(t);let a=!1;if(s!==void 0)for(const[l,u]of Object.entries(e))s[l]!==u&&(a=!0,s[l]=u);else a=!0,this.#n.set(t,e);a&&this.#i(),e instanceof gt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Pv(this)}get serializable(){if(this.#n.size===0)return Nd;const t=new Map,e=new kv,s=[],a=Object.create(null);let l=!1;for(const[u,h]of this.#n){const d=h instanceof gt?h.serialize(!1,a):h;d&&(t.set(u,d),e.update(`${u}:${JSON.stringify(d)}`),l||=!!d.bitmap)}if(l)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Nd}get editorStats(){let t=null;const e=new Map;for(const s of this.#n.values()){if(!(s instanceof gt))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const u=t[l]||=new Map;for(const[h,d]of Object.entries(a)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[s,a]of e)t[s]=a.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof gt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Pv extends ff{#t;constructor(t){super();const{map:e,hash:s,transfer:a}=t.serializable,l=structuredClone(e,a?{transfer:a}:null);this.#t={map:l,hash:s,transfer:a}}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ot(this,"modifiedIds",{ids:new Set,hash:""})}}class f_{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:s}){if(!(!t||this.#t.has(t.loadedName))){if(Ae(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:l,style:u}=t,h=new FontFace(a,l,u);this.addNativeFontFace(h);try{await h.load(),this.#t.add(a),s?.(t)}catch{wt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw wt(`Failed to load font '${s.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ot(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ot(this,"isSyncFontLoadingSupported",$e||Oe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ae(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:e,callback:t};return s.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ot(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(D,R){return D.charCodeAt(R)<<24|D.charCodeAt(R+1)<<16|D.charCodeAt(R+2)<<8|D.charCodeAt(R+3)&255}function a(D,R,j,k){const X=D.substring(0,R),Y=D.substring(R+j);return X+k+Y}let l,u;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let p=0;function g(D,R){if(++p>30){wt("Load test font never loaded."),R();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(g.bind(null,D,R))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,y.length,y);const S=16,w=1482184792;let C=s(v,S);for(l=0,u=y.length-3;l<u;l+=4)C=C-w+s(y,l)|0;l<y.length&&(C=C-w+s(y+"XXX",l)|0),v=a(v,S,4,e_(C));const E=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${y}";src:${E}}`;this.insertRule(L);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const D of[t.loadedName,y]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=D,T.append(R)}this._document.body.append(T),g(y,()=>{T.remove(),e.complete()})}}class p_{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Mv(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const s=this.loadedName+"_path_"+e;let a;try{a=t.get(s)}catch(u){wt(`getPathGenerator - ignoring character: "${u}".`)}const l=new Path2D(a||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[e]=l}}function g_(o){if(o instanceof URL)return o.href;if(typeof o=="string"){if($e)return o;const t=URL.parse(o,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function m_(o){if($e&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return fo(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o?.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Hl(o){if(typeof o!="string")return null;if(o.endsWith("/"))return o;throw new Error(`Invalid factory url: "${o}" must include trailing slash.`)}const kd=o=>typeof o=="object"&&Number.isInteger(o?.num)&&o.num>=0&&Number.isInteger(o?.gen)&&o.gen>=0,y_=o=>typeof o=="object"&&typeof o?.name=="string",zv=a_.bind(null,kd,y_);class v_{#t=new Map;#e=Promise.resolve();postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,s)})}addEventListener(t,e,s=null){let a=null;if(s?.signal instanceof AbortSignal){const{signal:l}=s;if(l.aborted){wt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ul={DATA:1,ERROR:2},ve={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ay(){}function tn(o){if(o instanceof xi||o instanceof hc||o instanceof ey||o instanceof io||o instanceof fd)return o;switch(o instanceof Error||typeof o=="object"&&o!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new xi(o.message);case"InvalidPDFException":return new hc(o.message);case"PasswordException":return new ey(o.message,o.code);case"ResponseException":return new io(o.message,o.status,o.missing);case"UnknownErrorException":return new fd(o.message,o.details)}return new fd(o.message,o.toString())}class Kr{#t=new AbortController;constructor(t,e,s){this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const s=t.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Ul.DATA)a.resolve(t.data);else if(t.callback===Ul.ERROR)a.reject(tn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,a=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(u){l.postMessage({sourceName:s,targetName:a,callback:Ul.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:s,targetName:a,callback:Ul.ERROR,callbackId:t.callbackId,reason:tn(u)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},s)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,e,s,a){const l=this.streamId++,u=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:u,targetName:h,action:t,streamId:l,data:e,desiredSize:p.desiredSize},a),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,d.postMessage({sourceName:u,targetName:h,stream:ve.PULL,streamId:l,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ae(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:u,targetName:h,stream:ve.CANCEL,streamId:l,reason:tn(p)}),g.promise}},s)}#n(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,l=this.comObj,u=this,h=this.actionHandler[t.action],d={enqueue(p,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:a,stream:ve.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:ve.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){Ae(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:ve.ERROR,streamId:e,reason:tn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(h,t.data,d).then(function(){l.postMessage({sourceName:s,targetName:a,stream:ve.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:a,stream:ve.START_COMPLETE,streamId:e,reason:tn(p)})})}#i(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,l=this.comObj,u=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case ve.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(tn(t.reason));break;case ve.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(tn(t.reason));break;case ve.PULL:if(!h){l.postMessage({sourceName:s,targetName:a,stream:ve.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||ay).then(function(){l.postMessage({sourceName:s,targetName:a,stream:ve.PULL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:a,stream:ve.PULL_COMPLETE,streamId:e,reason:tn(p)})});break;case ve.ENQUEUE:if(Ae(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case ve.CLOSE:if(Ae(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this.#a(u,e);break;case ve.ERROR:Ae(u,"error should have stream controller"),u.controller.error(tn(t.reason)),this.#a(u,e);break;case ve.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(tn(t.reason)),this.#a(u,e);break;case ve.CANCEL:if(!h)break;const d=tn(t.reason);Promise.try(h.onCancel||ay,d).then(function(){l.postMessage({sourceName:s,targetName:a,stream:ve.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:s,targetName:a,stream:ve.CANCEL_COMPLETE,streamId:e,reason:tn(p)})}),h.sinkCapability.reject(d),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class jv{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Wt("Abstract method `_createCanvas` called.")}}class b_ extends jv{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class Iv{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class ry extends Iv{async _fetch(t){const e=await Ba(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):fo(e)}}class Fv{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,a,l){return"none"}destroy(t=!1){}}class A_ extends Fv{#t;#e;#n;#i;#a;#s;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#a=e}get#o(){return this.#e||=new Map}get#h(){return this.#s||=new Map}get#c(){if(!this.#n){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const s=this.#a.createElementNS(yi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#a.createElementNS(yi,"defs"),t.append(s),s.append(this.#n),this.#a.body.append(t)}return this.#n}#d(t){if(t.length===1){const d=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=d[y]/255;const g=p.join(",");return[g,g,g]}const[e,s,a]=t,l=new Array(256),u=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=e[d]/255,u[d]=s[d]/255,h[d]=a[d]/255;return[l.join(","),u.join(","),h.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(go(e)?wt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=rf(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[s,a,l]=this.#d(t),u=t.length===1?s:`${s}${a}${l}`;if(e=this.#o.get(u),e)return this.#o.set(t,e),e;const h=`g_${this.#i}_transfer_map_${this.#l++}`,d=this.#u(h);this.#o.set(t,d),this.#o.set(u,d);const p=this.#p(h);return this.#g(s,a,l,p),d}addHCMFilter(t,e){const s=`${t}-${e}`,a="base";let l=this.#h.get(a);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#h.set(a,l)),!t||!e))return l.url;const u=this.#v(t);t=pt.makeHexColor(...u);const h=this.#v(e);if(e=pt.makeHexColor(...h),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return l.url;const d=new Array(256);for(let b=0;b<=255;b++){const S=b/255;d[b]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const p=d.join(","),g=`g_${this.#i}_hcm_filter`,y=l.filter=this.#p(g);this.#g(p,p,p,y),this.#r(y);const v=(b,S)=>{const w=u[b]/255,C=h[b]/255,E=new Array(S+1);for(let L=0;L<=S;L++)E[L]=w+L/S*(C-w);return E.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),y),l.url=this.#u(g),l.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[s]=this.#d([t]),a=`alpha_${s}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#i}_alpha_map_${this.#l++}`,u=this.#u(l);this.#o.set(t,u),this.#o.set(a,u);const h=this.#p(l);return this.#y(s,h),u}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let s,a;if(t?([s]=this.#d([t]),a=`luminosity_${s}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#i}_luminosity_map_${this.#l++}`,u=this.#u(l);this.#o.set(t,u),this.#o.set(a,u);const h=this.#p(l);return this.#f(h),t&&this.#y(s,h),u}addHighlightHCMFilter(t,e,s,a,l){const u=`${e}-${s}-${a}-${l}`;let h=this.#h.get(t);if(h?.key===u||(h?(h.filter?.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},this.#h.set(t,h)),!e||!s))return h.url;const[d,p]=[e,s].map(this.#v.bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[v,b]=[a,l].map(this.#v.bind(this));y<g&&([g,y,v,b]=[y,g,b,v]),this.#c.style.color="";const S=(E,L,T)=>{const D=new Array(256),R=(y-g)/T,j=E/255,k=(L-E)/(255*T);let X=0;for(let Y=0;Y<=T;Y++){const it=Math.round(g+Y*R),nt=j+Y*k;for(let Q=X;Q<=it;Q++)D[Q]=nt;X=it+1}for(let Y=X;Y<256;Y++)D[Y]=D[X-1];return D.join(",")},w=`g_${this.#i}_hcm_${t}_filter`,C=h.filter=this.#p(w);return this.#r(C),this.#g(S(v[0],b[0],5),S(v[1],b[1],5),S(v[2],b[2],5),C),h.url=this.#u(w),h.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#l=0)}#f(t){const e=this.#a.createElementNS(yi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#r(t){const e=this.#a.createElementNS(yi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(yi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,s){const a=this.#a.createElementNS(yi,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)}#g(t,e,s,a){const l=this.#a.createElementNS(yi,"feComponentTransfer");a.append(l),this.#m(l,"feFuncR",t),this.#m(l,"feFuncG",e),this.#m(l,"feFuncB",s)}#y(t,e){const s=this.#a.createElementNS(yi,"feComponentTransfer");e.append(s),this.#m(s,"feFuncA",t)}#v(t){return this.#c.style.color=t,uf(getComputedStyle(this.#c).getPropertyValue("color"))}}class Bv{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class oy extends Bv{async _fetch(t){const e=await Ba(t,"arraybuffer");return new Uint8Array(e)}}class Hv{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class ly extends Hv{async _fetch(t){const e=await Ba(t,"arraybuffer");return new Uint8Array(e)}}$e&&wt("Please use the `legacy` build in Node.js environments.");async function pf(o){const e=await process.getBuiltinModule("fs").promises.readFile(o);return new Uint8Array(e)}class S_ extends Fv{}class w_ extends jv{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class x_ extends Iv{async _fetch(t){return pf(t)}}class E_ extends Bv{async _fetch(t){return pf(t)}}class __ extends Hv{async _fetch(t){return pf(t)}}const ze={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Pd(o,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,s),o.clip(a)}class gf{isModifyingCurrentTransform(){return!1}getPattern(){Wt("Abstract method `getPattern` called.")}}class C_ extends gf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,a){let l;if(a===ze.STROKE||a===ze.FILL){const u=e.current.getClippedPathBoundingBox(a,ae(t))||[0,0,0,0],h=Math.ceil(u[2]-u[0])||1,d=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),s=pt.transform(s,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),Pd(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(s);l.setTransform(y)}else Pd(t,this._bbox),l=this._createGradient(t);return l}}function md(o,t,e,s,a,l,u,h){const d=t.coords,p=t.colors,g=o.data,y=o.width*4;let v;d[e+1]>d[s+1]&&(v=e,e=s,s=v,v=l,l=u,u=v),d[s+1]>d[a+1]&&(v=s,s=a,a=v,v=u,u=h,h=v),d[e+1]>d[s+1]&&(v=e,e=s,s=v,v=l,l=u,u=v);const b=(d[e]+t.offsetX)*t.scaleX,S=(d[e+1]+t.offsetY)*t.scaleY,w=(d[s]+t.offsetX)*t.scaleX,C=(d[s+1]+t.offsetY)*t.scaleY,E=(d[a]+t.offsetX)*t.scaleX,L=(d[a+1]+t.offsetY)*t.scaleY;if(S>=L)return;const T=p[l],D=p[l+1],R=p[l+2],j=p[u],k=p[u+1],X=p[u+2],Y=p[h],it=p[h+1],nt=p[h+2],Q=Math.round(S),et=Math.round(L);let rt,st,O,B,at,Z,_,U;for(let G=Q;G<=et;G++){if(G<C){const dt=G<S?0:(S-G)/(S-C);rt=b-(b-w)*dt,st=T-(T-j)*dt,O=D-(D-k)*dt,B=R-(R-X)*dt}else{let dt;G>L?dt=1:C===L?dt=0:dt=(C-G)/(C-L),rt=w-(w-E)*dt,st=j-(j-Y)*dt,O=k-(k-it)*dt,B=X-(X-nt)*dt}let $;G<S?$=0:G>L?$=1:$=(S-G)/(S-L),at=b-(b-E)*$,Z=T-(T-Y)*$,_=D-(D-it)*$,U=R-(R-nt)*$;const tt=Math.round(Math.min(rt,at)),lt=Math.round(Math.max(rt,at));let ot=y*G+tt*4;for(let dt=tt;dt<=lt;dt++)$=(rt-dt)/(rt-at),$<0?$=0:$>1&&($=1),g[ot++]=st-(st-Z)*$|0,g[ot++]=O-(O-_)*$|0,g[ot++]=B-(B-U)*$|0,g[ot++]=255}}function T_(o,t,e){const s=t.coords,a=t.colors;let l,u;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(s.length/h)-1,p=h-1;for(l=0;l<d;l++){let g=l*h;for(let y=0;y<p;y++,g++)md(o,e,s[g],s[g+1],s[g+h],a[g],a[g+1],a[g+h]),md(o,e,s[g+h+1],s[g+1],s[g+h],a[g+h+1],a[g+1],a[g+h])}break;case"triangles":for(l=0,u=s.length;l<u;l+=3)md(o,e,s[l],s[l+1],s[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class R_ extends gf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,s){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),b=p/y,S=g/v,w={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/b,scaleY:1/S},C=y+4,E=v+4,L=s.getCanvas("mesh",C,E),T=L.context,D=T.createImageData(y,v);if(e){const j=D.data;for(let k=0,X=j.length;k<X;k+=4)j[k]=e[0],j[k+1]=e[1],j[k+2]=e[2],j[k+3]=255}for(const j of this._figures)T_(D,j,w);return T.putImageData(D,2,2),{canvas:L.canvas,offsetX:h-2*b,offsetY:d-2*S,scaleX:b,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,s,a){Pd(t,this._bbox);const l=new Float32Array(2);if(a===ze.SHADING)pt.singularValueDecompose2dScale(ae(t),l);else if(this.matrix){pt.singularValueDecompose2dScale(this.matrix,l);const[h,d]=l;pt.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=h,l[1]*=d}else pt.singularValueDecompose2dScale(e.baseTransform,l);const u=this._createMeshCanvas(l,a===ze.SHADING?null:this._background,e.cachedCanvases);return a!==ze.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class M_ extends gf{getPattern(){return"hotpink"}}function L_(o){switch(o[0]){case"RadialAxial":return new C_(o);case"Mesh":return new R_(o);case"Dummy":return new M_}throw new Error(`Unknown IR type: ${o[0]}`)}const cy={COLORED:1,UNCOLORED:2};class mf{static MAX_PATTERN_SIZE=3e3;constructor(t,e,s,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:a,tilingType:l,color:u,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),Ec("TilingType: "+l);const g=e[0],y=e[1],v=e[2],b=e[3],S=v-g,w=b-y,C=new Float32Array(2);pt.singularValueDecompose2dScale(this.matrix,C);const[E,L]=C;pt.singularValueDecompose2dScale(this.baseTransform,C);const T=E*C[0],D=L*C[1];let R=S,j=w,k=!1,X=!1;const Y=Math.ceil(d*T),it=Math.ceil(p*D),nt=Math.ceil(S*T),Q=Math.ceil(w*D);Y>=nt?R=d:k=!0,it>=Q?j=p:X=!0;const et=this.getSizeAndScale(R,this.ctx.canvas.width,T),rt=this.getSizeAndScale(j,this.ctx.canvas.height,D),st=t.cachedCanvases.getCanvas("pattern",et.size,rt.size),O=st.context,B=h.createCanvasGraphics(O);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,a,u),O.translate(-et.scale*g,-rt.scale*y),B.transform(et.scale,0,0,rt.scale,0,0),O.save(),this.clipBbox(B,g,y,v,b),B.baseTransform=ae(B.ctx),B.executeOperatorList(s),B.endDrawing(),O.restore(),k||X){const at=st.canvas;k&&(R=d),X&&(j=p);const Z=this.getSizeAndScale(R,this.ctx.canvas.width,T),_=this.getSizeAndScale(j,this.ctx.canvas.height,D),U=Z.size,G=_.size,$=t.cachedCanvases.getCanvas("pattern-workaround",U,G),tt=$.context,lt=k?Math.floor(S/d):0,ot=X?Math.floor(w/p):0;for(let dt=0;dt<=lt;dt++)for(let bt=0;bt<=ot;bt++)tt.drawImage(at,U*dt,G*bt,U,G,0,0,U,G);return{canvas:$.canvas,scaleX:Z.scale,scaleY:_.scale,offsetX:g,offsetY:y}}return{canvas:st.canvas,scaleX:et.scale,scaleY:rt.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,s){const a=Math.max(mf.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*s);return l>=a?l=a:s=l/t,{scale:s,size:l}}clipBbox(t,e,s,a,l){const u=a-e,h=l-s;t.ctx.rect(e,s,u,h),pt.axialAlignedBoundingBox([e,s,a,l],ae(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const a=t.ctx,l=t.current;switch(e){case cy.COLORED:const{fillStyle:u,strokeStyle:h}=this.ctx;a.fillStyle=l.fillColor=u,a.strokeStyle=l.strokeColor=h;break;case cy.UNCOLORED:a.fillStyle=a.strokeStyle=s,l.fillColor=l.strokeColor=s;break;default:throw new t_(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,s,a){let l=s;a!==ze.SHADING&&(l=pt.transform(l,e.baseTransform),this.matrix&&(l=pt.transform(l,this.matrix)));const u=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const d=t.createPattern(u.canvas,"repeat");return d.setTransform(h),d}}function D_({src:o,srcPos:t=0,dest:e,width:s,height:a,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const h=Oe.isLittleEndian?4278190080:255,[d,p]=u?[l,h]:[h,l],g=s>>3,y=s&7,v=o.length;e=new Uint32Array(e.buffer);let b=0;for(let S=0;S<a;S++){for(const C=t+g;t<C;t++){const E=t<v?o[t]:255;e[b++]=E&128?p:d,e[b++]=E&64?p:d,e[b++]=E&32?p:d,e[b++]=E&16?p:d,e[b++]=E&8?p:d,e[b++]=E&4?p:d,e[b++]=E&2?p:d,e[b++]=E&1?p:d}if(y===0)continue;const w=t<v?o[t++]:255;for(let C=0;C<y;C++)e[b++]=w&1<<7-C?p:d}return{srcPos:t,destPos:b}}const uy=16,hy=100,O_=15,dy=10,en=16,yd=new DOMMatrix,gn=new Float32Array(2),Ea=new Float32Array([1/0,1/0,-1/0,-1/0]);function N_(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(e,s){t.translate(e,s),this.__originalTranslate(e,s)},o.scale=function(e,s){t.scale(e,s),this.__originalScale(e,s)},o.transform=function(e,s,a,l,u,h){t.transform(e,s,a,l,u,h),this.__originalTransform(e,s,a,l,u,h)},o.setTransform=function(e,s,a,l,u,h){t.setTransform(e,s,a,l,u,h),this.__originalSetTransform(e,s,a,l,u,h)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(e){t.rotate(e),this.__originalRotate(e)},o.clip=function(e){t.clip(e),this.__originalClip(e)},o.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},o.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},o.bezierCurveTo=function(e,s,a,l,u,h){t.bezierCurveTo(e,s,a,l,u,h),this.__originalBezierCurveTo(e,s,a,l,u,h)},o.rect=function(e,s,a,l){t.rect(e,s,a,l),this.__originalRect(e,s,a,l)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class k_{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,s)):(a=this.canvasFactory.create(e,s),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Gl(o,t,e,s,a,l,u,h,d,p){const[g,y,v,b,S,w]=ae(o);if(y===0&&v===0){const L=u*g+S,T=Math.round(L),D=h*b+w,R=Math.round(D),j=(u+d)*g+S,k=Math.abs(Math.round(j)-T)||1,X=(h+p)*b+w,Y=Math.abs(Math.round(X)-R)||1;return o.setTransform(Math.sign(g),0,0,Math.sign(b),T,R),o.drawImage(t,e,s,a,l,0,0,k,Y),o.setTransform(g,y,v,b,S,w),[k,Y]}if(g===0&&b===0){const L=h*v+S,T=Math.round(L),D=u*y+w,R=Math.round(D),j=(h+p)*v+S,k=Math.abs(Math.round(j)-T)||1,X=(u+d)*y+w,Y=Math.abs(Math.round(X)-R)||1;return o.setTransform(0,Math.sign(y),Math.sign(v),0,T,R),o.drawImage(t,e,s,a,l,0,0,Y,k),o.setTransform(g,y,v,b,S,w),[Y,k]}o.drawImage(t,e,s,a,l,u,h,d,p);const C=Math.hypot(g,y),E=Math.hypot(v,b);return[C*d,E*p]}class fy{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Od;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Be.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ea.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ze.FILL,e=null){const s=this.minMax.slice();if(t===ze.STROKE){e||Wt("Stroke bounding box must include transform."),pt.singularValueDecompose2dScale(e,gn);const a=gn[0]*this.lineWidth/2,l=gn[1]*this.lineWidth/2;s[0]-=a,s[1]-=l,s[2]+=a,s[3]+=l}return s}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ea,0)}getClippedPathBoundingBox(t=ze.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function py(o,t){if(t instanceof ImageData){o.putImageData(t,0,0);return}const e=t.height,s=t.width,a=e%en,l=(e-a)/en,u=a===0?l:l+1,h=o.createImageData(s,en);let d=0,p;const g=t.data,y=h.data;let v,b,S,w;if(t.kind===Zr.GRAYSCALE_1BPP){const C=g.byteLength,E=new Uint32Array(y.buffer,0,y.byteLength>>2),L=E.length,T=s+7>>3,D=4294967295,R=Oe.isLittleEndian?4278190080:255;for(v=0;v<u;v++){for(S=v<l?en:a,p=0,b=0;b<S;b++){const j=C-d;let k=0;const X=j>T?s:j*8-7,Y=X&-8;let it=0,nt=0;for(;k<Y;k+=8)nt=g[d++],E[p++]=nt&128?D:R,E[p++]=nt&64?D:R,E[p++]=nt&32?D:R,E[p++]=nt&16?D:R,E[p++]=nt&8?D:R,E[p++]=nt&4?D:R,E[p++]=nt&2?D:R,E[p++]=nt&1?D:R;for(;k<X;k++)it===0&&(nt=g[d++],it=128),E[p++]=nt&it?D:R,it>>=1}for(;p<L;)E[p++]=0;o.putImageData(h,0,v*en)}}else if(t.kind===Zr.RGBA_32BPP){for(b=0,w=s*en*4,v=0;v<l;v++)y.set(g.subarray(d,d+w)),d+=w,o.putImageData(h,0,b),b+=en;v<u&&(w=s*a*4,y.set(g.subarray(d,d+w)),o.putImageData(h,0,b))}else if(t.kind===Zr.RGB_24BPP)for(S=en,w=s*S,v=0;v<u;v++){for(v>=l&&(S=a,w=s*S),p=0,b=w;b--;)y[p++]=g[d++],y[p++]=g[d++],y[p++]=g[d++],y[p++]=255;o.putImageData(h,0,v*en)}else throw new Error(`bad image kind: ${t.kind}`)}function gy(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,a=e%en,l=(e-a)/en,u=a===0?l:l+1,h=o.createImageData(s,en);let d=0;const p=t.data,g=h.data;for(let y=0;y<u;y++){const v=y<l?en:a;({srcPos:d}=D_({src:p,srcPos:d,dest:g,width:s,height:v,nonBlackColor:0})),o.putImageData(h,0,y*en)}}function Ur(o,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)o[s]!==void 0&&(t[s]=o[s]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function ql(o){o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0);const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}function my(o,t){if(t)return!0;pt.singularValueDecompose2dScale(o,gn);const e=Math.fround(zn.pixelRatio*Ts.PDF_TO_CSS_UNITS);return gn[0]<=e&&gn[1]<=e}const P_=["butt","round","square"],z_=["miter","round","bevel"],j_={},yy={};class Ca{constructor(t,e,s,a,l,{optionalContentConfig:u,markedContentStack:h=null},d,p){this.ctx=t,this.current=new fy(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new k_(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:a=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=h,s){const d=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ae(this.compositeCtx))}this.ctx.save(),ql(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ae(this.ctx)}executeOperatorList(t,e,s,a){const l=t.argsArray,u=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const p=d-h>dy&&typeof s=="function",g=p?Date.now()+O_:0;let y=0;const v=this.commonObjs,b=this.objs;let S;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,s),h;if(S=u[h],S!==no.dependency)this[S].apply(this,l[h]);else for(const w of l[h]){const C=w.startsWith("g_")?v:b;if(!C.has(w))return C.get(w,s),h}if(h++,h===d)return h;if(p&&++y>dy){if(Date.now()>g)return s(),h;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const s=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),h=s,d=a,p="prescale1",g,y;for(;l>2&&h>1||u>2&&d>1;){let v=h,b=d;l>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/v),u>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,u/=d/b),g=this.cachedCanvases.getCanvas(p,v,b),y=g.context,y.clearRect(0,0,v,b),y.drawImage(t,0,0,h,d,0,0,v,b),t=g.canvas,h=v,d=b,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:a}=t,l=this.current.fillColor,u=this.current.patternFill,h=ae(e);let d,p,g,y;if((t.bitmap||t.data)&&t.count>1){const Y=t.bitmap||t.data.buffer;p=JSON.stringify(u?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get(Y),d||(d=new Map,this._cachedBitmapsMap.set(Y,d));const it=d.get(p);if(it&&!u){const nt=Math.round(Math.min(h[0],h[2])+h[4]),Q=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:it,offsetX:nt,offsetY:Q}}g=it}g||(y=this.cachedCanvases.getCanvas("maskCanvas",s,a),gy(y.context,t));let v=pt.transform(h,[1/s,0,0,-1/a,0,0]);v=pt.transform(v,[1,0,0,1,0,-a]);const b=Ea.slice();pt.axialAlignedBoundingBox([0,0,s,a],v,b);const[S,w,C,E]=b,L=Math.round(C-S)||1,T=Math.round(E-w)||1,D=this.cachedCanvases.getCanvas("fillCanvas",L,T),R=D.context,j=S,k=w;R.translate(-j,-k),R.transform(...v),g||(g=this._scaleImage(y.canvas,Vn(R)),g=g.img,d&&u&&d.set(p,g)),R.imageSmoothingEnabled=my(ae(R),t.interpolate),Gl(R,g,0,0,g.width,g.height,0,0,s,a),R.globalCompositeOperation="source-in";const X=pt.transform(Vn(R),[1,0,0,1,-j,-k]);return R.fillStyle=u?l.getPattern(e,this,X,ze.FILL):l,R.fillRect(0,0,s,a),d&&!u&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,D.canvas)),{canvas:D.canvas,offsetX:Math.round(j),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=P_[t]}setLineJoin(t){this.ctx.lineJoin=z_[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),Ur(this.suspendedCtx,l),N_(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ur(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,a){const l=a[0],u=a[1],h=a[2]-l,d=a[3]-u;h===0||d===0||(this.genericComposeSMask(e.context,s,h,d,e.subtype,e.backdrop,e.transferMap,l,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,a,l,u,h,d,p,g,y){let v=t.canvas,b=d-g,S=p-y;if(u)if(b<0||S<0||b+s>v.width||S+a>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",s,a),E=C.context;E.drawImage(v,-b,-S),E.globalCompositeOperation="destination-atop",E.fillStyle=u,E.fillRect(0,0,s,a),E.globalCompositeOperation="source-over",v=C.canvas,b=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(b,S,s,a),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=u,t.fillRect(b,S,s,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const w=new Path2D;w.rect(d,p,s,a),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(v,b,S,s,a,d,p,s,a),e.restore()}save(){this.inSMaskMode&&Ur(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ur(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,s,a,l,u){this.ctx.transform(t,e,s,a,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){let[a]=e;if(!s){a||=e[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const l=e[0]=new Path2D;for(let u=0,h=a.length;u<h;)switch(a[u++]){case Bl.moveTo:l.moveTo(a[u++],a[u++]);break;case Bl.lineTo:l.lineTo(a[u++],a[u++]);break;case Bl.curveTo:l.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);break;case Bl.closePath:l.closePath();break;default:wt(`Unrecognized drawing path operator: ${a[u-1]}`);break}a=l}pt.axialAlignedBoundingBox(s,ae(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,Vn(s),ze.STROKE),l){const u=new Path2D;u.addPath(t,s.getTransform().invertSelf().multiplySelf(l)),t=u}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(ze.STROKE,ae(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const s=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const d=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=a.getPattern(s,this,Vn(s),ze.FILL),d){const p=new Path2D;p.addPath(t,s.getTransform().invertSelf().multiplySelf(d)),t=p}u=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),u&&s.restore(),e&&this.consumePath(t,h)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=j_}eoClip(){this.pendingClip=yy}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const s=new Path2D,a=e.getTransform().invertSelf();for(const{transform:l,x:u,y:h,fontSize:d,path:p}of t)s.addPath(p,new DOMMatrix(l).preMultiplySelf(a).translate(u,h).scale(d,-d));e.clip(s),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const s=this.commonObjs.get(t),a=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=s.fontMatrix||Od,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&wt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const l=s.loadedName||"sans-serif",u=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let p=e;e<uy?p=uy:e>hy&&(p=hy),this.current.fontSizeScale=e/p,this.ctx.font=`${d} ${h} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,s){const a=new Path2D;return a.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(e)),a}paintChar(t,e,s,a,l){const u=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,y=p&Be.FILL_STROKE_MASK,v=!!(p&Be.ADD_TO_PATH_FLAG),b=h.patternFill&&!d.missingFile,S=h.patternStroke&&!d.missingFile;let w;if((d.disableFontFace||v||b||S)&&(w=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||b||S){u.save(),u.translate(e,s),u.scale(g,-g);let C;if((y===Be.FILL||y===Be.FILL_STROKE)&&(a?(C=u.getTransform(),u.setTransform(...a),u.fill(this.#n(w,C,a))):u.fill(w)),y===Be.STROKE||y===Be.FILL_STROKE)if(l){C||=u.getTransform(),u.setTransform(...l);const{a:E,b:L,c:T,d:D}=C,R=pt.inverseTransform(l),j=pt.transform([E,L,T,D,0,0],R);pt.singularValueDecompose2dScale(j,gn),u.lineWidth*=Math.max(gn[0],gn[1])/g,u.stroke(this.#n(w,C,l))}else u.lineWidth/=g,u.stroke(w);u.restore()}else(y===Be.FILL||y===Be.FILL_STROKE)&&u.fillText(t,e,s),(y===Be.STROKE||y===Be.FILL_STROKE)&&u.strokeText(t,e,s);v&&(this.pendingTextPaths||=[]).push({transform:ae(u),x:e,y:s,fontSize:g,path:w})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){s=!0;break}return Ot(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const l=this.ctx,u=e.fontSizeScale,h=e.charSpacing,d=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,y=t.length,v=s.vertical,b=v?1:-1,S=s.defaultVMetrics,w=a*e.fontMatrix[0],C=e.textRenderingMode===Be.FILL&&!s.disableFontFace&&!e.patternFill;l.save(),e.textMatrix&&l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(g,-1):l.scale(g,1);let E,L;if(e.patternFill){l.save();const k=e.fillColor.getPattern(l,this,Vn(l),ze.FILL);E=ae(l),l.restore(),l.fillStyle=k}if(e.patternStroke){l.save();const k=e.strokeColor.getPattern(l,this,Vn(l),ze.STROKE);L=ae(l),l.restore(),l.strokeStyle=k}let T=e.lineWidth;const D=e.textMatrixScale;if(D===0||T===0){const k=e.textRenderingMode&Be.FILL_STROKE_MASK;(k===Be.STROKE||k===Be.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=D;if(u!==1&&(l.scale(u,u),T/=u),l.lineWidth=T,s.isInvalidPDFjsFont){const k=[];let X=0;for(const Y of t)k.push(Y.unicode),X+=Y.width;l.fillText(k.join(""),0,0),e.x+=X*w*g,l.restore(),this.compose();return}let R=0,j;for(j=0;j<y;++j){const k=t[j];if(typeof k=="number"){R+=b*k*a/1e3;continue}let X=!1;const Y=(k.isSpace?d:0)+h,it=k.fontChar,nt=k.accent;let Q,et,rt=k.width;if(v){const O=k.vmetric||S,B=-(k.vmetric?O[1]:rt*.5)*w,at=O[2]*w;rt=O?-O[0]:rt,Q=B/u,et=(R+at)/u}else Q=R/u,et=0;if(s.remeasure&&rt>0){const O=l.measureText(it).width*1e3/a*u;if(rt<O&&this.isFontSubpixelAAEnabled){const B=rt/O;X=!0,l.save(),l.scale(B,1),Q/=B}else rt!==O&&(Q+=(rt-O)/2e3*a/u)}if(this.contentVisible&&(k.isInFont||s.missingFile)){if(C&&!nt)l.fillText(it,Q,et);else if(this.paintChar(it,Q,et,E,L),nt){const O=Q+a*nt.offset.x/u,B=et-a*nt.offset.y/u;this.paintChar(nt.fontChar,O,B,E,L)}}const st=v?rt*w-Y*p:rt*w+Y*p;R+=st,X&&l.restore()}v?e.y-=R:e.x+=R*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,a=s.font,l=s.fontSize,u=s.fontDirection,h=a.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*u,y=s.fontMatrix||Od,v=t.length,b=s.textRenderingMode===Be.INVISIBLE;let S,w,C,E;if(!(b||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),s.textMatrix&&e.transform(...s.textMatrix),e.translate(s.x,s.y+s.textRise),e.scale(g,u),S=0;S<v;++S){if(w=t[S],typeof w=="number"){E=h*w*l/1e3,this.ctx.translate(E,0),s.x+=E*g;continue}const L=(w.isSpace?p:0)+d,T=a.charProcOperatorList[w.operatorListId];T?this.contentVisible&&(this.save(),e.scale(l,l),e.transform(...y),this.executeOperatorList(T),this.restore()):wt(`Type3 character "${w.operatorListId}" is not available.`);const D=[w.width,0];pt.applyTransform(D,y),C=D[0]*l+L,e.translate(C,0),s.x+=C*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,a,l,u){const h=new Path2D;h.rect(s,a,l-s,u-a),this.ctx.clip(h),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=this.baseTransform||ae(this.ctx),a={createCanvasGraphics:l=>new Ca(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new mf(t,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=L_(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Vn(e),ze.SHADING);const a=Vn(e);if(a){const{width:l,height:u}=e.canvas,h=Ea.slice();pt.axialAlignedBoundingBox([0,0,l,u],a,h);const[d,p,g,y]=h;this.ctx.fillRect(d,p,g-d,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ae(this.ctx),e)){pt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[s,a,l,u]=e,h=new Path2D;h.rect(s,a,l-s,u-a),this.ctx.clip(h),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Ec("TODO: Support non-isolated groups."),t.knockout&&wt("Knockout groups not supported.");const s=ae(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Ea.slice();pt.axialAlignedBoundingBox(t.bbox,ae(e),a);const l=[0,0,e.canvas.width,e.canvas.height];a=pt.intersect(a,l)||[0,0,0,0];const u=Math.floor(a[0]),h=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-u,1),p=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,p),v=y.context;v.translate(-u,-h),v.transform(...s);let b=new Path2D;const[S,w,C,E]=t.bbox;if(b.rect(S,w,C-S,E-w),t.matrix){const L=new Path2D;L.addPath(b,new DOMMatrix(t.matrix)),b=L}v.clip(b),t.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:u,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,h),e.save()),Ur(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=ae(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=Ea.slice();pt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,l),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,s,a,l){if(this.#t(),ql(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=h,pt.singularValueDecompose2dScale(ae(this.ctx),gn);const{viewportScale:d}=this,p=Math.ceil(u*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(gn[0],0,0,-gn[1],0,h*gn[1]),ql(this.ctx)}else{ql(this.ctx),this.endPath();const d=new Path2D;d.rect(e[0],e[1],u,h),this.ctx.clip(d)}}this.current=new fy(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,a=this._createMaskCanvas(t),l=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(l,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,a=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=ae(h);h.transform(e,s,a,l,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,y=u.length;g<y;g+=2){const v=pt.transform(d,[e,s,a,l,u[g],u[g+1]]);h.drawImage(p.canvas,v[4],v[5])}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const l of t){const{data:u,width:h,height:d,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=g.context;y.save();const v=this.getObject(u,l);gy(y,v),y.globalCompositeOperation="source-in",y.fillStyle=a?s.getPattern(y,this,Vn(e),ze.FILL):s,y.fillRect(0,0,h,d),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),Gl(e,g.canvas,0,0,h,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){wt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,a){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){wt("Dependent image isn't ready yet");return}const u=l.width,h=l.height,d=[];for(let p=0,g=a.length;p<g;p+=2)d.push({transform:[e,0,0,s,a[p],a[p+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,a),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,a=this.ctx;this.save();const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/e,-1/s);let u;if(t.bitmap)u=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)u=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;py(p,t),u=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(u,Vn(a));a.imageSmoothingEnabled=my(ae(a),t.interpolate),Gl(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,u=t.height,d=this.cachedCanvases.getCanvas("inlineImage",l,u).context;py(d,t),a=this.applyTransferMapsToCanvas(d)}for(const l of e)s.save(),s.transform(...l.transform),s.scale(1,-1),Gl(s,a,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(s||(this.pendingClip===yy?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ae(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:a,d:l}=this.ctx.getTransform();let u,h;if(s===0&&a===0){const d=Math.abs(e),p=Math.abs(l);if(d===p)if(t===0)u=h=1/d;else{const g=d*t;u=h=g<1?1/g:1}else if(t===0)u=1/d,h=1/p;else{const g=d*t,y=p*t;u=g<1?1/g:1,h=y<1?1/y:1}}else{const d=Math.abs(e*l-s*a),p=Math.hypot(e,s),g=Math.hypot(a,l);if(t===0)u=g/d,h=p/d;else{const y=t*d;u=g>y?g/y:1,h=p>y?p/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:s,current:{lineWidth:a}}=this,[l,u]=this.getScaleForStroking();if(l===u){s.lineWidth=(a||1)*l,s.stroke(t);return}const h=s.getLineDash();e&&s.save(),s.scale(l,u),yd.a=1/l,yd.d=1/u;const d=new Path2D;if(d.addPath(t,yd),h.length>0){const p=Math.max(l,u);s.setLineDash(h.map(g=>g/p)),s.lineDashOffset/=p}s.lineWidth=a||1,s.stroke(d),e&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const o in no)Ca.prototype[o]!==void 0&&(Ca.prototype[no[o]]=Ca.prototype[o]);class Zi{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class I_{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const wa=Symbol("INTERNAL");class F_{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:s,usage:a,rbGroups:l}){this.#t=!!(t&fn.DISPLAY),this.#e=!!(t&fn.PRINT),this.name=e,this.intent=s,this.usage=a,this.rbGroups=l}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,s=!1){t!==wa&&Wt("Internal method `_setVisible` called."),this.#n=s,this.#i=e}}class B_{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=fn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const s of t.groups)this.#e.set(s.id,new F_(e,s));if(t.baseState==="OFF")for(const s of this.#e.values())s._setVisible(wa,!1);for(const s of t.on)this.#e.get(s)._setVisible(wa,!0);for(const s of t.off)this.#e.get(s)._setVisible(wa,!1);this.#n=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let a=1;a<e;a++){const l=t[a];let u;if(Array.isArray(l))u=this.#a(l);else if(this.#e.has(l))u=this.#e.get(l).visible;else return wt(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Ec("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(wt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return wt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return wt(`Unknown optional content policy ${t.policy}.`),!0}return wt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){const a=this.#e.get(t);if(!a){wt(`Optional content group not found: ${t}`);return}if(s&&e&&a.rbGroups.length)for(const l of a.rbGroups)for(const u of l)u!==t&&this.#e.get(u)?._setVisible(wa,!1,!0);a._setVisible(wa,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let s;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const l=this.#e.get(a);if(l)switch(s){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new kv;for(const[e,s]of this.#e)t.update(`${e}:${s.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class H_{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ae(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:u,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=h,l?.length>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),t.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Ae(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new U_(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new G_(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class U_{constructor(t,e,s=!1,a=null){this._stream=t,this._done=s||!1,this._filename=Cc(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class G_{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function q_(o){let t=!0,e=s("filename\\*","i").exec(o);if(e){e=e[1];let g=h(e);return g=unescape(g),g=d(g),g=p(g),l(g)}if(e=u(o),e){const g=p(e);return l(g)}if(e=s("filename","i").exec(o),e){e=e[1];let g=h(e);return g=p(g),l(g)}function s(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),b=fo(y);y=v.decode(b),t=!1}catch{}}return y}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),t&&(g=a("iso-8859-1",g))),g}function u(g){const y=[];let v;const b=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=b.exec(g))!==null;){let[,w,C,E]=v;if(w=parseInt(w,10),w in y){if(w===0)break;continue}y[w]=[C,E]}const S=[];for(let w=0;w<y.length&&w in y;++w){let[C,E]=y[w];E=h(E),C&&(E=unescape(E),w===0&&(E=d(E))),S.push(E)}return S.join("")}function h(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const b=y[v].indexOf('"');b!==-1&&(y[v]=y[v].slice(0,b),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),S=g.slice(y+1).replace(/^[^']*'/,"");return a(v,S)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,b,S){if(b==="q"||b==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,C){return String.fromCharCode(parseInt(C,16))}),a(v,S);try{S=atob(S)}catch{}return a(v,S)})}return""}function Uv(o,t){const e=new Headers;if(!o||!t||typeof t!="object")return e;for(const s in t){const a=t[s];a!==void 0&&e.append(s,a)}return e}function Tc(o){return URL.parse(o)?.origin??null}function Gv({responseHeaders:o,isHttp:t,rangeChunkSize:e,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||s||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function qv(o){const t=o.get("Content-Disposition");if(t){let e=q_(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Cc(e))return e}return null}function vo(o,t){return new io(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o,o===404||o===0&&t.startsWith("file:"))}function Vv(o){return o===200||o===206}function $v(o,t,e){return{method:"GET",headers:o,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Yv(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(wt(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class V_{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Uv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Y_(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class $_{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),a=e.url;fetch(a,$v(s,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=Tc(l.url),!Vv(l.status))throw vo(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:h,suggestedLength:d}=Gv({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=qv(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new xi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Yv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Y_{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${s-1}`);const u=a.url;fetch(u,$v(l,this._withCredentials,this._abortController)).then(h=>{const d=Tc(h.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!Vv(h.status))throw vo(h.status,u);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Yv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const vd=200,bd=206;function X_(o){const t=o.response;return typeof t!="string"?t:fo(t).buffer}class K_{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Uv(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,u]of this.headers)e.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=bd):a.expectedStatus=vd,e.responseType="arraybuffer",Ae(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){const s=this.pendingRequests[t];s&&s.onProgress?.(e)}onStateChange(t,e){const s=this.pendingRequests[t];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){s.onError(a.status);return}const l=a.status||vd;if(!(l===vd&&s.expectedStatus===bd)&&l!==s.expectedStatus){s.onError(a.status);return}const h=X_(a);if(l===bd){const d=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);p?s.onDone({begin:parseInt(p[1],10),chunk:h}):(wt('Missing or invalid "Content-Range" header.'),s.onError(0))}else h?s.onDone({begin:0,chunk:h}):s.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class W_{constructor(t){this._source=t,this._manager=new K_(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Q_(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new Z_(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Q_{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Tc(e.responseURL);const s=e.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[d,...p]=h.split(": ");return[d,p.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:u}=Gv({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=qv(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=vo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Z_{constructor(t,e,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Tc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=vo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const J_=/^[a-z][a-z0-9\-+.]+:/i;function tC(o){if(J_.test(o))return new URL(o);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(o))}class eC{constructor(t){this.source=t,this.url=tC(t.url),Ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new nC(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new iC(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class nC{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=vo(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new xi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class iC{constructor(t,e,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Gr=Symbol("INITIAL_DATA");class Xv{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Gr}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const s=this.#t[t];if(!s||s.data===Gr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=this.#t[t];return!!e&&e.data!==Gr}delete(t){const e=this.#t[t];return!e||e.data===Gr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const s=this.#e(t);s.data=e,s.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Gr&&(yield[t,e])}}}const sC=1e5,vy=30;let so=class Tn{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#l=0;#o=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#r=[];#p=null;#m=[];#g=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#S=new WeakMap;static#x=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:s}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=s.scale*zn.pixelRatio,this.#d=s.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:l,pageX:u,pageY:h}=s.rawDims;this.#y=[1,0,0,-1,-u,h+l],this.#o=a,this.#l=l,Tn.#D(),Ji(e,s),this.#t.promise.finally(()=>{Tn.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Oe.platform;return Ot(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:s})=>{if(s){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),Tn.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const s=t.scale*zn.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,Ji(this.#c,{rotation:a})),s!==this.#u){e?.(),this.#u=s;const l={div:null,properties:null,ctx:Tn.#R(this.#a)};for(const u of this.#m)l.properties=this.#g.get(u),l.div=u,this.#w(l)}}cancel(){const t=new xi("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#r}#T(t){if(this.#n)return;this.#s.ctx??=Tn.#R(this.#a);const e=this.#m,s=this.#r;for(const a of t){if(e.length>sC){wt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id!==null&&this.#e.setAttribute("id",`${a.id}`),l.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}s.push(a.str),this.#M(a)}}#M(t){const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);const a=pt.transform(this.#y,t.transform);let l=Math.atan2(a[1],a[0]);const u=this.#f[t.fontName];u.vertical&&(l+=Math.PI/2);let h=this.#i&&u.fontSubstitution||u.fontFamily;h=Tn.fontFamilyMap.get(h)||h;const d=Math.hypot(a[2],a[3]),p=d*Tn.#O(h,u,this.#a);let g,y;l===0?(g=a[4],y=a[5]-p):(g=a[4]+p*Math.sin(l),y=a[5]-p*Math.cos(l));const v="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#c?(b.left=`${(100*g/this.#o).toFixed(2)}%`,b.top=`${(100*y/this.#l).toFixed(2)}%`):(b.left=`${v}${g.toFixed(2)}px)`,b.top=`${v}${y.toFixed(2)}px)`),b.fontSize=`${v}${(Tn.#x*d).toFixed(2)}px)`,b.fontFamily=h,s.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);w!==C&&Math.max(w,C)/Math.min(w,C)>1.5&&(S=!0)}if(S&&(s.canvasWidth=u.vertical?t.height:t.width),this.#g.set(e,s),this.#s.div=e,this.#s.properties=s,this.#w(this.#s),s.hasText&&this.#e.append(e),s.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#w(t){const{div:e,properties:s,ctx:a}=t,{style:l}=e;let u="";if(Tn.#x>1&&(u=`scale(${1/Tn.#x})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=l,{canvasWidth:d,fontSize:p}=s;Tn.#C(a,p*this.#u,h);const{width:g}=a.measureText(e.textContent);g>0&&(u=`scaleX(${d*this.#u/g}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(l.transform=u)}static cleanup(){if(!(this.#_.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let e=this.#b.get(t||="");if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#C(t,e,s){const a=this.#S.get(t);e===a.size&&s===a.family||(t.font=`${e}px ${s}`,a.size=e,a.family=s)}static#D(){if(this.#x!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#x=t.getBoundingClientRect().height,t.remove()}static#O(t,e,s){const a=this.#v.get(t);if(a)return a;const l=this.#R(s);l.canvas.width=l.canvas.height=vy,this.#C(l,vy,t);const u=l.measureText(""),h=u.fontBoundingBoxAscent,d=Math.abs(u.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let p=.8;return h?p=h/(h+d):(Oe.platform.isFirefox&&wt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),this.#v.set(t,p),p}};class ao{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function a(l){if(!l)return;let u=null;const h=l.name;if(h==="#text")u=l.value;else if(ao.shouldBuildText(h))l?.attributes?.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&e.push({str:u}),!!l.children)for(const d of l.children)a(d)}return a(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const aC=100;function yf(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new vf,{docId:e}=t,s=o.url?g_(o.url):null,a=o.data?m_(o.data):null,l=o.httpHeaders||null,u=o.withCredentials===!0,h=o.password??null,d=o.range instanceof bf?o.range:null,p=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:2**16;let g=o.worker instanceof za?o.worker:null;const y=o.verbosity,v=typeof o.docBaseUrl=="string"&&!go(o.docBaseUrl)?o.docBaseUrl:null,b=Hl(o.cMapUrl),S=o.cMapPacked!==!1,w=o.CMapReaderFactory||($e?x_:ry),C=Hl(o.iccUrl),E=Hl(o.standardFontDataUrl),L=o.StandardFontDataFactory||($e?E_:oy),T=Hl(o.wasmUrl),D=o.WasmFactory||($e?__:ly),R=o.stopAtErrors!==!0,j=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,k=o.isEvalSupported!==!1,X=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!$e,Y=typeof o.isImageDecoderSupported=="boolean"?o.isImageDecoderSupported:!$e&&(Oe.platform.isFirefox||!globalThis.chrome),it=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,nt=typeof o.disableFontFace=="boolean"?o.disableFontFace:$e,Q=o.fontExtraProperties===!0,et=o.enableXfa===!0,rt=o.ownerDocument||globalThis.document,st=o.disableRange===!0,O=o.disableStream===!0,B=o.disableAutoFetch===!0,at=o.pdfBug===!0,Z=o.CanvasFactory||($e?w_:b_),_=o.FilterFactory||($e?S_:A_),U=o.enableHWA===!0,G=o.useWasm!==!1,$=d?d.length:o.length??NaN,tt=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!$e&&!nt,lt=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:!!(w===ry&&L===oy&&D===ly&&b&&E&&T&&Xr(b,document.baseURI)&&Xr(E,document.baseURI)&&Xr(T,document.baseURI)),ot=null;QE(y);const dt={canvasFactory:new Z({ownerDocument:rt,enableHWA:U}),filterFactory:new _({docId:e,ownerDocument:rt}),cMapReaderFactory:lt?null:new w({baseUrl:b,isCompressed:S}),standardFontDataFactory:lt?null:new L({baseUrl:E}),wasmFactory:lt?null:new D({baseUrl:T})};g||(g=za.create({verbosity:y,port:Zi.workerPort}),t._worker=g);const bt={docId:e,apiVersion:"5.3.31",data:a,password:h,disableAutoFetch:B,rangeChunkSize:p,length:$,docBaseUrl:v,enableXfa:et,evaluatorOptions:{maxImageSize:j,disableFontFace:nt,ignoreErrors:R,isEvalSupported:k,isOffscreenCanvasSupported:X,isImageDecoderSupported:Y,canvasMaxAreaInBytes:it,fontExtraProperties:Q,useSystemFonts:tt,useWasm:G,useWorkerFetch:lt,cMapUrl:b,iccUrl:C,standardFontDataUrl:E,wasmUrl:T}},zt={ownerDocument:rt,pdfBug:at,styleElement:ot,loadingParams:{disableAutoFetch:B,enableXfa:et}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const _t=g.messageHandler.sendWithPromise("GetDocRequest",bt,a?[a.buffer]:null);let It;if(d)It=new H_(d,{disableRange:st,disableStream:O});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Bt=Xr(s)?V_:$e?eC:W_;It=new Bt({url:s,length:$,httpHeaders:l,withCredentials:u,rangeChunkSize:p,disableRange:st,disableStream:O})}return _t.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Vt=new Kr(e,Bt,g.port),Tt=new lC(Vt,t,It,zt,dt);t._transport=Tt,Vt.send("Ready",null)})}).catch(t._capability.reject),t}class vf{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${vf.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let bf=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#a=[];constructor(t,e,s=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=a}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const s of this.#a)s(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const s of this.#i)s(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class rC{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ot(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class oC{#t=!1;constructor(t,e,s,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=a?new iy:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new Xv,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}={}){return new po({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ot(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:a=Qn.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(s,a,g,y),{renderingIntent:b,cacheKey:S}=v;this.#t=!1,h||=this._transport.getOptionalContentConfig(b);let w=this._intentStates.get(S);w||(w=Object.create(null),this._intentStates.set(S,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const C=!!(b&fn.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const E=D=>{w.renderTasks.delete(L),C&&(this.#t=!0),this.#e(),D?(L.capability.reject(D),this._abortOperatorList({intentState:w,reason:D instanceof Error?D:new Error(D)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new _a({callback:E,params:{canvasContext:t,viewport:e,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p});(w.renderTasks||=new Set).add(L);const T=L.task;return Promise.all([w.displayReadyCapability.promise,h]).then(([D,R])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:D,optionalContentConfig:R}),L.operatorListChanged()}).catch(E),T}getOperatorList({intent:t="display",annotationMode:e=Qn.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const u=this._transport.getRenderingIntent(t,e,s,a,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>ao.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,a){function l(){u.read().then(function({value:d,done:p}){if(p){s(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),l()},a)}const u=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new iy),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const s=this._intentStates.get(e);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let s=0,a=t.length;s<a;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:a}){const{map:l,transfer:u}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},u).getReader(),p=this._intentStates.get(e);p.streamReader=d;const g=()=>{d.read().then(({value:y,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();this.#e()}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof _c){let a=aC;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new xi(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Wi,Nn,Ai,xs,fc,Es,_s,Ye,ec,Kv,Wv,Wr,Ma,nc;const ie=class ie{constructor({name:t=null,port:e=null,verbosity:s=ZE()}={}){Gn(this,Ye);Gn(this,Wi,Promise.withResolvers());Gn(this,Nn,null);Gn(this,Ai,null);Gn(this,xs,null);if(this.name=t,this.destroyed=!1,this.verbosity=s,e){if(ne(ie,_s).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ne(ie,_s).set(e,this),qn(this,Ye,Kv).call(this,e)}else qn(this,Ye,Wv).call(this)}get promise(){return ne(this,Wi).promise}get port(){return ne(this,Ai)}get messageHandler(){return ne(this,Nn)}destroy(){this.destroyed=!0,ne(this,xs)?.terminate(),Je(this,xs,null),ne(ie,_s).delete(ne(this,Ai)),Je(this,Ai,null),ne(this,Nn)?.destroy(),Je(this,Nn,null)}static create(t){const e=ne(this,_s).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ie(t)}static get workerSrc(){if(Zi.workerSrc)return Zi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ot(this,"_setupFakeWorkerGlobal",(async()=>ne(this,Ma,nc)?ne(this,Ma,nc):(await import(this.workerSrc)).WorkerMessageHandler)())}};Wi=new WeakMap,Nn=new WeakMap,Ai=new WeakMap,xs=new WeakMap,fc=new WeakMap,Es=new WeakMap,_s=new WeakMap,Ye=new WeakSet,ec=function(){ne(this,Wi).resolve(),ne(this,Nn).send("configure",{verbosity:this.verbosity})},Kv=function(t){Je(this,Ai,t),Je(this,Nn,new Kr("main","worker",t)),ne(this,Nn).on("ready",()=>{}),qn(this,Ye,ec).call(this)},Wv=function(){if(ne(ie,Es)||ne(ie,Ma,nc)){qn(this,Ye,Wr).call(this);return}let{workerSrc:t}=ie;try{ie._isSameOrigin(window.location,t)||(t=ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Kr("main","worker",e),a=()=>{l.abort(),s.destroy(),e.terminate(),this.destroyed?ne(this,Wi).reject(new Error("Worker was destroyed")):qn(this,Ye,Wr).call(this)},l=new AbortController;e.addEventListener("error",()=>{ne(this,xs)||a()},{signal:l.signal}),s.on("test",h=>{if(l.abort(),this.destroyed||!h){a();return}Je(this,Nn,s),Je(this,Ai,e),Je(this,xs,e),qn(this,Ye,ec).call(this)}),s.on("ready",h=>{if(l.abort(),this.destroyed){a();return}try{u()}catch{qn(this,Ye,Wr).call(this)}});const u=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};u();return}catch{Ec("The worker has been disabled.")}qn(this,Ye,Wr).call(this)},Wr=function(){ne(ie,Es)||(wt("Setting up fake worker."),Je(ie,Es,!0)),ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ne(this,Wi).reject(new Error("Worker was destroyed"));return}const e=new v_;Je(this,Ai,e);const s=`fake${m0(ie,fc)._++}`,a=new Kr(s+"_worker",s,e);t.setup(a,e),Je(this,Nn,new Kr(s,s+"_worker",e)),qn(this,Ye,ec).call(this)}).catch(t=>{ne(this,Wi).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ma=new WeakSet,nc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Gn(ie,Ma),Gn(ie,fc,0),Gn(ie,Es,!1),Gn(ie,_s,new WeakMap),$e&&(Je(ie,Es,!0),Zi.workerSrc||="./pdf.worker.mjs"),ie._isSameOrigin=(t,e)=>{const s=URL.parse(t);if(!s?.origin||s.origin==="null")return!1;const a=new URL(e,s);return s.origin===a.origin},ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ie.fromPort=t=>{if(o_("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ie.create(t)};let za=ie;class lC{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#a=null;constructor(t,e,s,a,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Xv,this.fontLoader=new f_({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const s=this.#t.get(t);if(s)return s;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Ot(this,"annotationStorage",new ff)}getRenderingIntent(t,e=Qn.ENABLE,s=null,a=!1,l=!1){let u=fn.DISPLAY,h=Nd;switch(t){case"any":u=fn.ANY;break;case"display":break;case"print":u=fn.PRINT;break;default:wt(`getRenderingIntent - invalid intent: ${t}`)}const d=u&fn.PRINT&&s instanceof Pv?s:this.annotationStorage;switch(e){case Qn.DISABLE:u+=fn.ANNOTATIONS_DISABLE;break;case Qn.ENABLE:break;case Qn.ENABLE_FORMS:u+=fn.ANNOTATIONS_FORMS;break;case Qn.ENABLE_STORAGE:u+=fn.ANNOTATIONS_STORAGE,h=d.serializable;break;default:wt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(u+=fn.IS_EDITING),l&&(u+=fn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,y=[u,h.hash,g];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of this.#e.values())t.push(s._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),so.cleanup(),this._networkStream?.cancelAllRequests(new xi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,a)=>{Ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){a.close();return}Ae(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:u}=this._fullReader;return(!a||!l)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{e.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(s,a)=>{Ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:u,done:h}){if(h){a.close();return}Ae(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{a.error(u)})},a.onCancel=u=>{l.cancel(u),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new rC(s,this))}),t.on("DocException",s=>{e._capability.reject(tn(s))}),t.on("PasswordRequest",s=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw tn(s);const a=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};e.onPassword(a,s.code)}catch(a){this.#a.reject(a)}return this.#a.promise}),t.on("DataLoaded",s=>{e.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;this.#e.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,a,l])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":if("error"in l){const p=l.error;wt(`Error during font loading: ${p}`),this.commonObjs.resolve(s,p);break}const u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new p_(l,u);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:d}=l;Ae(d,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(s,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([s,a,l,u])=>{if(this.destroyed)return;const h=this.#e.get(a);if(!h.objs.has(s)){if(h._intentStates.size===0){u?.bitmap?.close();return}switch(l){case"Image":case"Pattern":h.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{this.destroyed||e.onProgress?.({loaded:s.loaded,total:s.total})}),t.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[s.type];if(!a)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&wt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=this.#n.get(e);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#i.set(l.refStr,t);const u=new oC(e,l,this,this._params.pdfBug);return this.#e.set(e,u),u});return this.#n.set(e,a),a}getPageIndex(t){return kd(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new B_(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new I_(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),so.cleanup()}}cachedPageNumber(t){if(!kd(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class cC{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class _a{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:s,commonObjs:a,annotationCanvasMap:l,operatorList:u,pageIndex:h,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){this.callback=t,this.params=e,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new cC(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(_a.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_a.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:l,background:u}=this.params;this.gfx=new Ca(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),_a.#e.delete(this._canvas),t||=new _c(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_a.#e.delete(this._canvas),this.callback())))}}const Qv="5.3.31",Zv="47ad820d9";function by(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function qr(o){return Math.max(0,Math.min(255,255*o))}class Ay{static CMYK_G([t,e,s,a]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=qr(t),[t,t,t]}static G_HTML([t]){const e=by(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(qr)}static RGB_HTML(t){return`#${t.map(by).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,s+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,s,a]){return[qr(1-Math.min(1,t+a)),qr(1-Math.min(1,s+a)),qr(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const a=1-t,l=1-e,u=1-s,h=Math.min(a,l,u);return["CMYK",a,l,u,h]}}class uC{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wt("Abstract method `_createSVG` called.")}}class ro extends uC{_createSVG(t){return document.createElementNS(yi,t)}}class Af{static setupStorage(t,e,s,a,l){const u=a.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{a.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const h of s.children)h.attributes.value===u.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:a,linkService:l}){const{attributes:u}=e,h=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${a}`);for(const[d,p]of Object.entries(u))if(p!=null)switch(d){case"class":p.length&&t.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,p)}h&&l.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){const e=t.annotationStorage,s=t.linkService,a=t.xfaHtml,l=t.intent||"display",u=document.createElement(a.name);a.attributes&&this.setAttributes({html:u,element:a,intent:l,linkService:s});const h=l!=="richText",d=t.div;if(d.append(u),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=y}h&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const y=document.createTextNode(a.value);u.append(y),h&&ao.shouldBuildText(a.name)&&p.push(y)}return{textDivs:p}}const g=[[a,-1,u]];for(;g.length>0;){const[y,v,b]=g.at(-1);if(v+1===y.children.length){g.pop();continue}const S=y.children[++g.at(-1)[1]];if(S===null)continue;const{name:w}=S;if(w==="#text"){const E=document.createTextNode(S.value);p.push(E),b.append(E);continue}const C=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,w):document.createElement(w);if(b.append(C),S.attributes&&this.setAttributes({html:C,element:S,storage:e,intent:l,linkService:s}),S.children?.length>0)g.push([S,-1,C]);else if(S.value){const E=document.createTextNode(S.value);h&&ao.shouldBuildText(w)&&p.push(E),C.append(E)}}for(const y of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const bo=1e3,hC=9,Rs=new WeakSet;class Sy{static create(t){switch(t.data.annotationType){case he.LINK:return new Jv(t);case he.TEXT:return new dC(t);case he.WIDGET:switch(t.data.fieldType){case"Tx":return new fC(t);case"Btn":return t.data.radioButton?new tb(t):t.data.checkBox?new gC(t):new mC(t);case"Ch":return new yC(t);case"Sig":return new pC(t)}return new Os(t);case he.POPUP:return new zd(t);case he.FREETEXT:return new eb(t);case he.LINE:return new bC(t);case he.SQUARE:return new AC(t);case he.CIRCLE:return new SC(t);case he.POLYLINE:return new nb(t);case he.CARET:return new xC(t);case he.INK:return new Sf(t);case he.POLYGON:return new wC(t);case he.HIGHLIGHT:return new ib(t);case he.UNDERLINE:return new EC(t);case he.SQUIGGLY:return new _C(t);case he.STRIKEOUT:return new CC(t);case he.STAMP:return new sb(t);case he.FILEATTACHMENT:return new TC(t);default:return new pe(t)}}}class pe{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t?.str||e?.str||s?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pe._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:h,pageY:d}}}}=this;s?.splice(0,4,...t),e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(u-t[3]+d)/u}%`,a===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/u}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:s,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Os||(l.tabIndex=bo);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof zd){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,l),l}const{width:h,height:d}=this;if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(w>0||C>0){const L=`calc(${w}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;u.borderRadius=L}else if(this instanceof tb){const L=`calc(${h}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;u.borderRadius=L}switch(e.borderStyle.style){case Sa.SOLID:u.borderStyle="solid";break;case Sa.DASHED:u.borderStyle="dashed";break;case Sa.BEVELED:wt("Unimplemented border style: beveled");break;case Sa.INSET:wt("Unimplemented border style: inset");break;case Sa.UNDERLINE:u.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(this.#e=!0,u.borderColor=pt.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):u.borderWidth=0}const p=pt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:b}=a.rawDims;u.left=`${100*(p[0]-v)/g}%`,u.top=`${100*(p[1]-b)/y}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(u.width=`${100*h/g}%`,u.height=`${100*d/y}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims;let{width:l,height:u}=this;t%180!==0&&([l,u]=[u,l]),e.style.width=`${100*l/s}%`,e.style.height=`${100*u/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,a)=>{const l=a.detail[e],u=l[0],h=l.slice(1);a.target.style[s]=Ay[`${u}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:Ay[`${u}_rgb`](h)})};return Ot(this,"_commonActions",{display:e=>{const{display:s}=e.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||s[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[a,l]of Object.entries(e)){const u=s[a];if(u){const h={detail:{[a]:l},target:t};u(h),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,a,l]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,C,E,L]=t.subarray(2,6);if(a===w&&l===C&&e===E&&s===L)return}const{style:u}=this.container;let h;if(this.#e){const{borderColor:w,borderWidth:C}=u;u.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const d=a-e,p=l-s,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=g.createElement("defs");y.append(v);const b=g.createElement("clipPath"),S=`clippath_${this.data.id}`;b.setAttribute("id",S),b.setAttribute("clipPathUnits","objectBoundingBox"),v.append(b);for(let w=2,C=t.length;w<C;w+=8){const E=t[w],L=t[w+1],T=t[w+2],D=t[w+3],R=g.createElement("rect"),j=(T-e)/d,k=(l-L)/p,X=(E-T)/d,Y=(L-D)/p;R.setAttribute("x",j),R.setAttribute("y",k),R.setAttribute("width",X),R.setAttribute("height",Y),b.append(R),h?.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${k}" width="${X}" height="${Y}"/>`)}this.#e&&(h.push("</g></svg>')"),u.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=this.#n=new zd({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:u,exportValues:h}of a){if(l===-1||u===e)continue;const d=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Rs.has(p)){wt(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:d,domElement:p})}return s}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,u=a.getAttribute("data-element-id");u!==e&&Rs.has(a)&&s.push({id:u,exportValue:l,domElement:a})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Jv extends pe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action),a=!0):t.attachment?(this.#e(s,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(this.#n(s,t.setOCGState),a=!0):t.dest?(this._bindLink(s,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,s=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const l=s.get(a);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){wt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{s?.();const{fields:a,refs:l,include:u}=e,h=[];if(a.length!==0||l.length!==0){const g=new Set(l);for(const y of a){const v=this._fieldObjects[y]||[];for(const{id:b}of v)g.add(b)}for(const y of Object.values(this._fieldObjects))for(const v of y)g.has(v.id)===u&&h.push(v)}else for(const g of Object.values(this._fieldObjects))h.push(...g);const d=this.annotationStorage,p=[];for(const g of h){const{id:y}=g;switch(p.push(y),g.type){case"text":{const b=g.defaultValue||"";d.setValue(y,{value:b});break}case"checkbox":case"radiobutton":{const b=g.defaultValue===g.exportValues;d.setValue(y,{value:b});break}case"combobox":case"listbox":{const b=g.defaultValue||"";d.setValue(y,{value:b});break}default:continue}const v=document.querySelector(`[data-element-id="${y}"]`);if(v){if(!Rs.has(v)){wt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class dC extends pe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Os extends pe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Oe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,a,l){s.includes("mouse")?t.addEventListener(s,u=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(u)}})})}_setEventListeners(t,e,s,a){for(const[l,u]of s)(u==="Action"||this.data.actions?.[u])&&((u==="Focus"||u==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,l,u,a),u==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):u==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||hC,l=t.style;let u;const h=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(dd*a))||1,y=p/g;u=Math.min(a,d(y/dd))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);u=Math.min(a,d(p/dd))}l.fontSize=`calc(${u}px * var(--total-scale-factor))`,l.color=pt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class fC extends Os{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,a){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),l.setValue(u.id,{[a]:s})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let l=a.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let h=a.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??l,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",h??l),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Rs.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=bo,this._setRequired(s,this.data.required),u&&(s.maxLength=u),s.addEventListener("input",g=>{t.setValue(e,{value:g.target.value}),this.setPropertyOnSiblings(s,"value",g.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";s.value=d.userValue=y,d.formattedValue=null});let p=g=>{const{formattedValue:y}=d;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",y=>{if(d.focused)return;const{target:v}=y;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const v={value(b){d.userValue=b.detail.value??"",t.setValue(e,{value:d.userValue.toString()}),b.target.value=d.userValue},formattedValue(b){const{formattedValue:S}=b.detail;d.formattedValue=S,S!=null&&b.target!==document.activeElement&&(b.target.value=S),t.setValue(e,{formattedValue:S})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:S}=b.detail,{target:w}=b;if(S===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",S);let C=d.userValue;!C||C.length<=S||(C=C.slice(0,S),w.value=d.userValue=C,t.setValue(e,{value:C}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(v,y)}),s.addEventListener("keydown",y=>{d.commitKey=1;let v=-1;if(y.key==="Escape"?v=0:y.key==="Enter"&&!this.data.multiLine?v=2:y.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:b}=y.target;d.lastCommittedValue!==b&&(d.lastCommittedValue=b,d.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:v,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,s.addEventListener("blur",y=>{if(!d.focused||!y.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:v}=y.target;d.userValue=v,d.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),g(y)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",y=>{d.lastCommittedValue=null;const{data:v,target:b}=y,{value:S,selectionStart:w,selectionEnd:C}=b;let E=w,L=C;switch(y.inputType){case"deleteWordBackward":{const T=S.substring(0,w).match(/\w*[^\w]*$/);T&&(E-=T[0].length);break}case"deleteWordForward":{const T=S.substring(w).match(/^[^\w]*\w*/);T&&(L+=T[0].length);break}case"deleteContentBackward":w===C&&(E-=1);break;case"deleteContentForward":w===C&&(L+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,change:v||"",willCommit:!1,selStart:E,selEnd:L}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;s.classList.add("comb"),s.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class pC extends Os{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class gC extends Os{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Rs.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=bo,l.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s)){const g=d&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:d})}),l.addEventListener("resetform",u=>{const h=e.defaultFieldValue||"Off";u.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class tb extends Os{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(s,{value:a})),a)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const l=document.createElement("input");if(Rs.add(l),l.setAttribute("data-element-id",s),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=bo,l.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:d})}),l.addEventListener("resetform",u=>{const h=e.defaultFieldValue;u.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const d={value:p=>{const g=u===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const v=g&&y.id===s;y.domElement&&(y.domElement.checked=v),t.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class mC extends Jv{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class yC extends Os{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Rs.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=bo;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,s.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),a.append(y)}let u=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),u=()=>{g.remove(),a.removeEventListener("input",u),u=null},a.addEventListener("input",u)}const h=g=>{const y=g?"value":"textContent",{options:v,multiple:b}=a;return b?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let d=h(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const y={value(v){u?.();const b=v.detail.value,S=new Set(Array.isArray(b)?b:[b]);for(const w of a.options)w.selected=S.has(w.value);t.setValue(e,{value:h(!0)}),d=h(!1)},multipleSelection(v){a.multiple=!0},remove(v){const b=a.options,S=v.detail.remove;b[S].selected=!1,a.remove(S),b.length>0&&Array.prototype.findIndex.call(b,C=>C.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:h(!0),items:p(v)}),d=h(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=h(!1)},insert(v){const{index:b,displayValue:S,exportValue:w}=v.detail.insert,C=a.children[b],E=document.createElement("option");E.textContent=S,E.value=w,C?C.before(E):a.append(E),t.setValue(e,{value:h(!0),items:p(v)}),d=h(!1)},items(v){const{items:b}=v.detail;for(;a.length!==0;)a.remove(0);for(const S of b){const{displayValue:w,exportValue:C}=S,E=document.createElement("option");E.textContent=w,E.value=C,a.append(E)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(v)}),d=h(!1)},indices(v){const b=new Set(v.detail.indices);for(const S of v.target.options)S.selected=b.has(S.index);t.setValue(e,{value:h(!0)}),d=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),a.addEventListener("input",g=>{const y=h(!0),v=h(!1);t.setValue(e,{value:y}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class zd extends pe{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:pe._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new vC({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${lf}${s}`).join(",")),this.container}}class vC{#t=this.#T.bind(this);#e=this.#C.bind(this);#n=this.#R.bind(this);#i=this.#w.bind(this);#a=null;#s=null;#l=null;#o=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#r=null;#p=null;#m=null;#g=null;#y=null;#v=!1;constructor({container:t,color:e,elements:s,titleObj:a,modificationDate:l,contentsObj:u,richText:h,parent:d,rect:p,parentRect:g,open:y}){this.#s=t,this.#g=a,this.#l=u,this.#m=h,this.#c=d,this.#a=e,this.#p=p,this.#d=g,this.#h=s,this.#o=cf.toDateObject(l),this.trigger=s.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#i),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#e),v.classList.add("popupTriggerArea");for(const v of s)v.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,y&&this.#w()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const l=t.style.outlineColor=pt.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=this.#g,t.append(e),this.#o){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),e.append(l)}const a=this.#b;if(a)Af.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#l);t.append(l)}this.#s.append(t)}get#b(){const t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#S(){return this.#b?.attributes?.style?.fontSize||0}get#x(){return this.#b?.attributes?.style?.color||null}#_(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#x,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return s}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let l=0,u=a.length;l<u;++l){const h=a[l];s.append(document.createTextNode(h)),l<u-1&&s.append(document.createElement("br"))}return s}#T(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#w()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#l,richText:this.#m},t&&(this.#r=null),e&&(this.#m=this.#_(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#l,richText:this.#m}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#r=null)}#M(){if(this.#r!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:a,pageY:l}}}=this.#c;let u=!!this.#d,h=u?this.#d:this.#p;for(const S of this.#h)if(!h||pt.intersect(S.data.rect,h)!==null){h=S.data.rect,u=!0;break}const d=pt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=u?h[2]-h[0]+5:0,y=d[0]+g,v=d[1];this.#r=[100*(y-a)/e,100*(v-l)/s];const{style:b}=this.#s;b.left=`${this.#r[0]}%`,b.top=`${this.#r[1]}%`}#w(){this.#u=!this.#u,this.#u?(this.#R(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#C(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#M(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#C(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#f||this.#R(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class eb extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=St.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class bC extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class AC extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),l=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:rect");return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",e-l),u.setAttribute("height",s-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class SC extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),l=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:ellipse");return u.setAttribute("cx",e/2),u.setAttribute("cy",s/2),u.setAttribute("rx",e/2-l/2),u.setAttribute("ry",s/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class nb extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:s,popupRef:a},width:l,height:u}=this;if(!e)return this.container;const h=this.svgFactory.create(l,u,!0);let d=[];for(let g=0,y=e.length;g<y;g+=2){const v=e[g]-t[0],b=t[3]-e[g+1];d.push(`${v},${b}`)}d=d.join(" ");const p=this.#t=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class wC extends nb{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class xC extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Sf extends pe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?St.HIGHLIGHT:St.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:s,borderStyle:a,popupRef:l}}=this,{transform:u,width:h,height:d}=this.#n(e,t),p=this.svgFactory.create(h,d,!0),g=this.#t=this.svgFactory.createElement("svg:g");p.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",u);for(let y=0,v=s.length;y<v;y++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",s[y].join(",")),g.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:s,rect:a}=t,l=this.#t;if(e>=0&&l.setAttribute("stroke-width",e||1),s)for(let u=0,h=this.#e.length;u<h;u++)this.#e[u].setAttribute("points",s[u].join(","));if(a){const{transform:u,width:h,height:d}=this.#n(this.data.rotation,a);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${d}`),l.setAttribute("transform",u)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ib extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=St.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class EC extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class _C extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class CC extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class sb extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=St.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class TC extends pe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let s;e.hasAppearance||e.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#e.bind(this)),this.#t=s;const{isMac:a}=Oe.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let wf=class ab{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:a,page:l,viewport:u,structTreeLayer:h}){this.div=t,this.#t=e,this.#e=s,this.#i=h||null,this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e){const s=t.firstChild||t,a=s.id=`${lf}${e}`,l=await this.#i?.getAriaAttributes(a);if(l)for(const[u,h]of l)s.setAttribute(u,h);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1)}async render(t){const{annotations:e}=t,s=this.div;Ji(s,this.viewport);const a=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new ro,annotationStorage:t.annotationStorage||new ff,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===he.POPUP;if(h){const g=a.get(u.id);if(!g)continue;l.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;l.data=u;const d=Sy.create(l);if(!d.isRenderable)continue;if(!h&&u.popupRef){const g=a.get(u.popupRef);g?g.push(d):a.set(u.popupRef,[d])}const p=d.render();u.hidden&&(p.style.visibility="hidden"),await this.#a(p,u.id),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#s()}async addLinkAnnotations(t,e){const s={data:null,layer:this.div,linkService:e,svgFactory:new ro,parent:this};for(const a of t){a.borderStyle||=ab._defaultBorderStyle,s.data=a;const l=Sy.create(s);if(!l.isRenderable)continue;const u=l.render();await this.#a(u,a.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Ji(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,s]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):a.append(s);const u=this.#n.get(e);u&&(u._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,s),u._hasNoCanvas=!1):u.canvas=s)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Ot(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Sa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Vl=/\r\n?|\n/g;class xe extends gt{#t;#e="";#n=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=xe.prototype,e=l=>l.isEmpty(),s=Ei.TRANSLATE_SMALL,a=Ei.TRANSLATE_BIG;return Ot(this,"_keyboardManager",new mo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=St.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||xe._defaultColor||gt._defaultLineColor,this.#a=t.fontSize||xe._defaultFontSize}static initialize(t,e){gt.initialize(t,e);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case kt.FREETEXT_SIZE:xe._defaultFontSize=e;break;case kt.FREETEXT_COLOR:xe._defaultColor=e;break}}updateParams(t,e){switch(t){case kt.FREETEXT_SIZE:this.#s(e);break;case kt.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[kt.FREETEXT_SIZE,xe._defaultFontSize],[kt.FREETEXT_COLOR,xe._defaultColor||gt._defaultLineColor]]}get propertiesToUpdate(){return[[kt.FREETEXT_SIZE,this.#a],[kt.FREETEXT_COLOR,this.#t]]}#s(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#a)*this.parentScale),this.#a=a,this.#h()},s=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){const e=a=>{this.#t=this.editorDiv.style.color=a},s=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-xe._internalPadding*t,-(xe._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const s of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(xe.#c(s)),e=s);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,u=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/e):(this.width=s.height/t,this.height=s.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const s=a=>{if(this.#e=a,!a){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{s(e)},undo:()=>{s(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){xe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,g]=this.pageDimensions,[y,v]=this.pageTranslation;let b,S;switch(this.rotation){case 0:b=t+(u[0]-y)/p,S=e+this.height-(u[1]-v)/g;break;case 90:b=t+(u[0]-y)/p,S=e-(u[1]-v)/g,[h,d]=[d,-h];break;case 180:b=t-this.width+(u[0]-y)/p,S=e-(u[1]-v)/g,[h,d]=[-h,-d];break;case 270:b=t+(u[0]-y-this.height*g)/p,S=e+(u[1]-v-this.width*p)/g,[h,d]=[-d,h];break}this.setAt(b*a,S*l,h,d)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Vl,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:s}=e;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=xe.#f(e.getData("text")||"").replaceAll(Vl,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!a.includes(`
`)){u.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=u,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const b=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(Vl,"")),b!==this.editorDiv){let S=p;for(const w of this.editorDiv.childNodes){if(w===b){S=g;continue}S.push(xe.#c(w))}}p.push(h.nodeValue.slice(0,d).replaceAll(Vl,""))}else if(h===this.editorDiv){let b=p,S=0;for(const w of this.editorDiv.childNodes)S++===d&&(b=g),b.push(xe.#c(w))}this.#e=`${p.join(`
`)}${a}${g.join(`
`)}`,this.#d();const y=new Range;let v=Math.sumPrecise(p.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(v<=S){y.setStart(b,v),y.setEnd(b,v);break}v-=S}l.removeAllRanges(),l.addRange(y)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(" "," ")}static#f(t){return t.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,s){let a=null;if(t instanceof eb){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:d,rotation:p,id:g,popupRef:y},textContent:v,textPosition:b,parent:{page:{pageNumber:S}}}=t;if(!v||v.length===0)return null;a=t={annotationType:St.FREETEXT,color:Array.from(h),fontSize:u,value:v.join(`
`),position:b,pageIndex:S-1,rect:d.slice(0),rotation:p,id:g,deleted:!1,popupRef:y}}const l=await super.deserialize(t,e,s);return l.#a=t.fontSize,l.#t=pt.makeHexColor(...t.color),l.#e=xe.#f(t.value),l.annotationElementId=t.id||null,l._initialData=a,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=xe._internalPadding*this.parentScale,s=this.getRect(e,e),a=gt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:St.FREETEXT,color:a,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!this.#r(l)?null:(l.id=this.annotationElementId,l)}#r(t){const{value:e,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==s||t.color.some((u,h)=>u!==a[h])||t.pageIndex!==l}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:s}=e;s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,e.replaceChildren();for(const l of this.#e.split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),e.append(u)}const a=xe._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ut{static PRECISION=1e-4;toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(t,e){Wt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,s,a,l,u){u||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=e+t[h]*a,u[h+1]=s+t[h+1]*l;return u}static _rescaleAndSwap(t,e,s,a,l,u){u||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=e+t[h+1]*a,u[h+1]=s+t[h]*l;return u}static _translate(t,e,s,a){a||=new Float32Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=e+t[l],a[l+1]=s+t[l+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,s,a,l){switch(l){case 90:return[1-e/s,t/a];case 180:return[1-t/s,1-e/a];case 270:return[e/s,1-t/a];default:return[t/s,e/a]}}static _normalizePagePoint(t,e,s){switch(s){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,s,a,l,u){return[(t+5*s)/6,(e+5*a)/6,(5*s+l)/6,(5*a+u)/6,(s+l)/2,(a+u)/2]}}class ws{#t;#e=[];#n;#i;#a=[];#s=new Float32Array(18);#l;#o;#h;#c;#d;#u;#f=[];static#r=8;static#p=2;static#m=ws.#r+ws.#p;constructor({x:t,y:e},s,a,l,u,h=0){this.#t=s,this.#u=l*a,this.#i=u,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=h,this.#c=ws.#r*a,this.#h=ws.#m*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[s,a,l,u]=this.#t;return[(this.#l+(t[0]-e[0])/2-s)/l,(this.#o+(t[1]-e[1])/2-a)/u,(this.#l+(e[0]-t[0])/2-s)/l,(this.#o+(e[1]-t[1])/2-a)/u]}add({x:t,y:e}){this.#l=t,this.#o=e;const[s,a,l,u]=this.#t;let[h,d,p,g]=this.#s.subarray(8,12);const y=t-p,v=e-g,b=Math.hypot(y,v);if(b<this.#h)return!1;const S=b-this.#c,w=S/b,C=w*y,E=w*v;let L=h,T=d;h=p,d=g,p+=C,g+=E,this.#f?.push(t,e);const D=-E/S,R=C/S,j=D*this.#u,k=R*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([p+j,g+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([p-j,g-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([h+j,d+k],2),this.#a.push(NaN,NaN,NaN,NaN,(h+j-s)/l,(d+k-a)/u),this.#s.set([h-j,d-k],14),this.#e.push(NaN,NaN,NaN,NaN,(h-j-s)/l,(d-k-a)/u)),this.#s.set([L,T,h,d,p,g],6),!this.isEmpty()):(this.#s.set([L,T,h,d,p,g],6),Math.abs(Math.atan2(T-d,L-h)-Math.atan2(E,C))<Math.PI/2?([h,d,p,g]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+p)/2-s)/l,((d+g)/2-a)/u),[h,d,L,T]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((L+h)/2-s)/l,((T+d)/2-a)/u),!0):([L,T,h,d,p,g]=this.#s.subarray(0,6),this.#a.push(((L+5*h)/6-s)/l,((T+5*d)/6-a)/u,((5*h+p)/6-s)/l,((5*d+g)/6-a)/u,((h+p)/2-s)/l,((d+g)/2-a)/u),[p,g,h,d,L,T]=this.#s.subarray(12,18),this.#e.push(((L+5*h)/6-s)/l,((T+5*d)/6-a)/u,((5*h+p)/6-s)/l,((5*d+g)/6-a)/u,((h+p)/2-s)/l,((d+g)/2-a)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const s=[];s.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#b(s);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#v(s),s.join(" ")}#y(){const[t,e,s,a]=this.#t,[l,u,h,d]=this.#g();return`M${(this.#s[2]-t)/s} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/s} ${(this.#s[5]-e)/a} L${l} ${u} L${h} ${d} L${(this.#s[16]-t)/s} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/s} ${(this.#s[15]-e)/a} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,s,a,l]=this.#t,u=this.#s.subarray(4,6),h=this.#s.subarray(16,18),[d,p,g,y]=this.#g();t.push(`L${(u[0]-e)/a} ${(u[1]-s)/l} L${d} ${p} L${g} ${y} L${(h[0]-e)/a} ${(h[1]-s)/l}`)}newFreeDrawOutline(t,e,s,a,l,u){return new rb(t,e,s,a,l,u)}getOutlines(){const t=this.#a,e=this.#e,s=this.#s,[a,l,u,h]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let y=0,v=d.length-2;y<v;y+=2)d[y]=(this.#f[y]-a)/u,d[y+1]=(this.#f[y+1]-l)/h;if(d[d.length-2]=(this.#l-a)/u,d[d.length-1]=(this.#o-l)/h,isNaN(s[6])&&!this.isEmpty())return this.#S(d);const p=new Float32Array(this.#a.length+24+this.#e.length);let g=t.length;for(let y=0;y<g;y+=2){if(isNaN(t[y])){p[y]=p[y+1]=NaN;continue}p[y]=t[y],p[y+1]=t[y+1]}g=this.#_(p,g);for(let y=e.length-6;y>=6;y-=6)for(let v=0;v<6;v+=2){if(isNaN(e[y+v])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[y+v],p[g+1]=e[y+v+1],g+=2}return this.#x(p,g),this.newFreeDrawOutline(p,d,this.#t,this.#d,this.#n,this.#i)}#S(t){const e=this.#s,[s,a,l,u]=this.#t,[h,d,p,g]=this.#g(),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/l,(e[3]-a)/u,NaN,NaN,NaN,NaN,(e[4]-s)/l,(e[5]-a)/u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-s)/l,(e[17]-a)/u,NaN,NaN,NaN,NaN,(e[14]-s)/l,(e[15]-a)/u],0),this.newFreeDrawOutline(y,t,this.#t,this.#d,this.#n,this.#i)}#x(t,e){const s=this.#e;return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6}#_(t,e){const s=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[l,u,h,d]=this.#t,[p,g,y,v]=this.#g();return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/h,(s[1]-u)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(a[0]-l)/h,(a[1]-u)/d],e),e+=24}}class rb extends ut{#t;#e=new Float32Array(4);#n;#i;#a;#s;#l;constructor(t,e,s,a,l,u){super(),this.#l=t,this.#a=e,this.#t=s,this.#s=a,this.#n=l,this.#i=u,this.lastPoint=[NaN,NaN],this.#o(u);const[h,d,p,g]=this.#e;for(let y=0,v=t.length;y<v;y+=2)t[y]=(t[y]-h)/p,t[y+1]=(t[y+1]-d)/g;for(let y=0,v=e.length;y<v;y+=2)e[y]=(e[y]-h)/p,e[y+1]=(e[y+1]-d)/g}toSVGPath(){const t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,s=this.#l.length;e<s;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,s,a],l){const u=s-t,h=a-e;let d,p;switch(l){case 0:d=ut._rescale(this.#l,t,a,u,-h),p=ut._rescale(this.#a,t,a,u,-h);break;case 90:d=ut._rescaleAndSwap(this.#l,t,e,u,h),p=ut._rescaleAndSwap(this.#a,t,e,u,h);break;case 180:d=ut._rescale(this.#l,s,e,-u,h),p=ut._rescale(this.#a,s,e,-u,h);break;case 270:d=ut._rescaleAndSwap(this.#l,s,a,-u,-h),p=ut._rescaleAndSwap(this.#a,s,a,-u,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}#o(t){const e=this.#l;let s=e[4],a=e[5];const l=[s,a,s,a];let u=s,h=a;const d=t?Math.max:Math.min;for(let g=6,y=e.length;g<y;g+=6){const v=e[g+4],b=e[g+5];if(isNaN(e[g]))pt.pointBoundingBox(v,b,l),h<b?(u=v,h=b):h===b&&(u=d(u,v));else{const S=[1/0,1/0,-1/0,-1/0];pt.bezierBoundingBox(s,a,...e.slice(g,g+6),S),pt.rectBoundingBox(...S,l),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=d(u,S[2]))}s=v,a=b}const p=this.#e;p[0]=l[0]-this.#n,p[1]=l[1]-this.#n,p[2]=l[2]-l[0]+2*this.#n,p[3]=l[3]-l[1]+2*this.#n,this.lastPoint=[u,h]}get box(){return this.#e}newOutliner(t,e,s,a,l,u=0){return new ws(t,e,s,a,l,u)}getNewOutline(t,e){const[s,a,l,u]=this.#e,[h,d,p,g]=this.#t,y=l*p,v=u*g,b=s*p+h,S=a*g+d,w=this.newOutliner({x:this.#a[0]*y+b,y:this.#a[1]*v+S},this.#t,this.#s,t,this.#i,e??this.#n);for(let C=2;C<this.#a.length;C+=2)w.add({x:this.#a[C]*y+b,y:this.#a[C+1]*v+S});return w.getOutlines()}}class jd{#t;#e;#n=[];#i=[];constructor(t,e=0,s=0,a=!0){const l=[1/0,1/0,-1/0,-1/0],u=10**-4;for(const{x:b,y:S,width:w,height:C}of t){const E=Math.floor((b-e)/u)*u,L=Math.ceil((b+w+e)/u)*u,T=Math.floor((S-e)/u)*u,D=Math.ceil((S+C+e)/u)*u,R=[E,T,D,!0],j=[L,T,D,!1];this.#n.push(R,j),pt.rectBoundingBox(E,T,L,D,l)}const h=l[2]-l[0]+2*s,d=l[3]-l[1]+2*s,p=l[0]-s,g=l[1]-s,y=this.#n.at(a?-1:-2),v=[y[0],y[2]];for(const b of this.#n){const[S,w,C]=b;b[0]=(S-p)/h,b[1]=(w-g)/d,b[2]=(C-g)/d}this.#t=new Float32Array([p,g,h,d]),this.#e=v}getOutlines(){this.#n.sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#l(e)):(this.#o(e),t.push(...this.#h(e)));return this.#a(t)}#a(t){const e=[],s=new Set;for(const u of t){const[h,d,p]=u;e.push([h,d,u],[h,p,u])}e.sort((u,h)=>u[1]-h[1]||u[0]-h[0]);for(let u=0,h=e.length;u<h;u+=2){const d=e[u][2],p=e[u+1][2];d.push(p),p.push(d),s.add(d),s.add(p)}const a=[];let l;for(;s.size>0;){const u=s.values().next().value;let[h,d,p,g,y]=u;s.delete(u);let v=h,b=d;for(l=[h,p],a.push(l);;){let S;if(s.has(g))S=g;else if(s.has(y))S=y;else break;s.delete(S),[h,d,p,g,y]=S,v!==h&&(l.push(v,b,h,b===d?d:p),v=h),b=b===d?p:d}l.push(v,b)}return new RC(a,this.#t,this.#e)}#s(t){const e=this.#i;let s=0,a=e.length-1;for(;s<=a;){const l=s+a>>1,u=e[l][0];if(u===t)return l;u<t?s=l+1:a=l-1}return a+1}#l([,t,e]){const s=this.#s(t);this.#i.splice(s,0,[t,e])}#o([,t,e]){const s=this.#s(t);for(let a=s;a<this.#i.length;a++){const[l,u]=this.#i[a];if(l!==t)break;if(l===t&&u===e){this.#i.splice(a,1);return}}for(let a=s-1;a>=0;a--){const[l,u]=this.#i[a];if(l!==t)break;if(l===t&&u===e){this.#i.splice(a,1);return}}}#h(t){const[e,s,a]=t,l=[[e,s,a]],u=this.#s(a);for(let h=0;h<u;h++){const[d,p]=this.#i[h];for(let g=0,y=l.length;g<y;g++){const[,v,b]=l[g];if(!(p<=v||b<=d)){if(v>=d){if(b>p)l[g][1]=p;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=d,b>p&&l.push([e,p,b])}}}return l}}class RC extends ut{#t;#e;constructor(t,e,s){super(),this.#e=t,this.#t=e,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[s,a]=e;t.push(`M${s} ${a}`);for(let l=2;l<e.length;l+=2){const u=e[l],h=e[l+1];u===s?(t.push(`V${h}`),a=h):h===a&&(t.push(`H${u}`),s=u)}t.push("Z")}return t.join(" ")}serialize([t,e,s,a],l){const u=[],h=s-t,d=a-e;for(const p of this.#e){const g=new Array(p.length);for(let y=0;y<p.length;y+=2)g[y]=t+p[y]*h,g[y+1]=a-p[y+1]*d;u.push(g)}return u}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Id extends ws{newFreeDrawOutline(t,e,s,a,l,u){return new MC(t,e,s,a,l,u)}}class MC extends rb{newOutliner(t,e,s,a,l,u=0){return new Id(t,e,s,a,l,u)}}class pn{#t=null;#e=null;#n;#i=null;#a=!1;#s=!1;#l=null;#o;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return Ot(this,"_keyboardManager",new mo([[["Escape","mac+Escape"],pn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pn.prototype._moveToPrevious],[["Home","mac+Home"],pn.prototype._moveToBeginning],[["End","mac+End"],pn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#d=kt.HIGHLIGHT_COLOR,this.#l=t):(this.#s=!0,this.#d=kt.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",pn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const s=this.#e=document.createElement("span");return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=this.#n,t.append(s),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",Mn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,a]of this.#c.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=s,l.setAttribute("data-l10n-id",pn.#u[s]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=a,l.setAttribute("aria-selected",a===this.#n),l.addEventListener("click",this.#r.bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#r(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#r(e,t)}_moveToNext(t){if(!this.#y){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){pn._keyboardManager.exec(this,t)}#m(t){if(this.#y){this.hideDropdown();return}if(this.#a=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#y){this.#l?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const s of this.#i.children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class de extends gt{#t=null;#e=0;#n;#i=null;#a=null;#s=null;#l=null;#o=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#r;#p=null;#m="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=St.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=de.prototype;return Ot(this,"_keyboardManager",new mo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||de._defaultColor,this.#g=t.thickness||de._defaultThickness,this.#r=t.opacity||de._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#b(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#l=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new jd(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new jd(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:s}=this.#s;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:s}){this.#c=t;const a=1.5;if(this.#s=t.getNewOutline(this.#g/2+a,.0025),e>=0)this.#d=e,this.#i=s,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:de.#w(this.#c.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:de.#w(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[l,u,h,d]=t.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=h,this.height=d;break;case 90:{const[g,y]=this.parentDimensions;this.x=u,this.y=1-l,this.width=h*y/g,this.height=d*g/y;break}case 180:this.x=1-l,this.y=1-u,this.width=h,this.height=d;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-u,this.y=l,this.width=h*y/g,this.height=d*g/y;break}}const{lastPoint:p}=this.#s;this.#f=[(p[0]-l)/h,(p[1]-u)/d]}static initialize(t,e){gt.initialize(t,e),de._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case kt.HIGHLIGHT_DEFAULT_COLOR:de._defaultColor=e;break;case kt.HIGHLIGHT_THICKNESS:de._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case kt.HIGHLIGHT_COLOR:this.#S(e);break;case kt.HIGHLIGHT_THICKNESS:this.#x(e);break}}static get defaultPropertiesToUpdate(){return[[kt.HIGHLIGHT_DEFAULT_COLOR,de._defaultColor],[kt.HIGHLIGHT_THICKNESS,de._defaultThickness]]}get propertiesToUpdate(){return[[kt.HIGHLIGHT_COLOR,this.color||de._defaultColor],[kt.HIGHLIGHT_THICKNESS,this.#g||de._defaultThickness],[kt.HIGHLIGHT_FREE,this.#u]]}#S(t){const e=(l,u)=>{this.color=l,this.#r=u,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:l,"fill-opacity":u}}),this.#a?.updateColor(l)},s=this.color,a=this.#r;this.addCommands({cmd:e.bind(this,t,de._defaultOpacity),undo:e.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#x(t){const e=this.#g,s=a=>{this.#g=a,this.#_(a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:kt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new pn({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){if(!this.#u)return;this.#b({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}#T(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#r},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#w([t,e,s,a],l){switch(l){case 90:return[1-e-a,t,a,s];case 180:return[1-t-s,1-e-a,s,a];case 270:return[e,1-t-s,a,s]}return[t,e,s,a]}rotate(t){const{drawLayer:e}=this.parent;let s;this.#u?(t=(t-this.rotation+360)%360,s=de.#w(this.#c.box,t)):s=de.#w([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:s,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:de.#w(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),Nv(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){de._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#D(){return this.#u?this.rotation:0}#O(){if(this.#u)return null;const[t,e]=this.pageDimensions,[s,a]=this.pageTranslation,l=this.#n,u=new Float32Array(l.length*8);let h=0;for(const{x:d,y:p,width:g,height:y}of l){const v=d*t+s,b=(1-p)*e+a;u[h]=u[h+4]=v,u[h+1]=u[h+3]=b,u[h+2]=u[h+6]=v+g*t,u[h+5]=u[h+7]=b-y*e,h+=8}return u}#N(t){return this.#c.serialize(t,this.#D())}static startHighlighting(t,e,{target:s,x:a,y:l}){const{x:u,y:h,width:d,height:p}=s.getBoundingClientRect(),g=new AbortController,y=t.combinedSignal(g),v=b=>{g.abort(),this.#E(t,b)};window.addEventListener("blur",v,{signal:y}),window.addEventListener("pointerup",v,{signal:y}),window.addEventListener("pointerdown",fe,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Mn,{signal:y}),s.addEventListener("pointermove",this.#B.bind(this,t),{signal:y}),this._freeHighlight=new Id({x:a,y:l},[u,h,d,p],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,s){let a=null;if(t instanceof ib){const{data:{quadPoints:S,rect:w,rotation:C,id:E,color:L,opacity:T,popupRef:D},parent:{page:{pageNumber:R}}}=t;a=t={annotationType:St.HIGHLIGHT,color:Array.from(L),opacity:T,quadPoints:S,boxes:null,pageIndex:R-1,rect:w.slice(0),rotation:C,id:E,deleted:!1,popupRef:D}}else if(t instanceof Sf){const{data:{inkLists:S,rect:w,rotation:C,id:E,color:L,borderStyle:{rawWidth:T},popupRef:D},parent:{page:{pageNumber:R}}}=t;a=t={annotationType:St.HIGHLIGHT,color:Array.from(L),thickness:T,inkLists:S,boxes:null,pageIndex:R-1,rect:w.slice(0),rotation:C,id:E,deleted:!1,popupRef:D}}const{color:l,quadPoints:u,inkLists:h,opacity:d}=t,p=await super.deserialize(t,e,s);p.color=pt.makeHexColor(...l),p.#r=d||1,h&&(p.#g=t.thickness),p.annotationElementId=t.id||null,p._initialData=a;const[g,y]=p.pageDimensions,[v,b]=p.pageTranslation;if(u){const S=p.#n=[];for(let w=0;w<u.length;w+=8)S.push({x:(u[w]-v)/g,y:1-(u[w+1]-b)/y,width:(u[w+2]-u[w])/g,height:(u[w+1]-u[w+5])/y});p.#v(),p.#M(),p.rotate(p.rotation)}else if(h){p.#u=!0;const S=h[0],w={x:S[0]-v,y:y-(S[1]-b)},C=new Id(w,[0,0,g,y],1,p.#g/2,!0,.001);for(let T=0,D=S.length;T<D;T+=2)w.x=S[T]-v,w.y=y-(S[T+1]-b),C.add(w);const{id:E,clipPathId:L}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);p.#b({highlightOutlines:C.getOutlines(),highlightId:E,clipPathId:L}),p.#M(),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),s=gt._colorManager.convert(this.color),a={annotationType:St.HIGHLIGHT,color:s,opacity:this.#r,thickness:this.#g,quadPoints:this.#O(),outlines:this.#N(e),pageIndex:this.pageIndex,rect:e,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#A(a)?null:(a.id=this.annotationElementId,a)}#A(t){const{color:e}=this._initialData;return t.color.some((s,a)=>s!==e[a])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class ob{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,s]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,s)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Wt("Not implemented")}}class vt extends gt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#a=null;static#s=NaN;static#l=null;static#o=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:s}){this.#t=t,this._drawingOptions||=s,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#m(t.box)}#d(t,e){const{id:s}=e.drawLayer.draw(vt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(t,e){const s=new Set(Object.keys(t));for(const[a,l]of Object.entries(e))s.has(a)?Object.assign(t[a],l):t[a]=l;return t}static getDefaultDrawingOptions(t){Wt("Not implemented")}static get typesMap(){Wt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,e),this._currentParent&&(vt.#n.updateProperty(s,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)t.push([s,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[s,a]of this.constructor.typesMap)t.push([s,e[a]]);return t}_updateProperty(t,e,s){const a=this._drawingOptions,l=a[e],u=h=>{a.updateProperty(e,h);const d=this.#t.updateProperty(e,h);d&&this.#m(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:u.bind(this,s),undo:u.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#r([t,e,s,a]){const{parentDimensions:[l,u],rotation:h}=this;switch(h){case 90:return[e,1-t,s*(u/l),a*(l/u)];case 180:return[1-t,1-e,s,a];case 270:return[1-e,t,s*(u/l),a*(l/u)];default:return[t,e,s,a]}}#p(){const{x:t,y:e,width:s,height:a,parentDimensions:[l,u],rotation:h}=this;switch(h){case 90:return[1-e,t,s*(l/u),a*(u/l)];case 180:return[1-t,1-e,s,a];case 270:return[e,1-t,s*(l/u),a*(u/l)];default:return[t,e,s,a]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#r(t),this.div){this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}this._onResized()}#g(){const{x:t,y:e,width:s,height:a,rotation:l,parentRotation:u,parentDimensions:[h,d]}=this;switch((l*4+u)/90){case 1:return[1-e-a,t,a,s];case 2:return[1-t-s,1-e-a,s,a];case 3:return[e,1-t-s,a,s];case 4:return[t,e-s*(h/d),a*(d/h),s*(h/d)];case 5:return[1-e,t,s*(h/d),a*(d/h)];case 6:return[1-t-a*(d/h),1-e,a*(d/h),s*(h/d)];case 7:return[e-s*(h/d),1-t-a*(d/h),s*(h/d),a*(d/h)];case 8:return[t-s,e-a,s,a];case 9:return[1-e,t-s,a,s];case 10:return[1-t,1-e,s,a];case 11:return[e-a,1-t,a,s];case 12:return[t-a*(d/h),e,a*(d/h),s*(h/d)];case 13:return[1-e-s*(h/d),t-a*(d/h),s*(h/d),a*(d/h)];case 14:return[1-t,1-e-s*(h/d),a*(d/h),s*(h/d)];case 15:return[e,1-t,s*(h/d),a*(d/h)];default:return[t,e,s,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,vt._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[l,u]=this.parentDimensions;return this.setDims(this.width*l,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),s}static createDrawerInstance(t,e,s,a,l){Wt("Not implemented")}static startDrawing(t,e,s,a){const{target:l,offsetX:u,offsetY:h,pointerId:d,pointerType:p}=a;if(vt.#l&&vt.#l!==p)return;const{viewport:{rotation:g}}=t,{width:y,height:v}=l.getBoundingClientRect(),b=vt.#i=new AbortController,S=t.combinedSignal(b);if(vt.#s||=d,vt.#l??=p,window.addEventListener("pointerup",w=>{vt.#s===w.pointerId?this._endDraw(w):vt.#o?.delete(w.pointerId)},{signal:S}),window.addEventListener("pointercancel",w=>{vt.#s===w.pointerId?this._currentParent.endDrawingSession():vt.#o?.delete(w.pointerId)},{signal:S}),window.addEventListener("pointerdown",w=>{vt.#l===w.pointerType&&((vt.#o||=new Set).add(w.pointerId),vt.#n.isCancellable()&&(vt.#n.removeLastElement(),vt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Mn,{signal:S}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),l.addEventListener("touchmove",w=>{w.timeStamp===vt.#h&&fe(w)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),vt.#n){t.drawLayer.updateProperties(this._currentDrawId,vt.#n.startNew(u,h,y,v,g));return}e.updateUIForDefaultProperties(this),vt.#n=this.createDrawerInstance(u,h,y,v,g),vt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(vt.#a.toSVGProperties(),vt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(vt.#h=-1,!vt.#n)return;const{offsetX:e,offsetY:s,pointerId:a}=t;if(vt.#s===a){if(vt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,vt.#n.add(e,s)),vt.#h=t.timeStamp,fe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,vt.#n=null,vt.#a=null,vt.#l=null,vt.#h=NaN),vt.#i&&(vt.#i.abort(),vt.#i=null,vt.#s=NaN,vt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,vt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=vt.#n,a=this._currentDrawId,l=s.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,s.setLastElement(l))},undo:()=>{e.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:kt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(kt.DRAW_STEP),!vt.#n.isEmpty()){const{pageDimensions:[s,a],scale:l}=e,u=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:vt.#n.getOutlines(s*l,a*l,l,this._INNER_MARGIN),drawingOptions:vt.#a,mustBeCommitted:!t});return this._cleanup(!0),u}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,s,a,l,u){Wt("Not implemented")}static async deserialize(t,e,s){const{rawDims:{pageWidth:a,pageHeight:l,pageX:u,pageY:h}}=e.viewport,d=this.deserializeDraw(u,h,a,l,this._INNER_MARGIN,t),p=await super.deserialize(t,e,s);return p.createDrawingOptions(t),p.#c({drawOutlines:d}),p.#f(),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[e,s]=this.pageTranslation,[a,l]=this.pageDimensions;return this.#t.serialize([e,s,a,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class LC{#t=new Float64Array(6);#e;#n;#i;#a;#s;#l="";#o=0;#h=new Ao;#c;#d;constructor(t,e,s,a,l,u){this.#c=s,this.#d=a,this.#i=l,this.#a=u,[t,e]=this.#u(t,e);const h=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:h,points:this.#s}],this.#t.set(h,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return ut._normalizePoint(t,e,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[s,a,l,u]=this.#t.subarray(2,6),h=t-l,d=e-u;return Math.hypot(this.#c*h,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(s)?(this.#t.set([l,u,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([s,a,l,u,t,e],0),this.#e.push(...ut.createBezierPoints(s,a,l,u,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const s=this.add(t,e);return s||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,s,a,l){this.#c=s,this.#d=a,this.#i=l,[t,e]=this.#u(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const h=this.#n.at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),this.#n.push({line:u,points:this.#s}),this.#t.set(u,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){const{line:s,points:a}=this.#n[t];this.#e=s,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const t=ut.svgRound(this.#e[4]),e=ut.svgRound(this.#e[5]);if(this.#s.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#s.length<=6){const a=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=ut.svgRound(this.#e[10]),l=ut.svgRound(this.#e[11]);return this.#l=`${this.#l} L ${a} ${l}`,this.#o=12,this.#l}const s=[];this.#o===0&&(s.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,l=this.#e.length;a<l;a+=6){const[u,h,d,p,g,y]=this.#e.slice(a,a+6).map(ut.svgRound);s.push(`C${u} ${h} ${d} ${p} ${g} ${y}`)}return this.#l+=s.join(" "),this.#o=this.#e.length,this.#l}getOutlines(t,e,s,a){const l=this.#n.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#h.build(this.#n,t,e,s,this.#i,this.#a,a),this.#t=null,this.#e=null,this.#n=null,this.#l=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ao extends ut{#t;#e=0;#n;#i;#a;#s;#l;#o;#h;build(t,e,s,a,l,u,h){this.#a=e,this.#s=s,this.#l=a,this.#o=l,this.#h=u,this.#n=h??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ut.svgRound(e[4])} ${ut.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ut.svgRound(e[10])} ${ut.svgRound(e[11])}`);continue}for(let s=6,a=e.length;s<a;s+=6){const[l,u,h,d,p,g]=e.subarray(s,s+6).map(ut.svgRound);t.push(`C${l} ${u} ${h} ${d} ${p} ${g}`)}}return t.join("")}serialize([t,e,s,a],l){const u=[],h=[],[d,p,g,y]=this.#d();let v,b,S,w,C,E,L,T,D;switch(this.#o){case 0:D=ut._rescale,v=t,b=e+a,S=s,w=-a,C=t+d*s,E=e+(1-p-y)*a,L=t+(d+g)*s,T=e+(1-p)*a;break;case 90:D=ut._rescaleAndSwap,v=t,b=e,S=s,w=a,C=t+p*s,E=e+d*a,L=t+(p+y)*s,T=e+(d+g)*a;break;case 180:D=ut._rescale,v=t+s,b=e,S=-s,w=a,C=t+(1-d-g)*s,E=e+p*a,L=t+(1-d)*s,T=e+(p+y)*a;break;case 270:D=ut._rescaleAndSwap,v=t+s,b=e+a,S=-s,w=-a,C=t+(1-p-y)*s,E=e+(1-d-g)*a,L=t+(1-p)*s,T=e+(1-d)*a;break}for(const{line:R,points:j}of this.#i)u.push(D(R,v,b,S,w,l?new Array(R.length):null)),h.push(D(j,v,b,S,w,l?new Array(j.length):null));return{lines:u,points:h,rect:[C,E,L,T]}}static deserialize(t,e,s,a,l,{paths:{lines:u,points:h},rotation:d,thickness:p}){const g=[];let y,v,b,S,w;switch(d){case 0:w=ut._rescale,y=-t/s,v=e/a+1,b=1/s,S=-1/a;break;case 90:w=ut._rescaleAndSwap,y=-e/a,v=-t/s,b=1/a,S=1/s;break;case 180:w=ut._rescale,y=t/s+1,v=-e/a,b=-1/s,S=1/a;break;case 270:w=ut._rescaleAndSwap,y=e/a+1,v=t/s+1,b=-1/a,S=-1/s;break}if(!u){u=[];for(const E of h){const L=E.length;if(L===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(L===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const T=new Float32Array(3*(L-2));u.push(T);let[D,R,j,k]=E.subarray(0,4);T.set([NaN,NaN,NaN,NaN,D,R],0);for(let X=4;X<L;X+=2){const Y=E[X],it=E[X+1];T.set(ut.createBezierPoints(D,R,j,k,Y,it),(X-2)*3),[D,R,j,k]=[j,k,Y,it]}}}for(let E=0,L=u.length;E<L;E++)g.push({line:w(u[E].map(T=>T??NaN),y,v,b,S),points:w(h[E].map(T=>T??NaN),y,v,b,S)});const C=new this.prototype.constructor;return C.build(g,s,a,1,d,p,l),C}#c(t=this.#h){const e=this.#n+t/2*this.#l;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,s,a]=this.#t,[l,u]=this.#c(0);return[t+l,e+u,s-2*l,a-2*u]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let h=4,d=a.length;h<d;h+=6)pt.pointBoundingBox(a[h],a[h+1],t);continue}let l=a[4],u=a[5];for(let h=6,d=a.length;h<d;h+=6){const[p,g,y,v,b,S]=a.subarray(h,h+6);pt.bezierBoundingBox(l,u,p,g,y,v,b,S,t),l=b,u=S}}const[e,s]=this.#c();t[0]=He(t[0]-e,0,1),t[1]=He(t[1]-s,0,1),t[2]=He(t[2]+e,0,1),t[3]=He(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,s]=this.#c();this.#h=t;const[a,l]=this.#c(),[u,h]=[a-e,l-s],d=this.#t;return d[0]-=u,d[1]-=h,d[2]+=2*u,d[3]+=2*h,d}updateParentDimensions([t,e],s){const[a,l]=this.#c();this.#a=t,this.#s=e,this.#l=s;const[u,h]=this.#c(),d=u-a,p=h-l,g=this.#t;return g[0]-=d,g[1]-=p,g[2]+=2*d,g[3]+=2*p,g}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ut.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ut.svgRound(t)} ${ut.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let s=0,a=0,l=0,u=0,h=0,d=0;switch(this.#e){case 90:a=e/t,l=-t/e,h=t;break;case 180:s=-1,u=-1,h=t,d=e;break;case 270:a=-e/t,l=t/e,d=e;break;default:return""}return`matrix(${s} ${a} ${l} ${u} ${ut.svgRound(h)} ${ut.svgRound(d)})`}getPathResizingSVGProperties([t,e,s,a]){const[l,u]=this.#c(),[h,d,p,g]=this.#t;if(Math.abs(p-l)<=ut.PRECISION||Math.abs(g-u)<=ut.PRECISION){const w=t+s/2-(h+p/2),C=e+a/2-(d+g/2);return{path:{"transform-origin":`${ut.svgRound(t)} ${ut.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${C})`}}}const y=(s-2*l)/(p-2*l),v=(a-2*u)/(g-2*u),b=p/s,S=g/a;return{path:{"transform-origin":`${ut.svgRound(h)} ${ut.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${S}) translate(${ut.svgRound(l)} ${ut.svgRound(u)}) scale(${y} ${v}) translate(${ut.svgRound(-l)} ${ut.svgRound(-u)})`}}}getPathResizedSVGProperties([t,e,s,a]){const[l,u]=this.#c(),h=this.#t,[d,p,g,y]=h;if(h[0]=t,h[1]=e,h[2]=s,h[3]=a,Math.abs(g-l)<=ut.PRECISION||Math.abs(y-u)<=ut.PRECISION){const C=t+s/2-(d+g/2),E=e+a/2-(p+y/2);for(const{line:L,points:T}of this.#i)ut._translate(L,C,E,L),ut._translate(T,C,E,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ut.svgRound(t)} ${ut.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(s-2*l)/(g-2*l),b=(a-2*u)/(y-2*u),S=-v*(d+l)+t+l,w=-b*(p+u)+e+u;if(v!==1||b!==1||S!==0||w!==0)for(const{line:C,points:E}of this.#i)ut._rescale(C,S,w,v,b,C),ut._rescale(E,S,w,v,b,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ut.svgRound(t)} ${ut.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],s){const[a,l]=s,u=this.#t,h=t-u[0],d=e-u[1];if(this.#a===a&&this.#s===l)for(const{line:p,points:g}of this.#i)ut._translate(p,h,d,p),ut._translate(g,h,d,g);else{const p=this.#a/a,g=this.#s/l;this.#a=a,this.#s=l;for(const{line:y,points:v}of this.#i)ut._rescale(y,h,d,p,g,y),ut._rescale(v,h,d,p,g,v);u[2]*=p,u[3]*=g}return u[0]=t,u[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ut.svgRound(t)} ${ut.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ut.svgRound(t[0])} ${ut.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Rc extends ob{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:gt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Rc(this._viewParameters);return t.updateAll(this),t}}class xf extends vt{static _type="ink";static _editorType=St.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){gt.initialize(t,e),this._defaultDrawingOptions=new Rc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ot(this,"typesMap",new Map([[kt.INK_THICKNESS,"stroke-width"],[kt.INK_COLOR,"stroke"],[kt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,s,a,l){return new LC(t,e,s,a,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,s,a,l,u){return Ao.deserialize(t,e,s,a,l,u)}static async deserialize(t,e,s){let a=null;if(t instanceof Sf){const{data:{inkLists:u,rect:h,rotation:d,id:p,color:g,opacity:y,borderStyle:{rawWidth:v},popupRef:b},parent:{page:{pageNumber:S}}}=t;a=t={annotationType:St.INK,color:Array.from(g),thickness:v,opacity:y,paths:{points:u},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:d,id:p,deleted:!1,popupRef:b}}const l=await super.deserialize(t,e,s);return l.annotationElementId=t.id||null,l._initialData=a,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:s}=this;e.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:s}){this._drawingOptions=xf.getDefaultDrawingOptions({stroke:pt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":u,"stroke-width":h}}=this,d={annotationType:St.INK,color:gt._colorManager.convert(l),opacity:u,thickness:h,paths:{lines:e,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(d.isCopy=!0,d):this.annotationElementId&&!this.#t(d)?null:(d.id=this.annotationElementId,d)}#t(t){const{color:e,thickness:s,opacity:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((u,h)=>u!==e[h])||t.thickness!==s||t.opacity!==a||t.pageIndex!==l}renderAnnotationElement(t){const{points:e,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class Fd extends Ao{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const $l=8,Vr=3;class As{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,s,a){return s-=t,a-=e,s===0?a>0?0:4:s===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,s,a,l,u,h){const d=this.#e(s,a,l,u);for(let p=0;p<8;p++){const g=(-p+d-h+16)%8,y=this.#n[2*g],v=this.#n[2*g+1];if(t[(s+y)*e+(a+v)]!==0)return g}return-1}static#a(t,e,s,a,l,u,h){const d=this.#e(s,a,l,u);for(let p=0;p<8;p++){const g=(p+d+h+16)%8,y=this.#n[2*g],v=this.#n[2*g+1];if(t[(s+y)*e+(a+v)]!==0)return g}return-1}static#s(t,e,s,a){const l=t.length,u=new Int32Array(l);for(let g=0;g<l;g++)u[g]=t[g]<=a?1:0;for(let g=1;g<s-1;g++)u[g*e]=u[g*e+e-1]=0;for(let g=0;g<e;g++)u[g]=u[e*s-1-g]=0;let h=1,d;const p=[];for(let g=1;g<s-1;g++){d=1;for(let y=1;y<e-1;y++){const v=g*e+y,b=u[v];if(b===0)continue;let S=g,w=y;if(b===1&&u[v-1]===0)h+=1,w-=1;else if(b>=1&&u[v+1]===0)h+=1,w+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const C=[y,g],E=w===y+1,L={isHole:E,points:C,id:h,parent:0};p.push(L);let T;for(const nt of p)if(nt.id===d){T=nt;break}T?T.isHole?L.parent=E?T.parent:d:L.parent=E?d:T.parent:L.parent=E?d:0;const D=this.#i(u,e,g,y,S,w,0);if(D===-1){u[v]=-h,u[v]!==1&&(d=Math.abs(u[v]));continue}let R=this.#n[2*D],j=this.#n[2*D+1];const k=g+R,X=y+j;S=k,w=X;let Y=g,it=y;for(;;){const nt=this.#a(u,e,Y,it,S,w,1);R=this.#n[2*nt],j=this.#n[2*nt+1];const Q=Y+R,et=it+j;C.push(et,Q);const rt=Y*e+it;if(u[rt+1]===0?u[rt]=-h:u[rt]===1&&(u[rt]=h),Q===g&&et===y&&Y===k&&it===X){u[v]!==1&&(d=Math.abs(u[v]));break}else S=Y,w=it,Y=Q,it=et}}}return p}static#l(t,e,s,a){if(s-e<=4){for(let k=e;k<s-2;k+=2)a.push(t[k],t[k+1]);return}const l=t[e],u=t[e+1],h=t[s-4]-l,d=t[s-3]-u,p=Math.hypot(h,d),g=h/p,y=d/p,v=g*u-y*l,b=d/h,S=1/p,w=Math.atan(b),C=Math.cos(w),E=Math.sin(w),L=S*(Math.abs(C)+Math.abs(E)),T=S*(1-L+L**2),D=Math.max(Math.atan(Math.abs(E+C)*T),Math.atan(Math.abs(E-C)*T));let R=0,j=e;for(let k=e+2;k<s-2;k+=2){const X=Math.abs(v-g*t[k+1]+y*t[k]);X>R&&(j=k,R=X)}R>(p*D)**2?(this.#l(t,e,j+2,a),this.#l(t,j,s,a)):a.push(l,u)}static#o(t){const e=[],s=t.length;return this.#l(t,0,s,e),e.push(t[s-2],t[s-1]),e.length<=4?null:e}static#h(t,e,s,a,l,u){const h=new Float32Array(u**2),d=-2*a**2,p=u>>1;for(let w=0;w<u;w++){const C=(w-p)**2;for(let E=0;E<u;E++)h[w*u+E]=Math.exp((C+(E-p)**2)/d)}const g=new Float32Array(256),y=-2*l**2;for(let w=0;w<256;w++)g[w]=Math.exp(w**2/y);const v=t.length,b=new Uint8Array(v),S=new Uint32Array(256);for(let w=0;w<s;w++)for(let C=0;C<e;C++){const E=w*e+C,L=t[E];let T=0,D=0;for(let j=0;j<u;j++){const k=w+j-p;if(!(k<0||k>=s))for(let X=0;X<u;X++){const Y=C+X-p;if(Y<0||Y>=e)continue;const it=t[k*e+Y],nt=h[j*u+X]*g[Math.abs(it-L)];T+=it*nt,D+=nt}}const R=b[E]=Math.round(T/D);S[R]++}return[b,S]}static#c(t){const e=new Uint32Array(256);for(const s of t)e[s]++;return e}static#d(t){const e=t.length,s=new Uint8ClampedArray(e>>2);let a=-1/0,l=1/0;for(let h=0,d=s.length;h<d;h++){if(t[(h<<2)+3]===0){a=s[h]=255;continue}const g=s[h]=t[h<<2];g>a&&(a=g),g<l&&(l=g)}const u=255/(a-l);for(let h=0;h<e;h++)s[h]=(s[h]-l)*u;return s}static#u(t){let e,s=-1/0,a=-1/0;const l=t.findIndex(d=>d!==0);let u=l,h=l;for(e=l;e<256;e++){const d=t[e];d>s&&(e-u>a&&(a=e-u,h=e-1),s=d,u=e)}for(e=h-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:s,height:a}=t,{maxDim:l}=this.#t;let u=s,h=a;if(s>l||a>l){let v=s,b=a,S=Math.log2(Math.max(s,a)/l);const w=Math.floor(S);S=S===w?w-1:w;for(let E=0;E<S;E++){u=Math.ceil(v/2),h=Math.ceil(b/2);const L=new OffscreenCanvas(u,h);L.getContext("2d").drawImage(t,0,0,v,b,0,0,u,h),v=u,b=h,t!==e&&t.close(),t=L.transferToImageBitmap()}const C=Math.min(l/u,l/h);u=Math.round(u*C),h=Math.round(h*C)}const p=new OffscreenCanvas(u,h).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,u,h);const g=p.getImageData(0,0,u,h).data;return[this.#d(g),u,h]}static extractContoursFromText(t,{fontFamily:e,fontStyle:s,fontWeight:a},l,u,h,d){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const y=200,v=g.font=`${s} ${a} ${y}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:S,actualBoundingBoxAscent:w,actualBoundingBoxDescent:C,fontBoundingBoxAscent:E,fontBoundingBoxDescent:L,width:T}=g.measureText(t),D=1.5,R=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||0,T)*D),j=Math.ceil(Math.max(Math.abs(w)+Math.abs(C)||y,Math.abs(E)+Math.abs(L)||y)*D);p=new OffscreenCanvas(R,j),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,R,j),g.fillStyle="black",g.fillText(t,R*(D-1)/2,j*(3-D)/2);const k=this.#d(g.getImageData(0,0,R,j).data),X=this.#c(k),Y=this.#u(X),it=this.#s(k,R,j,Y);return this.processDrawnLines({lines:{curves:it,width:R,height:j},pageWidth:l,pageHeight:u,rotation:h,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,s,a,l){const[u,h,d]=this.#f(t),[p,g]=this.#h(u,h,d,Math.hypot(h,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),y=this.#u(g),v=this.#s(p,h,d,y);return this.processDrawnLines({lines:{curves:v,width:h,height:d},pageWidth:e,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:u,areContours:h}){a%180!==0&&([e,s]=[s,e]);const{curves:d,width:p,height:g}=t,y=t.thickness??0,v=[],b=Math.min(e/p,s/g),S=b/e,w=b/s,C=[];for(const{points:L}of d){const T=u?this.#o(L):L;if(!T)continue;C.push(T);const D=T.length,R=new Float32Array(D),j=new Float32Array(3*(D===2?2:D-2));if(v.push({line:j,points:R}),D===2){R[0]=T[0]*S,R[1]=T[1]*w,j.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[k,X,Y,it]=T;k*=S,X*=w,Y*=S,it*=w,R.set([k,X,Y,it],0),j.set([NaN,NaN,NaN,NaN,k,X],0);for(let nt=4;nt<D;nt+=2){const Q=R[nt]=T[nt]*S,et=R[nt+1]=T[nt+1]*w;j.set(ut.createBezierPoints(k,X,Y,it,Q,et),(nt-2)*3),[k,X,Y,it]=[Y,it,Q,et]}}if(v.length===0)return null;const E=h?new Fd:new Ao;return E.build(v,e,s,1,a,h?0:y,l),{outline:E,newCurves:C,areContours:h,thickness:y,width:p,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:s,width:a,height:l}){let u=1/0,h=-1/0,d=0;for(const T of t){d+=T.length;for(let D=2,R=T.length;D<R;D++){const j=T[D]-T[D-2];u=Math.min(u,j),h=Math.max(h,j)}}let p;u>=-128&&h<=127?p=Int8Array:u>=-32768&&h<=32767?p=Int16Array:p=Int32Array;const g=t.length,y=$l+Vr*g,v=new Uint32Array(y);let b=0;v[b++]=y*Uint32Array.BYTES_PER_ELEMENT+(d-2*g)*p.BYTES_PER_ELEMENT,v[b++]=0,v[b++]=a,v[b++]=l,v[b++]=e?0:1,v[b++]=Math.max(0,Math.floor(s??0)),v[b++]=g,v[b++]=p.BYTES_PER_ELEMENT;for(const T of t)v[b++]=T.length-2,v[b++]=T[0],v[b++]=T[1];const S=new CompressionStream("deflate-raw"),w=S.writable.getWriter();await w.ready,w.write(v);const C=p.prototype.constructor;for(const T of t){const D=new C(T.length-2);for(let R=2,j=T.length;R<j;R++)D[R-2]=T[R]-T[R-2];w.write(D)}w.close();const E=await new Response(S.readable).arrayBuffer(),L=new Uint8Array(E);return Mv(L)}static async decompressSignature(t){try{const e=r_(t),{readable:s,writable:a}=new DecompressionStream("deflate-raw"),l=a.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let u=null,h=0;for await(const T of s)u||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),u.set(T,h),h+=T.length;const d=new Uint32Array(u.buffer,0,u.length>>2),p=d[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=d[2],y=d[3],v=d[4]===0,b=d[5],S=d[6],w=d[7],C=[],E=($l+Vr*S)*Uint32Array.BYTES_PER_ELEMENT;let L;switch(w){case Int8Array.BYTES_PER_ELEMENT:L=new Int8Array(u.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:L=new Int16Array(u.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:L=new Int32Array(u.buffer,E);break}h=0;for(let T=0;T<S;T++){const D=d[Vr*T+$l],R=new Float32Array(D+2);C.push(R);for(let j=0;j<Vr-1;j++)R[j]=d[Vr*T+$l+j+1];for(let j=0;j<D;j++)R[j+2]=R[j]+L[h++]}return{areContours:v,thickness:b,outlines:C,width:g,height:y}}catch(e){return wt(`decompressSignature: ${e}`),null}}}class Ef extends ob{constructor(){super(),super.updateProperties({fill:gt._defaultLineColor,"stroke-width":0})}clone(){const t=new Ef;return t.updateAll(this),t}}class _f extends Rc{constructor(t){super(t),super.updateProperties({stroke:gt._defaultLineColor,"stroke-width":1})}clone(){const t=new _f(this._viewParameters);return t.updateAll(this),t}}class Yn extends vt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=St.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){gt.initialize(t,e),this._defaultDrawingOptions=new Ef,this._defaultDrawnSignatureOptions=new _f(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ot(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:l,areContours:u,description:h,uuid:d,heightInPage:p}=this.#n,{rawDims:{pageWidth:g,pageHeight:y},rotation:v}=this.parent.viewport,b=As.processDrawnLines({lines:a,pageWidth:g,pageHeight:y,rotation:v,innerMargin:Yn._INNER_MARGIN,mustSmooth:l,areContours:u});this.addSignature(b,p,h,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:s,width:a,height:l}=this.#n,u=Math.max(a,l),h=As.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:s,width:a,height:l},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:h.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,s,a){const{x:l,y:u}=this,{outline:h}=this.#n=t;this.#t=h instanceof Fd,this.#e=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let d;this.#t?d=Yn.getDefaultDrawingOptions():(d=Yn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:d});const[p,g]=this.parentDimensions,[,y]=this.pageDimensions;let v=e/y;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(p*this.width,g*this.height),this.x=l,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return As.process(t,e,s,a,Yn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:s,pageHeight:a},rotation:l}=this.parent.viewport;return As.extractContoursFromText(t,e,s,a,l,Yn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return As.processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:Yn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Yn.getDefaultDrawingOptions():(this._drawingOptions=Yn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,u={annotationType:St.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:l,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.paths={lines:e,points:s},u.uuid=this.#i,u.isCopy=!0):u.lines=e,this.#e&&(u.accessibilityData={type:"Figure",alt:this.#e}),u}static deserializeDraw(t,e,s,a,l,u){return u.areContours?Fd.deserialize(t,e,s,a,l,u):Ao.deserialize(t,e,s,a,l,u)}static async deserialize(t,e,s){const a=await super.deserialize(t,e,s);return a.#t=t.areContours,a.#e=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class DC extends gt{#t=null;#e=null;#n=null;#i=null;#a=null;#s="";#l=null;#o=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=St.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){gt.initialize(t,e)}static isHandlingMimeForPasting(t){return dc.includes(t)}static paste(t,e){e.pasteEditor({mode:St.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:u}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:l,height:u,channels:a.length/(l*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#r(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#u(s,!0)).finally(()=>this.#f());return}if(this.#i){const s=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(a=>this.#u(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=dc.join(",");const e=this._uiManager._signal;this.#n=new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}s()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#l?.remove(),this.#l=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#r();return}super.rebuild(),this.div!==null&&(this.#e&&this.#l===null&&this.#r(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#a||this.#e||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#t?this.#p():this.#r()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#e=s,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:s}=this.#t;const[a,l]=this.pageDimensions,u=.75;if(this.width)e=this.width*a,s=this.height*l;else if(e>u*a||s>u*l){const g=Math.min(u*a/e,u*l/s);e*=g,s*=g}const[h,d]=this.parentDimensions;this.setDims(e*h/a,s*d/l),this._uiManager.enableWaiting(!1);const p=this.#l=document.createElement("canvas");p.setAttribute("role","img"),this.addContainer(p),this.width=e/a,this.height=s/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s)}copyCanvas(t,e,s=!1){t||(t=224);const{width:a,height:l}=this.#t,u=new zn;let h=this.#t,d=a,p=l,g=null;if(e){if(a>e||l>e){const j=Math.min(e/a,e/l);d=Math.floor(a*j),p=Math.floor(l*j)}g=document.createElement("canvas");const v=g.width=Math.ceil(d*u.sx),b=g.height=Math.ceil(p*u.sy);this.#c||(h=this.#m(v,b));const S=g.getContext("2d");S.filter=this._uiManager.hcmFilter;let w="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",C="#42414d");const E=15,L=E*u.sx,T=E*u.sy,D=new OffscreenCanvas(L*2,T*2),R=D.getContext("2d");R.fillStyle=w,R.fillRect(0,0,L*2,T*2),R.fillStyle=C,R.fillRect(0,0,L,T),R.fillRect(L,T,L,T),S.fillStyle=S.createPattern(D,"repeat"),S.fillRect(0,0,v,b),S.drawImage(h,0,0,h.width,h.height,0,0,v,b)}let y=null;if(s){let v,b;if(u.symmetric&&h.width<t&&h.height<t)v=h.width,b=h.height;else if(h=this.#t,a>t||l>t){const C=Math.min(t/a,t/l);v=Math.floor(a*C),b=Math.floor(l*C),this.#c||(h=this.#m(v,b))}const w=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});w.drawImage(h,0,0,h.width,h.height,0,0,v,b),y={width:v,height:b,data:w.getImageData(0,0,v,b).data}}return{canvas:g,width:d,height:p,imageData:y}}#m(t,e){const{width:s,height:a}=this.#t;let l=s,u=a,h=this.#t;for(;l>2*t||u>2*e;){const d=l,p=u;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(l,u);g.getContext("2d").drawImage(h,0,0,d,p,0,0,l,u),h=g.transferToImageBitmap()}return h}#g(){const[t,e]=this.parentDimensions,{width:s,height:a}=this,l=new zn,u=Math.ceil(s*t*l.sx),h=Math.ceil(a*e*l.sy),d=this.#l;if(!d||d.width===u&&d.height===h)return;d.width=u,d.height=h;const p=this.#c?this.#t:this.#m(u,h),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,u,h)}#y(t){if(t){if(this.#c){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,s]=this.pageDimensions,a=Math.round(this.width*e*Ts.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Ts.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(a,l);return u.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,l),u.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,s){let a=null,l=!1;if(t instanceof sb){const{data:{rect:w,rotation:C,id:E,structParent:L,popupRef:T},container:D,parent:{page:{pageNumber:R}},canvas:j}=t;let k,X;j?(delete t.canvas,{id:k,bitmap:X}=s.imageManager.getFromCanvas(D.id,j),j.remove()):(l=!0,t._hasNoCanvas=!0);const Y=(await e._structTree.getAriaAttributes(`${lf}${E}`))?.get("aria-label")||"";a=t={annotationType:St.STAMP,bitmapId:k,bitmap:X,pageIndex:R-1,rect:w.slice(0),rotation:C,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:Y},isSvg:!1,structParent:L,popupRef:T}}const u=await super.deserialize(t,e,s),{rect:h,bitmap:d,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:v}=t;l?(s.addMissingCanvas(t.id,u),u.#o=!0):g&&s.imageManager.isValidId(g)?(u.#e=g,d&&(u.#t=d)):u.#i=p,u.#c=y;const[b,S]=u.pageDimensions;return u.width=(h[2]-h[0])/b,u.height=(h[3]-h[1])/S,u.annotationElementId=t.id||null,v&&(u.altTextData=v),u._initialData=a,u.#d=!!a,u}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:St.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=this.#v(s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,e===null)return s;e.stamps||=new Map;const u=this.#c?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:u,serialized:s}),s.bitmap=this.#y(!1);else if(this.#c){const h=e.stamps.get(this.#e);u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=this.#y(!1))}return s}#v(t){const{pageIndex:e,accessibilityData:{altText:s}}=this._initialData,a=t.pageIndex===e,l=(t.accessibilityData?.alt||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&l,isSameAltText:l}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Kn{#t;#e=!1;#n=null;#i=null;#a=null;#s=new Map;#l=!1;#o=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#r;static _initialized=!1;static#p=new Map([xe,xf,DC,de,Yn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:a,accessibilityManager:l,annotationLayer:u,drawLayer:h,textLayer:d,viewport:p,l10n:g}){const y=[...Kn.#p.values()];if(!Kn._initialized){Kn._initialized=!0;for(const v of y)v.initialize(g,t)}t.registerEditorTypes(y),this.#r=t,this.pageIndex=e,this.div=s,this.#t=l,this.#n=u,this.viewport=p,this.#u=d,this.drawLayer=h,this._structTree=a,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===St.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#b(),t){case St.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case St.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case St.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of Kn.#p.values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}cleanUndoStack(t){this.#r.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of this.#s.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const s of e){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}this.#h=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of this.#s.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const l of a){const{id:u}=l.data;if(this.#r.isDeletedAnnotationElement(u))continue;let h=e.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(u),h&&(this.#r.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const a of Kn.#p.values())s.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#r.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#r.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:s}=Oe.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),de.startHighlighting(this,this.#r.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#r.isDeletedAnnotationElement(e)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),gt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#g(){return Kn.#p.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#y(t){const e=this.#g;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#r.updateMode(t.mode);const{offsetX:s,offsetY:a}=this.#v(),l=this.getNextId(),u=this.#y({parent:this,id:l,x:s,y:a,uiManager:this.#r,isCentered:!0,...e});u&&this.add(u)}async deserialize(t){return await Kn.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,e,s={}){const a=this.getNextId(),l=this.#y({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:e,...s});return l&&this.add(l),l}#v(){const{x:t,y:e,width:s,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,e),h=Math.min(window.innerWidth,t+s),d=Math.min(window.innerHeight,e+a),p=(l+h)/2-t,g=(u+d)/2-e,[y,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#v(),!0,t)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:e}=Oe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#l||(this.#l=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const s=this.#r.getMode();if(s===St.STAMP||s===St.SIGNATURE){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#r.getMode()===St.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:e}=Oe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const s=this.#r.getActive();this.#e=!s||s.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#r,!1,t);return}this.#r.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#r.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#g.startDrawing(this,this.#r,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#r.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#g.endDrawing(t)):null}findNewParent(t,e,s){const a=this.#r.findParent(e,s);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#b(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ji(this.div,t);for(const e of this.#r.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#b();const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Ji(this.div,{rotation:s}),e!==s)for(const a of this.#s.values())a.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#r.viewParameters.realScale}}class Le{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ot(this,"_svgFactory",new ro)}static#a(t,[e,s,a,l]){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*a}%`,u.height=`${100*l}%`}#s(){const t=Le._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){const s=Le._svgFactory.createElement("clipPath");t.append(s);const a=`clip_${e}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const l=Le._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a}#o(t,e){for(const[s,a]of Object.entries(e))a===null?t.removeAttribute(s):t.setAttribute(s,a)}draw(t,e=!1,s=!1){const a=Le.#i++,l=this.#s(),u=Le._svgFactory.createElement("defs");l.append(u);const h=Le._svgFactory.createElement("path");u.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(a,h);const p=s?this.#l(u,d):null,g=Le._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${d}`),this.updateProperties(l,t),this.#e.set(a,l),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const s=Le.#i++,a=this.#s(),l=Le._svgFactory.createElement("defs");a.append(l);const u=Le._svgFactory.createElement("path");l.append(u);const h=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const y=Le._svgFactory.createElement("mask");l.append(y),d=`mask_p${this.pageIndex}_${s}`,y.setAttribute("id",d),y.setAttribute("maskUnits","objectBoundingBox");const v=Le._svgFactory.createElement("rect");y.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=Le._svgFactory.createElement("use");y.append(b),b.setAttribute("href",`#${h}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const p=Le._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${h}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return a.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(s,a),s}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:s,bbox:a,rootClass:l,path:u}=e,h=typeof t=="number"?this.#e.get(t):t;if(h){if(s&&this.#o(h,s),a&&Le.#a(h,a),l){const{classList:d}=h;for(const[p,g]of Object.entries(l))d.toggle(p,g)}if(u){const p=h.firstChild.firstChild;this.#o(p,u)}}}updateParent(t,e){if(e===this)return;const s=this.#e.get(t);s&&(e.#t.append(s),this.#e.delete(t),e.#e.set(t,s))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:jd};globalThis.pdfjsLib={AbortException:xi,AnnotationEditorLayer:Kn,AnnotationEditorParamsType:kt,AnnotationEditorType:St,AnnotationEditorUIManager:Ei,AnnotationLayer:wf,AnnotationMode:Qn,AnnotationType:he,build:Zv,ColorPicker:pn,createValidAbsoluteUrl:af,DOMSVGFactory:ro,DrawLayer:Le,FeatureTest:Oe,fetchData:Ba,getDocument:yf,getFilenameFromUrl:Lv,getPdfFilenameFromUrl:Dv,getUuid:of,getXfaPageViewport:Ov,GlobalWorkerOptions:Zi,ImageKind:Zr,InvalidPDFException:hc,isDataScheme:go,isPdfFile:Cc,isValidExplicitDest:zv,MathClamp:He,noContextMenu:Mn,normalizeUnicode:Rv,OPS:no,OutputScale:zn,PasswordResponses:Cv,PDFDataRangeTransport:bf,PDFDateString:cf,PDFWorker:za,PermissionFlag:_v,PixelsPerInch:Ts,RenderingCancelledException:_c,ResponseException:io,setLayerDimensions:Ji,shadow:Ot,SignatureExtractor:As,stopEvent:fe,SupportedImageMimeTypes:dc,TextLayer:so,TouchManager:yo,updateUrlHash:rf,Util:pt,VerbosityLevel:ho,version:Qv,XfaLayer:Af};const OC=Object.freeze(Object.defineProperty({__proto__:null,AbortException:xi,AnnotationEditorLayer:Kn,AnnotationEditorParamsType:kt,AnnotationEditorType:St,AnnotationEditorUIManager:Ei,AnnotationLayer:wf,AnnotationMode:Qn,AnnotationType:he,ColorPicker:pn,DOMSVGFactory:ro,DrawLayer:Le,FeatureTest:Oe,GlobalWorkerOptions:Zi,ImageKind:Zr,InvalidPDFException:hc,MathClamp:He,OPS:no,OutputScale:zn,PDFDataRangeTransport:bf,PDFDateString:cf,PDFWorker:za,PasswordResponses:Cv,PermissionFlag:_v,PixelsPerInch:Ts,RenderingCancelledException:_c,ResponseException:io,SignatureExtractor:As,SupportedImageMimeTypes:dc,TextLayer:so,TouchManager:yo,Util:pt,VerbosityLevel:ho,XfaLayer:Af,build:Zv,createValidAbsoluteUrl:af,fetchData:Ba,getDocument:yf,getFilenameFromUrl:Lv,getPdfFilenameFromUrl:Dv,getUuid:of,getXfaPageViewport:Ov,isDataScheme:go,isPdfFile:Cc,isValidExplicitDest:zv,noContextMenu:Mn,normalizeUnicode:Rv,setLayerDimensions:Ji,shadow:Ot,stopEvent:fe,updateUrlHash:rf,version:Qv},Symbol.toStringTag,{value:"Module"})),NC=["onCopy","onCut","onPaste"],kC=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],PC=["onFocus","onBlur"],zC=["onInput","onInvalid","onReset","onSubmit"],jC=["onLoad","onError"],IC=["onKeyDown","onKeyPress","onKeyUp"],FC=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],BC=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],HC=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],UC=["onSelect"],GC=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],qC=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],VC=["onScroll"],$C=["onWheel"],YC=["onAnimationStart","onAnimationEnd","onAnimationIteration"],XC=["onTransitionEnd"],KC=["onToggle"],WC=["onChange"],QC=[...NC,...kC,...PC,...zC,...jC,...IC,...FC,...BC,...HC,...UC,...GC,...qC,...VC,...$C,...YC,...XC,...WC,...KC];function lb(o,t){const e={};for(const s of QC){const a=o[s];a&&(t?e[s]=l=>a(l,t(s)):e[s]=a)}return e}function So(o){let t=!1;return{promise:new Promise((s,a)=>{o.then(l=>!t&&s(l)).catch(l=>!t&&a(l))}),cancel(){t=!0}}}function cb(o){var t,e,s="";if(typeof o=="string"||typeof o=="number")s+=o;else if(typeof o=="object")if(Array.isArray(o)){var a=o.length;for(t=0;t<a;t++)o[t]&&(e=cb(o[t]))&&(s&&(s+=" "),s+=e)}else for(e in o)o[e]&&(s&&(s+=" "),s+=e);return s}function Mc(){for(var o,t,e=0,s="",a=arguments.length;e<a;e++)(o=arguments[e])&&(t=cb(o))&&(s&&(s+=" "),s+=t);return s}var ZC="Invariant failed";function Zt(o,t){if(!o)throw new Error(ZC)}var Ad,wy;function JC(){if(wy)return Ad;wy=1;var o=function(){};return Ad=o,Ad}var tT=JC();const Ue=Ud(tT);var xy=Object.prototype.hasOwnProperty;function Ey(o,t,e){for(e of o.keys())if(Ta(e,t))return e}function Ta(o,t){var e,s,a;if(o===t)return!0;if(o&&t&&(e=o.constructor)===t.constructor){if(e===Date)return o.getTime()===t.getTime();if(e===RegExp)return o.toString()===t.toString();if(e===Array){if((s=o.length)===t.length)for(;s--&&Ta(o[s],t[s]););return s===-1}if(e===Set){if(o.size!==t.size)return!1;for(s of o)if(a=s,a&&typeof a=="object"&&(a=Ey(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(o.size!==t.size)return!1;for(s of o)if(a=s[0],a&&typeof a=="object"&&(a=Ey(t,a),!a)||!Ta(s[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)o=new Uint8Array(o),t=new Uint8Array(t);else if(e===DataView){if((s=o.byteLength)===t.byteLength)for(;s--&&o.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(o)){if((s=o.byteLength)===t.byteLength)for(;s--&&o[s]===t[s];);return s===-1}if(!e||typeof o=="object"){s=0;for(e in o)if(xy.call(o,e)&&++s&&!xy.call(t,e)||!(e in t)||!Ta(o[e],t[e]))return!1;return Object.keys(t).length===s}}return o!==o&&t!==t}const ub=P.createContext(null);function Ra({children:o,type:t}){return N.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:o})}const eT="noopener noreferrer nofollow";class nT{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Zt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Zt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Zt(this.pdfDocument),Zt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Zt(Array.isArray(e));const s=e[0];new Promise(a=>{Zt(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{a(l)}).catch(()=>{Zt(!1)}):typeof s=="number"?a(s):Zt(!1)}).then(a=>{const l=a+1;Zt(this.pdfViewer),Zt(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Zt(this.pdfViewer),Zt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||eT,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const _y={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Lc=typeof window<"u",hb=Lc&&window.location.protocol==="file:";function iT(o){return typeof o<"u"}function bs(o){return iT(o)&&o!==null}function sT(o){return typeof o=="string"}function aT(o){return o instanceof ArrayBuffer}function rT(o){return Zt(Lc),o instanceof Blob}function Bd(o){return sT(o)&&/^data:/.test(o)}function Cy(o){Zt(Bd(o));const[t="",e=""]=o.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function oT(){return Lc&&window.devicePixelRatio||1}const db="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ty(){Ue(!hb,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${db}`)}function lT(){Ue(!hb,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${db}`)}function Ms(o){o?.cancel&&o.cancel()}function Hd(o,t){return Object.defineProperty(o,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(o,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(o,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(o,"originalHeight",{get(){return this.view[3]},configurable:!0}),o}function cT(o){return o.name==="RenderingCancelledException"}function uT(o){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:l}=a.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(o)})}function hT(o,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return o}}function ja(){return P.useReducer(hT,{value:void 0,error:void 0})}var Ry=function(o,t){var e={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(o);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(o,s[a])&&(e[s[a]]=o[s[a]]);return e};const{PDFDataRangeTransport:dT}=OC,fT=(o,t)=>{switch(t){case _y.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");o(e);break}case _y.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");o(e);break}}};function My(o){return typeof o=="object"&&o!==null&&("data"in o||"range"in o||"url"in o)}const pT=P.forwardRef(function(t,e){var{children:s,className:a,error:l="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:h,file:d,inputRef:p,imageResourcesPath:g,loading:y="Loading PDF…",noData:v="No PDF file specified.",onItemClick:b,onLoadError:S,onLoadProgress:w,onLoadSuccess:C,onPassword:E=fT,onSourceError:L,onSourceSuccess:T,options:D,renderMode:R,rotate:j,scale:k}=t,X=Ry(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[Y,it]=ja(),{value:nt,error:Q}=Y,[et,rt]=ja(),{value:st,error:O}=et,B=P.useRef(new nT),at=P.useRef([]),Z=P.useRef(void 0),_=P.useRef(void 0);d&&d!==Z.current&&My(d)&&(Ue(!Ta(d,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=d),D&&D!==_.current&&(Ue(!Ta(D,_.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_.current=D);const U=P.useRef({scrollPageIntoView:Tt=>{const{dest:xt,pageNumber:Nt,pageIndex:jt=Nt-1}=Tt;if(b){b({dest:xt,pageIndex:jt,pageNumber:Nt});return}const $t=at.current[jt];if($t){$t.scrollIntoView();return}Ue(!1,`An internal link leading to page ${Nt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(e,()=>({linkService:B,pages:at,viewer:U}),[]);function G(){T&&T()}function $(){Q&&(Ue(!1,Q.toString()),L&&L(Q))}function tt(){it({type:"RESET"})}P.useEffect(tt,[d,it]);const lt=P.useCallback(async()=>{if(!d)return null;if(typeof d=="string")return Bd(d)?{data:Cy(d)}:(Ty(),{url:d});if(d instanceof dT)return{range:d};if(aT(d))return{data:d};if(Lc&&rT(d))return{data:await uT(d)};if(Zt(typeof d=="object"),Zt(My(d)),"url"in d&&typeof d.url=="string"){if(Bd(d.url)){const{url:Tt}=d,xt=Ry(d,["url"]),Nt=Cy(Tt);return Object.assign({data:Nt},xt)}Ty()}return d},[d]);P.useEffect(()=>{const Tt=So(lt());return Tt.promise.then(xt=>{it({type:"RESOLVE",value:xt})}).catch(xt=>{it({type:"REJECT",error:xt})}),()=>{Ms(Tt)}},[lt,it]),P.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){$();return}G()}},[nt]);function ot(){st&&(C&&C(st),at.current=new Array(st.numPages),B.current.setDocument(st))}function dt(){O&&(Ue(!1,O.toString()),S&&S(O))}P.useEffect(function(){rt({type:"RESET"})},[rt,nt]),P.useEffect(function(){if(!nt)return;const xt=D?Object.assign(Object.assign({},nt),D):nt,Nt=yf(xt);w&&(Nt.onProgress=w),E&&(Nt.onPassword=E);const jt=Nt,$t=jt.promise.then(nn=>{rt({type:"RESOLVE",value:nn})}).catch(nn=>{jt.destroyed||rt({type:"REJECT",error:nn})});return()=>{$t.finally(()=>jt.destroy())}},[D,rt,nt]),P.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){dt();return}ot()}},[st]),P.useEffect(function(){B.current.setViewer(U.current),B.current.setExternalLinkRel(u),B.current.setExternalLinkTarget(h)},[u,h]);const bt=P.useCallback((Tt,xt)=>{at.current[Tt]=xt},[]),zt=P.useCallback(Tt=>{delete at.current[Tt]},[]),_t=P.useMemo(()=>({imageResourcesPath:g,linkService:B.current,onItemClick:b,pdf:st,registerPage:bt,renderMode:R,rotate:j,scale:k,unregisterPage:zt}),[g,b,st,bt,R,j,k,zt]),It=P.useMemo(()=>lb(X,()=>st),[X,st]);function Bt(){return N.jsx(ub.Provider,{value:_t,children:s})}function Vt(){return d?st==null?N.jsx(Ra,{type:"loading",children:typeof y=="function"?y():y}):st===!1?N.jsx(Ra,{type:"error",children:typeof l=="function"?l():l}):Bt():N.jsx(Ra,{type:"no-data",children:typeof v=="function"?v():v})}return N.jsx("div",Object.assign({className:Mc("react-pdf__Document",a),ref:p},It,{children:Vt()}))});function fb(){return P.useContext(ub)}function pb(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var e=o.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(l){for(var u=0,h=e;u<h.length;u++){var d=h[u];typeof d=="function"?d(l):d&&(d.current=l)}}}const gb=P.createContext(null),mb={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},gT=/^H(\d+)$/;function mT(o){return o in mb}function Dc(o){return"children"in o}function yb(o){return Dc(o)?o.children.length===1&&0 in o.children&&"id"in o.children[0]:!1}function yT(o){const t={};if(Dc(o)){const{role:e}=o,s=e.match(gT);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(mT(e)){const a=mb[e];a&&(t.role=a)}}return t}function vb(o){const t={};if(Dc(o)){if(o.alt!==void 0&&(t["aria-label"]=o.alt),o.lang!==void 0&&(t.lang=o.lang),yb(o)){const[e]=o.children;if(e){const s=vb(e);return Object.assign(Object.assign({},t),s)}}}else"id"in o&&(t["aria-owns"]=o.id);return t}function vT(o){return o?Object.assign(Object.assign({},yT(o)),vb(o)):null}function bb({className:o,node:t}){const e=P.useMemo(()=>vT(t),[t]),s=P.useMemo(()=>!Dc(t)||yb(t)?null:t.children.map((a,l)=>N.jsx(bb,{node:a},l)),[t]);return N.jsx("span",Object.assign({className:o},e,{children:s}))}function Oc(){return P.useContext(gb)}function bT(){const o=Oc();Zt(o);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=o,[s,a]=ja(),{value:l,error:u}=s,{customTextRenderer:h,page:d}=o;function p(){l&&e&&e(l)}function g(){u&&(Ue(!1,u.toString()),t&&t(u))}return P.useEffect(function(){a({type:"RESET"})},[a,d]),P.useEffect(function(){if(h||!d)return;const v=So(d.getStructTree()),b=v;return v.promise.then(S=>{a({type:"RESOLVE",value:S})}).catch(S=>{a({type:"REJECT",error:S})}),()=>Ms(b)},[h,d,a]),P.useEffect(()=>{if(l!==void 0){if(l===!1){g();return}p()}},[l]),l?N.jsx(bb,{className:"react-pdf__Page__structTree structTree",node:l}):null}const Ly=Qn;function AT(o){const t=Oc();Zt(t);const e=Object.assign(Object.assign({},t),o),{_className:s,canvasBackground:a,devicePixelRatio:l=oT(),onRenderError:u,onRenderSuccess:h,page:d,renderForms:p,renderTextLayer:g,rotate:y,scale:v}=e,{canvasRef:b}=o;Zt(d);const S=P.useRef(null);function w(){d&&h&&h(Hd(d,v))}function C(D){cT(D)||(Ue(!1,D.toString()),u&&u(D))}const E=P.useMemo(()=>d.getViewport({scale:v*l,rotation:y}),[l,d,y,v]),L=P.useMemo(()=>d.getViewport({scale:v,rotation:y}),[d,y,v]);P.useEffect(function(){if(!d)return;d.cleanup();const{current:R}=S;if(!R)return;R.width=E.width,R.height=E.height,R.style.width=`${Math.floor(L.width)}px`,R.style.height=`${Math.floor(L.height)}px`,R.style.visibility="hidden";const j={annotationMode:p?Ly.ENABLE_FORMS:Ly.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:E};a&&(j.background=a);const k=d.render(j),X=k;return k.promise.then(()=>{R.style.visibility="",w()}).catch(C),()=>Ms(X)},[a,d,p,E,L]);const T=P.useCallback(()=>{const{current:D}=S;D&&(D.width=0,D.height=0)},[]);return P.useEffect(()=>T,[T]),N.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:pb(b,S),style:{display:"block",userSelect:"none"},children:g?N.jsx(bT,{}):null})}function ST(o){return"str"in o}function wT(){const o=Oc();Zt(o);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:a,onRenderTextLayerSuccess:l,page:u,pageIndex:h,pageNumber:d,rotate:p,scale:g}=o;Zt(u);const[y,v]=ja(),{value:b,error:S}=y,w=P.useRef(null);Ue(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){b&&s&&s(b)}function E(){S&&(Ue(!1,S.toString()),e&&e(S))}P.useEffect(function(){v({type:"RESET"})},[u,v]),P.useEffect(function(){if(!u)return;const X=So(u.getTextContent()),Y=X;return X.promise.then(it=>{v({type:"RESOLVE",value:it})}).catch(it=>{v({type:"REJECT",error:it})}),()=>Ms(Y)},[u,v]),P.useEffect(()=>{if(b!==void 0){if(b===!1){E();return}C()}},[b]);const L=P.useCallback(()=>{l&&l()},[l]),T=P.useCallback(k=>{Ue(!1,k.toString()),a&&a(k)},[a]);function D(){const k=w.current;k&&k.classList.add("selecting")}function R(){const k=w.current;k&&k.classList.remove("selecting")}const j=P.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);return P.useLayoutEffect(function(){if(!u||!b)return;const{current:X}=w;if(!X)return;X.innerHTML="";const Y=u.streamTextContent({includeMarkedContent:!0}),it={container:X,textContentSource:Y,viewport:j},nt=new so(it),Q=nt;return nt.render().then(()=>{const et=document.createElement("div");et.className="endOfContent",X.append(et);const rt=X.querySelectorAll('[role="presentation"]');if(t){let st=0;b.items.forEach((O,B)=>{if(!ST(O))return;const at=rt[st];if(!at)return;const Z=t(Object.assign({pageIndex:h,pageNumber:d,itemIndex:B},O));at.innerHTML=Z,st+=O.str&&O.hasEOL?2:1})}L()}).catch(T),()=>Ms(Q)},[t,T,L,u,h,d,b,j]),N.jsx("div",{className:Mc("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:D,ref:w})}function xT(){const o=fb(),t=Oc();Zt(t);const e=Object.assign(Object.assign({},o),t),{imageResourcesPath:s,linkService:a,onGetAnnotationsError:l,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:p,pdf:g,renderForms:y,rotate:v,scale:b=1}=e;Zt(g),Zt(p),Zt(a);const[S,w]=ja(),{value:C,error:E}=S,L=P.useRef(null);Ue(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function T(){C&&u&&u(C)}function D(){E&&(Ue(!1,E.toString()),l&&l(E))}P.useEffect(function(){w({type:"RESET"})},[w,p]),P.useEffect(function(){if(!p)return;const Y=So(p.getAnnotations()),it=Y;return Y.promise.then(nt=>{w({type:"RESOLVE",value:nt})}).catch(nt=>{w({type:"REJECT",error:nt})}),()=>{Ms(it)}},[w,p]),P.useEffect(()=>{if(C!==void 0){if(C===!1){D();return}T()}},[C]);function R(){d&&d()}function j(X){Ue(!1,`${X}`),h&&h(X)}const k=P.useMemo(()=>p.getViewport({scale:b,rotation:v}),[p,v,b]);return P.useEffect(function(){if(!g||!p||!a||!C)return;const{current:Y}=L;if(!Y)return;const it=k.clone({dontFlip:!0}),nt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Y,l10n:null,page:p,structTreeLayer:null,viewport:it},Q={annotations:C,annotationStorage:g.annotationStorage,div:Y,imageResourcesPath:s,linkService:a,page:p,renderForms:y,viewport:it};Y.innerHTML="";try{new wf(nt).render(Q),R()}catch(et){j(et)}return()=>{}},[C,s,a,p,g,y,k]),N.jsx("div",{className:Mc("react-pdf__Page__annotations","annotationLayer"),ref:L})}var ET=function(o,t){var e={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(o);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(o,s[a])&&(e[s[a]]=o[s[a]]);return e};const Dy=1;function Sd(o){const t=fb(),e=Object.assign(Object.assign({},t),o),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:l,canvasRef:u,children:h,className:d,customRenderer:p,customTextRenderer:g,devicePixelRatio:y,error:v="Failed to load the page.",height:b,inputRef:S,loading:w="Loading page…",noData:C="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:L,onGetStructTreeError:T,onGetStructTreeSuccess:D,onGetTextError:R,onGetTextSuccess:j,onLoadError:k,onLoadSuccess:X,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:it,onRenderError:nt,onRenderSuccess:Q,onRenderTextLayerError:et,onRenderTextLayerSuccess:rt,pageIndex:st,pageNumber:O,pdf:B,registerPage:at,renderAnnotationLayer:Z=!0,renderForms:_=!1,renderMode:U="canvas",renderTextLayer:G=!0,rotate:$,scale:tt=Dy,unregisterPage:lt,width:ot}=e,dt=ET(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[bt,zt]=ja(),{value:_t,error:It}=bt,Bt=P.useRef(null);Zt(B);const Vt=bs(O)?O-1:st??null,Tt=O??(bs(st)?st+1:null),xt=$??(_t?_t.rotate:null),Nt=P.useMemo(()=>{if(!_t)return null;let ge=1;const sn=tt??Dy;if(ot||b){const _e=_t.getViewport({scale:1,rotation:xt});ot?ge=ot/_e.width:b&&(ge=b/_e.height)}return sn*ge},[b,_t,xt,tt,ot]);P.useEffect(function(){return()=>{bs(Vt)&&a&&lt&&lt(Vt)}},[a,B,Vt,lt]);function jt(){if(X){if(!_t||!Nt)return;X(Hd(_t,Nt))}if(a&&at){if(!bs(Vt)||!Bt.current)return;at(Vt,Bt.current)}}function $t(){It&&(Ue(!1,It.toString()),k&&k(It))}P.useEffect(function(){zt({type:"RESET"})},[zt,B,Vt]),P.useEffect(function(){if(!B||!Tt)return;const sn=So(B.getPage(Tt)),_e=sn;return sn.promise.then(Ua=>{zt({type:"RESOLVE",value:Ua})}).catch(Ua=>{zt({type:"REJECT",error:Ua})}),()=>Ms(_e)},[zt,B,Tt]),P.useEffect(()=>{if(_t!==void 0){if(_t===!1){$t();return}jt()}},[_t,Nt]);const nn=P.useMemo(()=>_t&&bs(Vt)&&Tt&&bs(xt)&&bs(Nt)?{_className:s,canvasBackground:l,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:E,onGetAnnotationsSuccess:L,onGetStructTreeError:T,onGetStructTreeSuccess:D,onGetTextError:R,onGetTextSuccess:j,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:it,onRenderError:nt,onRenderSuccess:Q,onRenderTextLayerError:et,onRenderTextLayerSuccess:rt,page:_t,pageIndex:Vt,pageNumber:Tt,renderForms:_,renderTextLayer:G,rotate:xt,scale:Nt}:null,[s,l,g,y,E,L,T,D,R,j,Y,it,nt,Q,et,rt,_t,Vt,Tt,_,G,xt,Nt]),_i=P.useMemo(()=>lb(dt,()=>_t&&(Nt?Hd(_t,Nt):void 0)),[dt,_t,Nt]),Ee=`${Vt}@${Nt}/${xt}`;function mn(){switch(U){case"custom":return Zt(p),N.jsx(p,{},`${Ee}_custom`);case"none":return null;case"canvas":default:return N.jsx(AT,{canvasRef:u},`${Ee}_canvas`)}}function ti(){return G?N.jsx(wT,{},`${Ee}_text`):null}function Ha(){return Z?N.jsx(xT,{},`${Ee}_annotations`):null}function Nc(){return N.jsxs(gb.Provider,{value:nn,children:[mn(),ti(),Ha(),h]})}function ts(){return Tt?B===null||_t===void 0||_t===null?N.jsx(Ra,{type:"loading",children:typeof w=="function"?w():w}):B===!1||_t===!1?N.jsx(Ra,{type:"error",children:typeof v=="function"?v():v}):Nc():N.jsx(Ra,{type:"no-data",children:typeof C=="function"?C():C})}return N.jsx("div",Object.assign({className:Mc(s,d),"data-page-number":Tt,ref:pb(S,Bt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Nt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},_i,{children:ts()}))}lT();Zi.workerSrc="pdf.worker.mjs";const _T="/vitrine_criativa/assets/pdf.worker.min-BFAMBS4k.mjs";function CT({pdfFile:o,setShowModal:t}){Zi.workerSrc=_T;const[e,s]=P.useState(null),[a,l]=P.useState(1),[u,h]=P.useState(!1),[d,p]=P.useState("next"),[g,y]=P.useState(window.innerWidth<900);P.useEffect(()=>{const S=()=>{y(window.innerWidth<900)};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);function v({numPages:S}){s(S),l(1)}function b(S,w){p(w),h(!0),setTimeout(()=>{l(S),h(!1)},250)}return N.jsx(GE,{onClick:()=>t(!1),children:N.jsxs(qE,{onClick:S=>S.stopPropagation(),children:[N.jsx(VE,{onClick:()=>t(!1)}),o&&N.jsxs(N.Fragment,{children:[N.jsx($E,{children:N.jsx(pT,{file:o,onLoadSuccess:v,children:N.jsx(YE,{children:g?N.jsx(hd,{className:`right ${d==="next"&&u?"flip-right":""}`,children:N.jsx(Sd,{pageNumber:a})}):N.jsxs(N.Fragment,{children:[N.jsx(hd,{className:`left ${d==="prev"&&u?"flip-left":""}`,children:a>1&&N.jsx(Sd,{pageNumber:a-1})}),N.jsx(hd,{className:`right ${d==="next"&&u?"flip-right":""}`,children:N.jsx(Sd,{pageNumber:a})})]})})})}),N.jsxs(XE,{children:[N.jsx("button",{onClick:()=>b(Math.max(g?a-1:a-2,1),"prev"),disabled:a<=1||u,children:"Anterior"}),N.jsxs(KE,{children:["Página ",a," de ",e]}),N.jsx("button",{onClick:()=>b(Math.min(g?a+1:a+2,e),"next"),disabled:a>=e||u,children:"Próxima"})]})]})]})})}function TT(){const{id:o}=wS(),{state:t}=Jn(),[e,s]=P.useState(!1),a=`/vitrine_criativa/livros/${o}.pdf`;return N.jsxs(N.Fragment,{children:[e&&N.jsx(CT,{pdfFile:a,setShowModal:s}),N.jsxs(LE,{style:{textAlign:"center",padding:"20px"},children:[N.jsx("h2",{children:N.jsxs("span",{children:[t?.titulo," "]})}),N.jsxs(DE,{children:[N.jsxs(OE,{children:[N.jsx("img",{src:t?.img,alt:""}),N.jsxs("h2",{children:[N.jsx("span",{children:"Autor:"})," ",t?.autor]})]}),N.jsxs(NE,{children:[N.jsxs("p",{children:[N.jsx("span",{children:"Descrição : "}),t?.descricao]}),N.jsx("button",{onClick:()=>s(!0),children:"Abrir Livro"})]})]})]})]})}function RT(){const{pathname:o}=Jn();return P.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[o]),null}const MT=ct.header`
  position: fixed;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px 50px;
  background-color: ${({$changeBackground:o})=>o?"#000":"transparent"};
  box-shadow: ${({$changeBackground:o})=>o?"0 2px 10px rgba(0,0,0,0.1)":"none"};
  z-index: 99;

  .mobile-menu-btn {
    display: none;
    font-size: 2rem;
    background: none;
    border: none;
    cursor: pointer;
  }

  @media (max-width: 768px) {
    justify-content: flex-start;
    .mobile-menu-btn {
      display: block;
    }
  }
`,LT=ct.ul`
  display: flex;
  list-style: none;
  gap: 30px;

  @media (max-width: 768px) {
    position: fixed;
    top: 0;
    right: ${({$isMobileOpen:o})=>o?"0":"-100%"};
    height: 100vh;
    width: 150px;
    flex-direction: column;
    background-color: rgba(0,0,0,0.8);
    padding-top: 80px;
    padding-left: 25px;
    gap: 20px;
    transition: right 0.3s ease;
    box-shadow: -2px 0 10px rgba(0,0,0,0.1);
  }
`,ba=ct.li`
  font-weight: 600;
  cursor: pointer;
  font-size: 25px;
  position: relative;
  
  a {
    text-decoration: none;
    color: #fff;
    font-weight: ${({$isActive:o})=>o?"700":"400"};
    transition: color 0.3s;
  }
  &::after {
    content: '';
    height: 3px;
    width: ${o=>o.$isActive?"100%":"0"};
    background-color: #4d7cfe;
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    transition: width 0.4s ease-in-out;
  }
  &:hover::after {
    width: 100%;
  }

   @media (max-width: 768px) {
    font-size: 15px;
    font-weight: 400;
   }
`;function DT(){const[o,t]=P.useState(!1),[e,s]=P.useState(!1),{pathname:a}=Jn(),l=()=>{t(!o)};return window.onscroll=()=>{!e&&window.pageYOffset>80&&s(!0),e&&window.pageYOffset<=80&&s(!1)},N.jsxs(MT,{$changeBackground:e,children:[N.jsx("button",{className:"mobile-menu-btn",onClick:l,children:"☰"}),N.jsxs(LT,{$isMobileOpen:o,children:[N.jsx(ba,{$isActive:a==="/",onClick:()=>t(!1),children:N.jsx(bi,{to:"/",children:"Home"})}),N.jsx(ba,{$isActive:a.includes("/poesias"),onClick:()=>t(!1),children:N.jsx(bi,{to:"/poesias",children:"Poesias"})}),N.jsx(ba,{$isActive:a.includes("/livros"),onClick:()=>t(!1),children:N.jsx(bi,{to:"/livros",children:"Livros"})}),N.jsx(ba,{$isActive:a.includes("/desenhos"),onClick:()=>t(!1),children:N.jsx(bi,{to:"/desenhos",children:"Desenhos"})}),N.jsx(ba,{$isActive:a.includes("/games"),onClick:()=>t(!1),children:N.jsx(bi,{to:"/games",children:"Games"})}),N.jsx(ba,{$isActive:a.includes("/creditos"),onClick:()=>t(!1),children:N.jsx(bi,{to:"/creditos",children:"Créditos"})})]})]})}ct.div`
  min-height: 80px;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
  padding-right: 50px;
  background-color:#000;
  transition: background-color 0.5s ease-in-out;

  @media (max-width: 768px) {
    width: 100%;
    padding: 15px;
  }
`;function OT(){return N.jsxs(N.Fragment,{children:[N.jsx(DT,{}),N.jsx(zS,{})]})}function NT(){return N.jsxs(N.Fragment,{children:[N.jsx(yw,{}),N.jsx(RT,{}),N.jsx(IS,{children:N.jsxs(mi,{element:N.jsx(OT,{}),children:[N.jsx(mi,{path:"/",element:N.jsx(Rx,{})}),N.jsx(mi,{path:"/poesias",element:N.jsx(Gx,{})}),N.jsx(mi,{path:"/livros",element:N.jsx(Qx,{})}),N.jsx(mi,{path:"/desenhos",element:N.jsx(aE,{})}),N.jsx(mi,{path:"/games",element:N.jsx(oE,{})}),N.jsx(mi,{path:"/creditos",element:N.jsx(RE,{})}),N.jsx(mi,{path:"/view/:id",element:N.jsx(TT,{})})]})})]})}const kT=yx`
  
    *{
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        outline: none;
        text-decoration: none;
        font-family: "Montserrat", sans-serif;
        color: #fff;
    }
    body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'Playfair Display', serif;
        color: white;
        overflow-x: hidden;  
    }
    #galaxy {

        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: black;
        z-index: -1;

        }

`;q1.createRoot(document.getElementById("root")).render(N.jsxs(P.StrictMode,{children:[N.jsx(ow,{children:N.jsx(NT,{})}),N.jsx(kT,{})]}));
