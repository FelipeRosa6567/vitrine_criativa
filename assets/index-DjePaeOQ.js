var Jm=l=>{throw TypeError(l)};var Fh=(l,t,e)=>t.has(l)||Jm("Cannot "+e);var ne=(l,t,e)=>(Fh(l,t,"read from private field"),e?e.call(l):t.get(l)),Gn=(l,t,e)=>t.has(l)?Jm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),Je=(l,t,e,s)=>(Fh(l,t,"write to private field"),s?s.call(l,e):t.set(l,e),e),qn=(l,t,e)=>(Fh(l,t,"access private method"),e);var ty=(l,t,e,s)=>({set _(a){Je(l,t,a,e)},get _(){return ne(l,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function Ld(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var jh={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function fS(){if(ey)return zr;ey=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:l,type:s,key:u,ref:a!==void 0?a:null,props:o}}return zr.Fragment=t,zr.jsx=e,zr.jsxs=e,zr}var ny;function pS(){return ny||(ny=1,jh.exports=fS()),jh.exports}var Y=pS(),Uh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function gS(){if(iy)return wt;iy=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(x,j,U){this.props=x,this.context=j,this.refs=S,this.updater=U||v}T.prototype.isReactComponent={},T.prototype.setState=function(x,j){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,j,"setState")},T.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function _(){}_.prototype=T.prototype;function L(x,j,U){this.props=x,this.context=j,this.refs=S,this.updater=U||v}var C=L.prototype=new _;C.constructor=L,E(C,T.prototype),C.isPureReactComponent=!0;var D=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function N(x,j,U,V,tt,lt){return U=lt.ref,{$$typeof:l,type:x,key:j,ref:U!==void 0?U:null,props:lt}}function $(x,j){return N(x.type,j,void 0,void 0,void 0,x.props)}function X(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function it(x){var j={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(U){return j[U]})}var nt=/\/+/g;function Q(x,j){return typeof x=="object"&&x!==null&&x.key!=null?it(""+x.key):j.toString(36)}function et(){}function rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(et,et):(x.status="pending",x.then(function(j){x.status==="pending"&&(x.status="fulfilled",x.value=j)},function(j){x.status==="pending"&&(x.status="rejected",x.reason=j)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function st(x,j,U,V,tt){var lt=typeof x;(lt==="undefined"||lt==="boolean")&&(x=null);var ot=!1;if(x===null)ot=!0;else switch(lt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(x.$$typeof){case l:case t:ot=!0;break;case g:return ot=x._init,st(ot(x._payload),j,U,V,tt)}}if(ot)return tt=tt(x),ot=V===""?"."+Q(x,0):V,D(tt)?(U="",ot!=null&&(U=ot.replace(nt,"$&/")+"/"),st(tt,j,U,"",function(Pt){return Pt})):tt!=null&&(X(tt)&&(tt=$(tt,U+(tt.key==null||x&&x.key===tt.key?"":(""+tt.key).replace(nt,"$&/")+"/")+ot)),j.push(tt)),1;ot=0;var ht=V===""?".":V+":";if(D(x))for(var bt=0;bt<x.length;bt++)V=x[bt],lt=ht+Q(V,bt),ot+=st(V,j,U,lt,tt);else if(bt=b(x),typeof bt=="function")for(x=bt.call(x),bt=0;!(V=x.next()).done;)V=V.value,lt=ht+Q(V,bt++),ot+=st(V,j,U,lt,tt);else if(lt==="object"){if(typeof x.then=="function")return st(rt(x),j,U,V,tt);throw j=String(x),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ot}function O(x,j,U){if(x==null)return x;var V=[],tt=0;return st(x,V,"","",function(lt){return j.call(U,lt,tt++)}),V}function H(x){if(x._status===-1){var j=x._result;j=j(),j.then(function(U){(x._status===0||x._status===-1)&&(x._status=1,x._result=U)},function(U){(x._status===0||x._status===-1)&&(x._status=2,x._result=U)}),x._status===-1&&(x._status=0,x._result=j)}if(x._status===1)return x._result.default;throw x._result}var at=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Z(){}return wt.Children={map:O,forEach:function(x,j,U){O(x,function(){j.apply(this,arguments)},U)},count:function(x){var j=0;return O(x,function(){j++}),j},toArray:function(x){return O(x,function(j){return j})||[]},only:function(x){if(!X(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},wt.Component=T,wt.Fragment=e,wt.Profiler=a,wt.PureComponent=L,wt.StrictMode=s,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cloneElement=function(x,j,U){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var V=E({},x.props),tt=x.key,lt=void 0;if(j!=null)for(ot in j.ref!==void 0&&(lt=void 0),j.key!==void 0&&(tt=""+j.key),j)!I.call(j,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&j.ref===void 0||(V[ot]=j[ot]);var ot=arguments.length-2;if(ot===1)V.children=U;else if(1<ot){for(var ht=Array(ot),bt=0;bt<ot;bt++)ht[bt]=arguments[bt+2];V.children=ht}return N(x.type,tt,void 0,void 0,lt,V)},wt.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},wt.createElement=function(x,j,U){var V,tt={},lt=null;if(j!=null)for(V in j.key!==void 0&&(lt=""+j.key),j)I.call(j,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(tt[V]=j[V]);var ot=arguments.length-2;if(ot===1)tt.children=U;else if(1<ot){for(var ht=Array(ot),bt=0;bt<ot;bt++)ht[bt]=arguments[bt+2];tt.children=ht}if(x&&x.defaultProps)for(V in ot=x.defaultProps,ot)tt[V]===void 0&&(tt[V]=ot[V]);return N(x,lt,void 0,void 0,null,tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:h,render:x}},wt.isValidElement=X,wt.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:H}},wt.memo=function(x,j){return{$$typeof:p,type:x,compare:j===void 0?null:j}},wt.startTransition=function(x){var j=R.T,U={};R.T=U;try{var V=x(),tt=R.S;tt!==null&&tt(U,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Z,at)}catch(lt){at(lt)}finally{R.T=j}},wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wt.use=function(x){return R.H.use(x)},wt.useActionState=function(x,j,U){return R.H.useActionState(x,j,U)},wt.useCallback=function(x,j){return R.H.useCallback(x,j)},wt.useContext=function(x){return R.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,j){return R.H.useDeferredValue(x,j)},wt.useEffect=function(x,j,U){var V=R.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(x,j)},wt.useId=function(){return R.H.useId()},wt.useImperativeHandle=function(x,j,U){return R.H.useImperativeHandle(x,j,U)},wt.useInsertionEffect=function(x,j){return R.H.useInsertionEffect(x,j)},wt.useLayoutEffect=function(x,j){return R.H.useLayoutEffect(x,j)},wt.useMemo=function(x,j){return R.H.useMemo(x,j)},wt.useOptimistic=function(x,j){return R.H.useOptimistic(x,j)},wt.useReducer=function(x,j,U){return R.H.useReducer(x,j,U)},wt.useRef=function(x){return R.H.useRef(x)},wt.useState=function(x){return R.H.useState(x)},wt.useSyncExternalStore=function(x,j,U){return R.H.useSyncExternalStore(x,j,U)},wt.useTransition=function(){return R.H.useTransition()},wt.version="19.1.1",wt}var sy;function cc(){return sy||(sy=1,Uh.exports=gS()),Uh.exports}var P=cc();const Ge=Ld(P);var Gh={exports:{}},Br={},qh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function mS(){return ay||(ay=1,function(l){function t(O,H){var at=O.length;O.push(H);t:for(;0<at;){var Z=at-1>>>1,x=O[Z];if(0<a(x,H))O[Z]=H,O[at]=x,at=Z;else break t}}function e(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var H=O[0],at=O.pop();if(at!==H){O[0]=at;t:for(var Z=0,x=O.length,j=x>>>1;Z<j;){var U=2*(Z+1)-1,V=O[U],tt=U+1,lt=O[tt];if(0>a(V,at))tt<x&&0>a(lt,V)?(O[Z]=lt,O[tt]=at,Z=tt):(O[Z]=V,O[U]=at,Z=U);else if(tt<x&&0>a(lt,at))O[Z]=lt,O[tt]=at,Z=tt;else break t}}return H}function a(O,H){var at=O.sortIndex-H.sortIndex;return at!==0?at:O.id-H.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();l.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,y=null,b=3,v=!1,E=!1,S=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(O){for(var H=e(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=O)s(p),H.sortIndex=H.expirationTime,t(d,H);else break;H=e(p)}}function R(O){if(S=!1,D(O),!E)if(e(d)!==null)E=!0,I||(I=!0,Q());else{var H=e(p);H!==null&&st(R,H.startTime-O)}}var I=!1,N=-1,$=5,X=-1;function it(){return T?!0:!(l.unstable_now()-X<$)}function nt(){if(T=!1,I){var O=l.unstable_now();X=O;var H=!0;try{t:{E=!1,S&&(S=!1,L(N),N=-1),v=!0;var at=b;try{e:{for(D(O),y=e(d);y!==null&&!(y.expirationTime>O&&it());){var Z=y.callback;if(typeof Z=="function"){y.callback=null,b=y.priorityLevel;var x=Z(y.expirationTime<=O);if(O=l.unstable_now(),typeof x=="function"){y.callback=x,D(O),H=!0;break e}y===e(d)&&s(d),D(O)}else s(d);y=e(d)}if(y!==null)H=!0;else{var j=e(p);j!==null&&st(R,j.startTime-O),H=!1}}break t}finally{y=null,b=at,v=!1}H=void 0}}finally{H?Q():I=!1}}}var Q;if(typeof C=="function")Q=function(){C(nt)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,rt=et.port2;et.port1.onmessage=nt,Q=function(){rt.postMessage(null)}}else Q=function(){_(nt,0)};function st(O,H){N=_(function(){O(l.unstable_now())},H)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(O){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var at=b;b=H;try{return O()}finally{b=at}},l.unstable_requestPaint=function(){T=!0},l.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var at=b;b=O;try{return H()}finally{b=at}},l.unstable_scheduleCallback=function(O,H,at){var Z=l.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Z+at:Z):at=Z,O){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=at+x,O={id:g++,callback:H,priorityLevel:O,startTime:at,expirationTime:x,sortIndex:-1},at>Z?(O.sortIndex=at,t(p,O),e(d)===null&&O===e(p)&&(S?(L(N),N=-1):S=!0,st(R,at-Z))):(O.sortIndex=x,t(d,O),E||v||(E=!0,I||(I=!0,Q()))),O},l.unstable_shouldYield=it,l.unstable_wrapCallback=function(O){var H=b;return function(){var at=b;b=H;try{return O.apply(this,arguments)}finally{b=at}}}}(Vh)),Vh}var ry;function yS(){return ry||(ry=1,qh.exports=mS()),qh.exports}var Yh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function bS(){if(oy)return He;oy=1;var l=cc();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var u=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,g)},He.flushSync=function(d){var p=u.T,g=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=g,s.d.f()}},He.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},He.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},He.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},He.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},He.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},He.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},He.requestFormReset=function(d){s.d.r(d)},He.unstable_batchedUpdates=function(d,p){return d(p)},He.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},He.useFormStatus=function(){return u.H.useHostTransitionStatus()},He.version="19.1.1",He}var ly;function vS(){if(ly)return Yh.exports;ly=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Yh.exports=bS(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function AS(){if(cy)return Br;cy=1;var l=yS(),t=cc(),e=vS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(s(188))}function d(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(s(188));return i!==n?null:n}for(var r=n,c=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return h(f),n;if(m===c)return h(f),i;m=m.sibling}throw Error(s(188))}if(r.return!==c.return)r=f,c=m;else{for(var A=!1,w=f.child;w;){if(w===r){A=!0,r=f,c=m;break}if(w===c){A=!0,c=f,r=m;break}w=w.sibling}if(!A){for(w=m.child;w;){if(w===r){A=!0,r=m,c=f;break}if(w===c){A=!0,c=m,r=f;break}w=w.sibling}if(!A)throw Error(s(189))}}if(r.alternate!==c)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=nt&&n[nt]||n["@@iterator"],typeof n=="function"?n:null)}var et=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===et?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case C:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case D:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return i=n.displayName||null,i!==null?i:rt(n.type)||"Memo";case $:i=n._payload,n=n._init;try{return rt(n(i))}catch{}}return null}var st=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Z=[],x=-1;function j(n){return{current:n}}function U(n){0>x||(n.current=Z[x],Z[x]=null,x--)}function V(n,i){x++,Z[x]=n.current,n.current=i}var tt=j(null),lt=j(null),ot=j(null),ht=j(null);function bt(n,i){switch(V(ot,i),V(lt,n),V(tt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Cm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Cm(i),n=Rm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}U(tt),V(tt,n)}function Pt(){U(tt),U(lt),U(ot)}function _t(n){n.memoizedState!==null&&V(ht,n);var i=tt.current,r=Rm(i,n.type);i!==r&&(V(lt,n),V(tt,r))}function zt(n){lt.current===n&&(U(tt),U(lt)),ht.current===n&&(U(ht),Or._currentValue=at)}var Ht=Object.prototype.hasOwnProperty,qt=l.unstable_scheduleCallback,Tt=l.unstable_cancelCallback,Et=l.unstable_shouldYield,Ot=l.unstable_requestPaint,It=l.unstable_now,Vt=l.unstable_getCurrentPriorityLevel,nn=l.unstable_ImmediatePriority,_i=l.unstable_UserBlockingPriority,_e=l.unstable_NormalPriority,mn=l.unstable_LowPriority,Jn=l.unstable_IdlePriority,Ha=l.log,Rc=l.unstable_setDisableYieldValue,ts=null,ge=null;function sn(n){if(typeof Ha=="function"&&Rc(n),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(ts,n)}catch{}}var xe=Math.clz32?Math.clz32:Jv,Fa=Math.log,Zv=Math.LN2;function Jv(n){return n>>>=0,n===0?32:31-(Fa(n)/Zv|0)|0}var Ao=256,So=4194304;function es(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Eo(n,i,r){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var w=c&134217727;return w!==0?(c=w&~m,c!==0?f=es(c):(A&=w,A!==0?f=es(A):r||(r=w&~n,r!==0&&(f=es(r))))):(w=c&~m,w!==0?f=es(w):A!==0?f=es(A):r||(r=c&~n,r!==0&&(f=es(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function ja(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function t0(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uf(){var n=Ao;return Ao<<=1,(Ao&4194048)===0&&(Ao=256),n}function hf(){var n=So;return So<<=1,(So&62914560)===0&&(So=4194304),n}function Mc(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function Ua(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function e0(n,i,r,c,f,m){var A=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var w=n.entanglements,M=n.expirationTimes,F=n.hiddenUpdates;for(r=A&~r;0<r;){var K=31-xe(r),J=1<<K;w[K]=0,M[K]=-1;var G=F[K];if(G!==null)for(F[K]=null,K=0;K<G.length;K++){var q=G[K];q!==null&&(q.lane&=-536870913)}r&=~J}c!==0&&df(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(A&~i))}function df(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-xe(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|r&4194090}function ff(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var c=31-xe(r),f=1<<c;f&i|n[c]&i&&(n[c]|=i),r&=~f}}function Lc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Dc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pf(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:Xm(n.type))}function n0(n,i){var r=H.p;try{return H.p=n,i()}finally{H.p=r}}var xi=Math.random().toString(36).slice(2),ze="__reactFiber$"+xi,$e="__reactProps$"+xi,Ns="__reactContainer$"+xi,Oc="__reactEvents$"+xi,i0="__reactListeners$"+xi,s0="__reactHandles$"+xi,gf="__reactResources$"+xi,Ga="__reactMarker$"+xi;function Nc(n){delete n[ze],delete n[$e],delete n[Oc],delete n[i0],delete n[s0]}function ks(n){var i=n[ze];if(i)return i;for(var r=n.parentNode;r;){if(i=r[Ns]||r[ze]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Om(n);n!==null;){if(r=n[ze])return r;n=Om(n)}return i}n=r,r=n.parentNode}return null}function Ps(n){if(n=n[ze]||n[Ns]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function qa(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Is(n){var i=n[gf];return i||(i=n[gf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(n){n[Ga]=!0}var mf=new Set,yf={};function ns(n,i){zs(n,i),zs(n+"Capture",i)}function zs(n,i){for(yf[n]=i,n=0;n<i.length;n++)mf.add(i[n])}var a0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bf={},vf={};function r0(n){return Ht.call(vf,n)?!0:Ht.call(bf,n)?!1:a0.test(n)?vf[n]=!0:(bf[n]=!0,!1)}function wo(n,i,r){if(r0(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function _o(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function ti(n,i,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+c)}}var kc,Af;function Bs(n){if(kc===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);kc=i&&i[1]||"",Af=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kc+n+Af}var Pc=!1;function Ic(n,i){if(!n||Pc)return"";Pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var G=q}Reflect.construct(n,[],J)}else{try{J.call()}catch(q){G=q}n.call(J.prototype)}}else{try{throw Error()}catch(q){G=q}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),A=m[0],w=m[1];if(A&&w){var M=A.split(`
`),F=w.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===F.length)for(c=M.length-1,f=F.length-1;1<=c&&0<=f&&M[c]!==F[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==F[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==F[f]){var K=`
`+M[c].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=c&&0<=f);break}}}finally{Pc=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Bs(r):""}function o0(n){switch(n.tag){case 26:case 27:case 5:return Bs(n.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 15:return Ic(n.type,!1);case 11:return Ic(n.type.render,!1);case 1:return Ic(n.type,!0);case 31:return Bs("Activity");default:return""}}function Sf(n){try{var i="";do i+=o0(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function yn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ef(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function l0(n){var i=Ef(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(A){c=""+A,m.call(this,A)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function xo(n){n._valueTracker||(n._valueTracker=l0(n))}function wf(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),c="";return n&&(c=Ef(n)?n.checked?"true":"false":n.value),n=c,n!==r?(i.setValue(n),!0):!1}function To(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var c0=/[\n"\\]/g;function bn(n){return n.replace(c0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zc(n,i,r,c,f,m,A,w){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),i!=null?A==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+yn(i)):n.value!==""+yn(i)&&(n.value=""+yn(i)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),i!=null?Bc(n,A,yn(i)):r!=null?Bc(n,A,yn(r)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+yn(w):n.removeAttribute("name")}function _f(n,i,r,c,f,m,A,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+yn(r):"",i=i!=null?""+yn(i):r,w||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=w?n.checked:!!c,n.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function Bc(n,i,r){i==="number"&&To(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Hs(n,i,r,c){if(n=n.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=i.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&c&&(n[r].defaultSelected=!0)}else{for(r=""+yn(r),i=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function xf(n,i,r){if(i!=null&&(i=""+yn(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+yn(r):""}function Tf(n,i,r,c){if(i==null){if(c!=null){if(r!=null)throw Error(s(92));if(st(c)){if(1<c.length)throw Error(s(93));c=c[0]}r=c}r==null&&(r=""),i=r}r=yn(i),n.defaultValue=r,c=n.textContent,c===r&&c!==""&&c!==null&&(n.value=c)}function Fs(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var u0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cf(n,i,r){var c=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,r):typeof r!="number"||r===0||u0.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Rf(n,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&r[f]!==c&&Cf(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&Cf(n,m,i[m])}function Hc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(n){return d0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Fc=null;function jc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var js=null,Us=null;function Mf(n){var i=Ps(n);if(i&&(n=i.stateNode)){var r=n[$e]||null;t:switch(n=i.stateNode,i.type){case"input":if(zc(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var c=r[i];if(c!==n&&c.form===n.form){var f=c[$e]||null;if(!f)throw Error(s(90));zc(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)c=r[i],c.form===n.form&&wf(c)}break t;case"textarea":xf(n,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&Hs(n,!!r.multiple,i,!1)}}}var Uc=!1;function Lf(n,i,r){if(Uc)return n(i,r);Uc=!0;try{var c=n(i);return c}finally{if(Uc=!1,(js!==null||Us!==null)&&(dl(),js&&(i=js,n=Us,Us=js=null,Mf(i),n)))for(i=0;i<n.length;i++)Mf(n[i])}}function Va(n,i){var r=n.stateNode;if(r===null)return null;var c=r[$e]||null;if(c===null)return null;r=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=!1;if(ei)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Gc=!1}var Ti=null,qc=null,Ro=null;function Df(){if(Ro)return Ro;var n,i=qc,r=i.length,c,f="value"in Ti?Ti.value:Ti.textContent,m=f.length;for(n=0;n<r&&i[n]===f[n];n++);var A=r-n;for(c=1;c<=A&&i[r-c]===f[m-c];c++);return Ro=f.slice(n,1<c?1-c:void 0)}function Mo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Lo(){return!0}function Of(){return!1}function Ke(n){function i(r,c,f,m,A){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(r=n[w],this[w]=r?r(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lo:Of,this.isPropagationStopped=Of,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),i}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Ke(is),Xa=g({},is,{view:0,detail:0}),f0=Ke(Xa),Vc,Yc,$a,Oo=g({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$a&&($a&&n.type==="mousemove"?(Vc=n.screenX-$a.screenX,Yc=n.screenY-$a.screenY):Yc=Vc=0,$a=n),Vc)},movementY:function(n){return"movementY"in n?n.movementY:Yc}}),Nf=Ke(Oo),p0=g({},Oo,{dataTransfer:0}),g0=Ke(p0),m0=g({},Xa,{relatedTarget:0}),Xc=Ke(m0),y0=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),b0=Ke(y0),v0=g({},is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),A0=Ke(v0),S0=g({},is,{data:0}),kf=Ke(S0),E0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x0(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=_0[n])?!!i[n]:!1}function $c(){return x0}var T0=g({},Xa,{key:function(n){if(n.key){var i=E0[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Mo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?w0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(n){return n.type==="keypress"?Mo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),C0=Ke(T0),R0=g({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Ke(R0),M0=g({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),L0=Ke(M0),D0=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),O0=Ke(D0),N0=g({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),k0=Ke(N0),P0=g({},is,{newState:0,oldState:0}),I0=Ke(P0),z0=[9,13,27,32],Kc=ei&&"CompositionEvent"in window,Ka=null;ei&&"documentMode"in document&&(Ka=document.documentMode);var B0=ei&&"TextEvent"in window&&!Ka,If=ei&&(!Kc||Ka&&8<Ka&&11>=Ka),zf=" ",Bf=!1;function Hf(n,i){switch(n){case"keyup":return z0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gs=!1;function H0(n,i){switch(n){case"compositionend":return Ff(i);case"keypress":return i.which!==32?null:(Bf=!0,zf);case"textInput":return n=i.data,n===zf&&Bf?null:n;default:return null}}function F0(n,i){if(Gs)return n==="compositionend"||!Kc&&Hf(n,i)?(n=Df(),Ro=qc=Ti=null,Gs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return If&&i.locale!=="ko"?null:i.data;default:return null}}var j0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!j0[n.type]:i==="textarea"}function Uf(n,i,r,c){js?Us?Us.push(c):Us=[c]:js=c,i=bl(i,"onChange"),0<i.length&&(r=new Do("onChange","change",null,r,c),n.push({event:r,listeners:i}))}var Wa=null,Qa=null;function U0(n){Em(n,0)}function No(n){var i=qa(n);if(wf(i))return n}function Gf(n,i){if(n==="change")return i}var qf=!1;if(ei){var Wc;if(ei){var Qc="oninput"in document;if(!Qc){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),Qc=typeof Vf.oninput=="function"}Wc=Qc}else Wc=!1;qf=Wc&&(!document.documentMode||9<document.documentMode)}function Yf(){Wa&&(Wa.detachEvent("onpropertychange",Xf),Qa=Wa=null)}function Xf(n){if(n.propertyName==="value"&&No(Qa)){var i=[];Uf(i,Qa,n,jc(n)),Lf(U0,i)}}function G0(n,i,r){n==="focusin"?(Yf(),Wa=i,Qa=r,Wa.attachEvent("onpropertychange",Xf)):n==="focusout"&&Yf()}function q0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return No(Qa)}function V0(n,i){if(n==="click")return No(i)}function Y0(n,i){if(n==="input"||n==="change")return No(i)}function X0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var an=typeof Object.is=="function"?Object.is:X0;function Za(n,i){if(an(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),c=Object.keys(i);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!Ht.call(i,f)||!an(n[f],i[f]))return!1}return!0}function $f(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Kf(n,i){var r=$f(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=i&&c>=i)return{node:r,offset:i-n};n=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=$f(r)}}function Wf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Wf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Qf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=To(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=To(n.document)}return i}function Zc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var $0=ei&&"documentMode"in document&&11>=document.documentMode,qs=null,Jc=null,Ja=null,tu=!1;function Zf(n,i,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tu||qs==null||qs!==To(c)||(c=qs,"selectionStart"in c&&Zc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ja&&Za(Ja,c)||(Ja=c,c=bl(Jc,"onSelect"),0<c.length&&(i=new Do("onSelect","select",null,i,r),n.push({event:i,listeners:c}),i.target=qs)))}function ss(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Vs={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},eu={},Jf={};ei&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function as(n){if(eu[n])return eu[n];if(!Vs[n])return n;var i=Vs[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in Jf)return eu[n]=i[r];return n}var tp=as("animationend"),ep=as("animationiteration"),np=as("animationstart"),K0=as("transitionrun"),W0=as("transitionstart"),Q0=as("transitioncancel"),ip=as("transitionend"),sp=new Map,nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nu.push("scrollEnd");function Ln(n,i){sp.set(n,i),ns(i,[n])}var ap=new WeakMap;function vn(n,i){if(typeof n=="object"&&n!==null){var r=ap.get(n);return r!==void 0?r:(i={value:n,source:i,stack:Sf(i)},ap.set(n,i),i)}return{value:n,source:i,stack:Sf(i)}}var An=[],Ys=0,iu=0;function ko(){for(var n=Ys,i=iu=Ys=0;i<n;){var r=An[i];An[i++]=null;var c=An[i];An[i++]=null;var f=An[i];An[i++]=null;var m=An[i];if(An[i++]=null,c!==null&&f!==null){var A=c.pending;A===null?f.next=f:(f.next=A.next,A.next=f),c.pending=f}m!==0&&rp(r,f,m)}}function Po(n,i,r,c){An[Ys++]=n,An[Ys++]=i,An[Ys++]=r,An[Ys++]=c,iu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function su(n,i,r,c){return Po(n,i,r,c),Io(n)}function Xs(n,i){return Po(n,null,null,i),Io(n)}function rp(n,i,r){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r);for(var f=!1,m=n.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-xe(r),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=r|536870912),m):null}function Io(n){if(50<_r)throw _r=0,uh=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var $s={};function Z0(n,i,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(n,i,r,c){return new Z0(n,i,r,c)}function au(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ni(n,i){var r=n.alternate;return r===null?(r=rn(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function op(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function zo(n,i,r,c,f,m){var A=0;if(c=n,typeof n=="function")au(n)&&(A=1);else if(typeof n=="string")A=tS(n,r,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case X:return n=rn(31,r,i,f),n.elementType=X,n.lanes=m,n;case E:return rs(r.children,f,m,i);case S:A=8,f|=24;break;case T:return n=rn(12,r,i,f|2),n.elementType=T,n.lanes=m,n;case R:return n=rn(13,r,i,f),n.elementType=R,n.lanes=m,n;case I:return n=rn(19,r,i,f),n.elementType=I,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:case C:A=10;break t;case L:A=9;break t;case D:A=11;break t;case N:A=14;break t;case $:A=16,c=null;break t}A=29,r=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=rn(A,r,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function rs(n,i,r,c){return n=rn(7,n,c,i),n.lanes=r,n}function ru(n,i,r){return n=rn(6,n,null,i),n.lanes=r,n}function ou(n,i,r){return i=rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ks=[],Ws=0,Bo=null,Ho=0,Sn=[],En=0,os=null,ii=1,si="";function ls(n,i){Ks[Ws++]=Ho,Ks[Ws++]=Bo,Bo=n,Ho=i}function lp(n,i,r){Sn[En++]=ii,Sn[En++]=si,Sn[En++]=os,os=n;var c=ii;n=si;var f=32-xe(c)-1;c&=~(1<<f),r+=1;var m=32-xe(i)+f;if(30<m){var A=f-f%5;m=(c&(1<<A)-1).toString(32),c>>=A,f-=A,ii=1<<32-xe(i)+f|r<<f|c,si=m+n}else ii=1<<m|r<<f|c,si=n}function lu(n){n.return!==null&&(ls(n,1),lp(n,1,0))}function cu(n){for(;n===Bo;)Bo=Ks[--Ws],Ks[Ws]=null,Ho=Ks[--Ws],Ks[Ws]=null;for(;n===os;)os=Sn[--En],Sn[En]=null,si=Sn[--En],Sn[En]=null,ii=Sn[--En],Sn[En]=null}var Ve=null,oe=null,Ft=!1,cs=null,Bn=!1,uu=Error(s(519));function us(n){var i=Error(s(418,""));throw nr(vn(i,n)),uu}function cp(n){var i=n.stateNode,r=n.type,c=n.memoizedProps;switch(i[ze]=n,i[$e]=c,r){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(r=0;r<Tr.length;r++)Lt(Tr[r],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":Lt("invalid",i),_f(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),xo(i);break;case"select":Lt("invalid",i);break;case"textarea":Lt("invalid",i),Tf(i,c.value,c.defaultValue,c.children),xo(i)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||c.suppressHydrationWarning===!0||Tm(i.textContent,r)?(c.popover!=null&&(Lt("beforetoggle",i),Lt("toggle",i)),c.onScroll!=null&&Lt("scroll",i),c.onScrollEnd!=null&&Lt("scrollend",i),c.onClick!=null&&(i.onclick=vl),i=!0):i=!1,i||us(n)}function up(n){for(Ve=n.return;Ve;)switch(Ve.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ve=Ve.return}}function tr(n){if(n!==Ve)return!1;if(!Ft)return up(n),Ft=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Th(n.type,n.memoizedProps)),r=!r),r&&oe&&us(n),up(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){oe=On(n.nextSibling);break t}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}oe=null}}else i===27?(i=oe,Ui(n.type)?(n=Lh,Lh=null,oe=n):oe=i):oe=Ve?On(n.stateNode.nextSibling):null;return!0}function er(){oe=Ve=null,Ft=!1}function hp(){var n=cs;return n!==null&&(Ze===null?Ze=n:Ze.push.apply(Ze,n),cs=null),n}function nr(n){cs===null?cs=[n]:cs.push(n)}var hu=j(null),hs=null,ai=null;function Ci(n,i,r){V(hu,i._currentValue),i._currentValue=r}function ri(n){n._currentValue=hu.current,U(hu)}function du(n,i,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===r)break;n=n.return}}function fu(n,i,r,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var A=f.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=f;for(var M=0;M<i.length;M++)if(w.context===i[M]){m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),du(m.return,r,n),c||(A=null);break t}m=w.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(s(341));A.lanes|=r,m=A.alternate,m!==null&&(m.lanes|=r),du(A,r,n),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===n){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function ir(n,i,r,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var w=f.type;an(f.pendingProps.value,A.value)||(n!==null?n.push(w):n=[w])}}else if(f===ht.current){if(A=f.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Or):n=[Or])}f=f.return}n!==null&&fu(i,n,r,c),i.flags|=262144}function Fo(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ds(n){hs=n,ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Be(n){return dp(hs,n)}function jo(n,i){return hs===null&&ds(n),dp(n,i)}function dp(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ai===null){if(n===null)throw Error(s(308));ai=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ai=ai.next=i;return r}var J0=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},tA=l.unstable_scheduleCallback,eA=l.unstable_NormalPriority,Se={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new J0,data:new Map,refCount:0}}function sr(n){n.refCount--,n.refCount===0&&tA(eA,function(){n.controller.abort()})}var ar=null,gu=0,Qs=0,Zs=null;function nA(n,i){if(ar===null){var r=ar=[];gu=0,Qs=yh(),Zs={status:"pending",value:void 0,then:function(c){r.push(c)}}}return gu++,i.then(fp,fp),i}function fp(){if(--gu===0&&ar!==null){Zs!==null&&(Zs.status="fulfilled");var n=ar;ar=null,Qs=0,Zs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function iA(n,i){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var pp=O.S;O.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&nA(n,i),pp!==null&&pp(n,i)};var fs=j(null);function mu(){var n=fs.current;return n!==null?n:Zt.pooledCache}function Uo(n,i){i===null?V(fs,fs.current):V(fs,i.pool)}function gp(){var n=mu();return n===null?null:{parent:Se._currentValue,pool:n}}var rr=Error(s(460)),mp=Error(s(474)),Go=Error(s(542)),yu={then:function(){}};function yp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qo(){}function bp(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(qo,qo),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ap(n),n;default:if(typeof i.status=="string")i.then(qo,qo);else{if(n=Zt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ap(n),n}throw or=i,rr}}var or=null;function vp(){if(or===null)throw Error(s(459));var n=or;return or=null,n}function Ap(n){if(n===rr||n===Go)throw Error(s(483))}var Ri=!1;function bu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Li(n,i,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=Io(n),rp(n,null,r),i}return Po(n,c,i,r),Io(n)}function lr(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,ff(n,r)}}function Au(n,i){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var A={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=A:m=m.next=A,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var Su=!1;function cr(){if(Su){var n=Zs;if(n!==null)throw n}}function ur(n,i,r,c){Su=!1;var f=n.updateQueue;Ri=!1;var m=f.firstBaseUpdate,A=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,F=M.next;M.next=null,A===null?m=F:A.next=F,A=M;var K=n.alternate;K!==null&&(K=K.updateQueue,w=K.lastBaseUpdate,w!==A&&(w===null?K.firstBaseUpdate=F:w.next=F,K.lastBaseUpdate=M))}if(m!==null){var J=f.baseState;A=0,K=F=M=null,w=m;do{var G=w.lane&-536870913,q=G!==w.lane;if(q?(kt&G)===G:(c&G)===G){G!==0&&G===Qs&&(Su=!0),K!==null&&(K=K.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var vt=n,gt=w;G=i;var $t=r;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){J=vt.call($t,J,G);break t}J=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,G=typeof vt=="function"?vt.call($t,J,G):vt,G==null)break t;J=g({},J,G);break t;case 2:Ri=!0}}G=w.callback,G!==null&&(n.flags|=64,q&&(n.flags|=8192),q=f.callbacks,q===null?f.callbacks=[G]:q.push(G))}else q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},K===null?(F=K=q,M=J):K=K.next=q,A|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;q=w,w=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(M=J),f.baseState=M,f.firstBaseUpdate=F,f.lastBaseUpdate=K,m===null&&(f.shared.lanes=0),Bi|=A,n.lanes=A,n.memoizedState=J}}function Sp(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ep(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Sp(r[n],i)}var Js=j(null),Vo=j(0);function wp(n,i){n=fi,V(Vo,n),V(Js,i),fi=n|i.baseLanes}function Eu(){V(Vo,fi),V(Js,Js.current)}function wu(){fi=Vo.current,U(Js),U(Vo)}var Di=0,Ct=null,Yt=null,me=null,Yo=!1,ta=!1,ps=!1,Xo=0,hr=0,ea=null,sA=0;function ce(){throw Error(s(321))}function _u(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!an(n[r],i[r]))return!1;return!0}function xu(n,i,r,c,f,m){return Di=m,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,O.H=n===null||n.memoizedState===null?rg:og,ps=!1,m=r(c,f),ps=!1,ta&&(m=xp(i,r,c,f)),_p(n),m}function _p(n){O.H=Jo;var i=Yt!==null&&Yt.next!==null;if(Di=0,me=Yt=Ct=null,Yo=!1,hr=0,ea=null,i)throw Error(s(300));n===null||Ce||(n=n.dependencies,n!==null&&Fo(n)&&(Ce=!0))}function xp(n,i,r,c){Ct=n;var f=0;do{if(ta&&(ea=null),hr=0,ta=!1,25<=f)throw Error(s(301));if(f+=1,me=Yt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}O.H=hA,m=i(r,c)}while(ta);return m}function aA(){var n=O.H,i=n.useState()[0];return i=typeof i.then=="function"?dr(i):i,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(Ct.flags|=1024),i}function Tu(){var n=Xo!==0;return Xo=0,n}function Cu(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Ru(n){if(Yo){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yo=!1}Di=0,me=Yt=Ct=null,ta=!1,hr=Xo=0,ea=null}function We(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Ct.memoizedState=me=n:me=me.next=n,me}function ye(){if(Yt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var i=me===null?Ct.memoizedState:me.next;if(i!==null)me=i,Yt=n;else{if(n===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?Ct.memoizedState=me=n:me=me.next=n}return me}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dr(n){var i=hr;return hr+=1,ea===null&&(ea=[]),n=bp(ea,n,i),i=Ct,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,O.H=i===null||i.memoizedState===null?rg:og),n}function $o(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dr(n);if(n.$$typeof===C)return Be(n)}throw Error(s(438,String(n)))}function Lu(n){var i=null,r=Ct.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Mu(),Ct.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),c=0;c<n;c++)r[c]=it;return i.index++,r}function oi(n,i){return typeof i=="function"?i(n):i}function Ko(n){var i=ye();return Du(i,Yt,n)}function Du(n,i,r){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var A=f.next;f.next=m.next,m.next=A}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=A=null,M=null,F=i,K=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(kt&J)===J:(Di&J)===J){var G=F.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Qs&&(K=!0);else if((Di&G)===G){F=F.next,G===Qs&&(K=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(w=M=J,A=m):M=M.next=J,Ct.lanes|=G,Bi|=G;J=F.action,ps&&r(m,J),m=F.hasEagerState?F.eagerState:r(m,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(w=M=G,A=m):M=M.next=G,Ct.lanes|=J,Bi|=J;F=F.next}while(F!==null&&F!==i);if(M===null?A=m:M.next=w,!an(m,n.memoizedState)&&(Ce=!0,K&&(r=Zs,r!==null)))throw r;n.memoizedState=m,n.baseState=A,n.baseQueue=M,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Ou(n){var i=ye(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var c=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var A=f=f.next;do m=n(m,A.action),A=A.next;while(A!==f);an(m,i.memoizedState)||(Ce=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,c]}function Tp(n,i,r){var c=Ct,f=ye(),m=Ft;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=i();var A=!an((Yt||f).memoizedState,r);A&&(f.memoizedState=r,Ce=!0),f=f.queue;var w=Mp.bind(null,c,f,n);if(fr(2048,8,w,[n]),f.getSnapshot!==i||A||me!==null&&me.memoizedState.tag&1){if(c.flags|=2048,na(9,Wo(),Rp.bind(null,c,f,r,i),null),Zt===null)throw Error(s(349));m||(Di&124)!==0||Cp(c,i,r)}return r}function Cp(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=Ct.updateQueue,i===null?(i=Mu(),Ct.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function Rp(n,i,r,c){i.value=r,i.getSnapshot=c,Lp(i)&&Dp(n)}function Mp(n,i,r){return r(function(){Lp(i)&&Dp(n)})}function Lp(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!an(n,r)}catch{return!0}}function Dp(n){var i=Xs(n,2);i!==null&&hn(i,n,2)}function Nu(n){var i=We();if(typeof n=="function"){var r=n;if(n=r(),ps){sn(!0);try{r()}finally{sn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},i}function Op(n,i,r,c){return n.baseState=r,Du(n,Yt,typeof c=="function"?c:oi)}function rA(n,i,r,c,f){if(Zo(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};O.T!==null?r(!0):m.isTransition=!1,c(m),r=i.pending,r===null?(m.next=i.pending=m,Np(i,m)):(m.next=r.next,i.pending=r.next=m)}}function Np(n,i){var r=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=O.T,A={};O.T=A;try{var w=r(f,c),M=O.S;M!==null&&M(A,w),kp(n,i,w)}catch(F){ku(n,i,F)}finally{O.T=m}}else try{m=r(f,c),kp(n,i,m)}catch(F){ku(n,i,F)}}function kp(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Pp(n,i,c)},function(c){return ku(n,i,c)}):Pp(n,i,r)}function Pp(n,i,r){i.status="fulfilled",i.value=r,Ip(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Np(n,r)))}function ku(n,i,r){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=r,Ip(i),i=i.next;while(i!==c)}n.action=null}function Ip(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function zp(n,i){return i}function Bp(n,i){if(Ft){var r=Zt.formState;if(r!==null){t:{var c=Ct;if(Ft){if(oe){e:{for(var f=oe,m=Bn;f.nodeType!==8;){if(!m){f=null;break e}if(f=On(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){oe=On(f.nextSibling),c=f.data==="F!";break t}}us(c)}c=!1}c&&(i=r[0])}}return r=We(),r.memoizedState=r.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:i},r.queue=c,r=ig.bind(null,Ct,c),c.dispatch=r,c=Nu(!1),m=Hu.bind(null,Ct,!1,c.queue),c=We(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,r=rA.bind(null,Ct,f,m,r),f.dispatch=r,c.memoizedState=n,[i,r,!1]}function Hp(n){var i=ye();return Fp(i,Yt,n)}function Fp(n,i,r){if(i=Du(n,i,zp)[0],n=Ko(oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=dr(i)}catch(A){throw A===rr?Go:A}else c=i;i=ye();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(Ct.flags|=2048,na(9,Wo(),oA.bind(null,f,r),null)),[c,m,n]}function oA(n,i){n.action=i}function jp(n){var i=ye(),r=Yt;if(r!==null)return Fp(i,r,n);ye(),i=i.memoizedState,r=ye();var c=r.queue.dispatch;return r.memoizedState=n,[i,c,!1]}function na(n,i,r,c){return n={tag:n,create:r,deps:c,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Mu(),Ct.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,i.lastEffect=n),n}function Wo(){return{destroy:void 0,resource:void 0}}function Up(){return ye().memoizedState}function Qo(n,i,r,c){var f=We();c=c===void 0?null:c,Ct.flags|=n,f.memoizedState=na(1|i,Wo(),r,c)}function fr(n,i,r,c){var f=ye();c=c===void 0?null:c;var m=f.memoizedState.inst;Yt!==null&&c!==null&&_u(c,Yt.memoizedState.deps)?f.memoizedState=na(i,m,r,c):(Ct.flags|=n,f.memoizedState=na(1|i,m,r,c))}function Gp(n,i){Qo(8390656,8,n,i)}function qp(n,i){fr(2048,8,n,i)}function Vp(n,i){return fr(4,2,n,i)}function Yp(n,i){return fr(4,4,n,i)}function Xp(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function $p(n,i,r){r=r!=null?r.concat([n]):null,fr(4,4,Xp.bind(null,i,n),r)}function Pu(){}function Kp(n,i){var r=ye();i=i===void 0?null:i;var c=r.memoizedState;return i!==null&&_u(i,c[1])?c[0]:(r.memoizedState=[n,i],n)}function Wp(n,i){var r=ye();i=i===void 0?null:i;var c=r.memoizedState;if(i!==null&&_u(i,c[1]))return c[0];if(c=n(),ps){sn(!0);try{n()}finally{sn(!1)}}return r.memoizedState=[c,i],c}function Iu(n,i,r){return r===void 0||(Di&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=Jg(),Ct.lanes|=n,Bi|=n,r)}function Qp(n,i,r,c){return an(r,i)?r:Js.current!==null?(n=Iu(n,r,c),an(n,i)||(Ce=!0),n):(Di&42)===0?(Ce=!0,n.memoizedState=r):(n=Jg(),Ct.lanes|=n,Bi|=n,i)}function Zp(n,i,r,c,f){var m=H.p;H.p=m!==0&&8>m?m:8;var A=O.T,w={};O.T=w,Hu(n,!1,i,r);try{var M=f(),F=O.S;if(F!==null&&F(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=iA(M,c);pr(n,i,K,un(n))}else pr(n,i,c,un(n))}catch(J){pr(n,i,{then:function(){},status:"rejected",reason:J},un())}finally{H.p=m,O.T=A}}function lA(){}function zu(n,i,r,c){if(n.tag!==5)throw Error(s(476));var f=Jp(n).queue;Zp(n,f,i,at,r===null?lA:function(){return tg(n),r(c)})}function Jp(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:at},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function tg(n){var i=Jp(n).next.queue;pr(n,i,{},un())}function Bu(){return Be(Or)}function eg(){return ye().memoizedState}function ng(){return ye().memoizedState}function cA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=un();n=Mi(r);var c=Li(i,n,r);c!==null&&(hn(c,i,r),lr(c,i,r)),i={cache:pu()},n.payload=i;return}i=i.return}}function uA(n,i,r){var c=un();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(n)?sg(i,r):(r=su(n,i,r,c),r!==null&&(hn(r,n,c),ag(r,i,c)))}function ig(n,i,r){var c=un();pr(n,i,r,c)}function pr(n,i,r,c){var f={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zo(n))sg(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var A=i.lastRenderedState,w=m(A,r);if(f.hasEagerState=!0,f.eagerState=w,an(w,A))return Po(n,i,f,0),Zt===null&&ko(),!1}catch{}finally{}if(r=su(n,i,f,c),r!==null)return hn(r,n,c),ag(r,i,c),!0}return!1}function Hu(n,i,r,c){if(c={lane:2,revertLane:yh(),action:c,hasEagerState:!1,eagerState:null,next:null},Zo(n)){if(i)throw Error(s(479))}else i=su(n,r,c,2),i!==null&&hn(i,n,2)}function Zo(n){var i=n.alternate;return n===Ct||i!==null&&i===Ct}function sg(n,i){ta=Yo=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function ag(n,i,r){if((r&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,ff(n,r)}}var Jo={readContext:Be,use:$o,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},rg={readContext:Be,use:$o,useCallback:function(n,i){return We().memoizedState=[n,i===void 0?null:i],n},useContext:Be,useEffect:Gp,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Qo(4194308,4,Xp.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Qo(4194308,4,n,i)},useInsertionEffect:function(n,i){Qo(4,2,n,i)},useMemo:function(n,i){var r=We();i=i===void 0?null:i;var c=n();if(ps){sn(!0);try{n()}finally{sn(!1)}}return r.memoizedState=[c,i],c},useReducer:function(n,i,r){var c=We();if(r!==void 0){var f=r(i);if(ps){sn(!0);try{r(i)}finally{sn(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=uA.bind(null,Ct,n),[c.memoizedState,n]},useRef:function(n){var i=We();return n={current:n},i.memoizedState=n},useState:function(n){n=Nu(n);var i=n.queue,r=ig.bind(null,Ct,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:Pu,useDeferredValue:function(n,i){var r=We();return Iu(r,n,i)},useTransition:function(){var n=Nu(!1);return n=Zp.bind(null,Ct,n.queue,!0,!1),We().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var c=Ct,f=We();if(Ft){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Zt===null)throw Error(s(349));(kt&124)!==0||Cp(c,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,Gp(Mp.bind(null,c,m,n),[n]),c.flags|=2048,na(9,Wo(),Rp.bind(null,c,m,r,i),null),r},useId:function(){var n=We(),i=Zt.identifierPrefix;if(Ft){var r=si,c=ii;r=(c&~(1<<32-xe(c)-1)).toString(32)+r,i=""+i+"R"+r,r=Xo++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=sA++,i=""+i+"r"+r.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Bu,useFormState:Bp,useActionState:Bp,useOptimistic:function(n){var i=We();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Hu.bind(null,Ct,!0,r),r.dispatch=i,[n,i]},useMemoCache:Lu,useCacheRefresh:function(){return We().memoizedState=cA.bind(null,Ct)}},og={readContext:Be,use:$o,useCallback:Kp,useContext:Be,useEffect:qp,useImperativeHandle:$p,useInsertionEffect:Vp,useLayoutEffect:Yp,useMemo:Wp,useReducer:Ko,useRef:Up,useState:function(){return Ko(oi)},useDebugValue:Pu,useDeferredValue:function(n,i){var r=ye();return Qp(r,Yt.memoizedState,n,i)},useTransition:function(){var n=Ko(oi)[0],i=ye().memoizedState;return[typeof n=="boolean"?n:dr(n),i]},useSyncExternalStore:Tp,useId:eg,useHostTransitionStatus:Bu,useFormState:Hp,useActionState:Hp,useOptimistic:function(n,i){var r=ye();return Op(r,Yt,n,i)},useMemoCache:Lu,useCacheRefresh:ng},hA={readContext:Be,use:$o,useCallback:Kp,useContext:Be,useEffect:qp,useImperativeHandle:$p,useInsertionEffect:Vp,useLayoutEffect:Yp,useMemo:Wp,useReducer:Ou,useRef:Up,useState:function(){return Ou(oi)},useDebugValue:Pu,useDeferredValue:function(n,i){var r=ye();return Yt===null?Iu(r,n,i):Qp(r,Yt.memoizedState,n,i)},useTransition:function(){var n=Ou(oi)[0],i=ye().memoizedState;return[typeof n=="boolean"?n:dr(n),i]},useSyncExternalStore:Tp,useId:eg,useHostTransitionStatus:Bu,useFormState:jp,useActionState:jp,useOptimistic:function(n,i){var r=ye();return Yt!==null?Op(r,Yt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:ng},ia=null,gr=0;function tl(n){var i=gr;return gr+=1,ia===null&&(ia=[]),bp(ia,n,i)}function mr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function el(n,i){throw i.$$typeof===y?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function lg(n){var i=n._init;return i(n._payload)}function cg(n){function i(z,k){if(n){var B=z.deletions;B===null?(z.deletions=[k],z.flags|=16):B.push(k)}}function r(z,k){if(!n)return null;for(;k!==null;)i(z,k),k=k.sibling;return null}function c(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=ni(z,k),z.index=0,z.sibling=null,z}function m(z,k,B){return z.index=B,n?(B=z.alternate,B!==null?(B=B.index,B<k?(z.flags|=67108866,k):B):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function A(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,k,B,W){return k===null||k.tag!==6?(k=ru(B,z.mode,W),k.return=z,k):(k=f(k,B),k.return=z,k)}function M(z,k,B,W){var ut=B.type;return ut===E?K(z,k,B.props.children,W,B.key):k!==null&&(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===$&&lg(ut)===k.type)?(k=f(k,B.props),mr(k,B),k.return=z,k):(k=zo(B.type,B.key,B.props,null,z.mode,W),mr(k,B),k.return=z,k)}function F(z,k,B,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=ou(B,z.mode,W),k.return=z,k):(k=f(k,B.children||[]),k.return=z,k)}function K(z,k,B,W,ut){return k===null||k.tag!==7?(k=rs(B,z.mode,W,ut),k.return=z,k):(k=f(k,B),k.return=z,k)}function J(z,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ru(""+k,z.mode,B),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return B=zo(k.type,k.key,k.props,null,z.mode,B),mr(B,k),B.return=z,B;case v:return k=ou(k,z.mode,B),k.return=z,k;case $:var W=k._init;return k=W(k._payload),J(z,k,B)}if(st(k)||Q(k))return k=rs(k,z.mode,B,null),k.return=z,k;if(typeof k.then=="function")return J(z,tl(k),B);if(k.$$typeof===C)return J(z,jo(z,k),B);el(z,k)}return null}function G(z,k,B,W){var ut=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ut!==null?null:w(z,k,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ut?M(z,k,B,W):null;case v:return B.key===ut?F(z,k,B,W):null;case $:return ut=B._init,B=ut(B._payload),G(z,k,B,W)}if(st(B)||Q(B))return ut!==null?null:K(z,k,B,W,null);if(typeof B.then=="function")return G(z,k,tl(B),W);if(B.$$typeof===C)return G(z,k,jo(z,B),W);el(z,B)}return null}function q(z,k,B,W,ut){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(B)||null,w(k,z,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return z=z.get(W.key===null?B:W.key)||null,M(k,z,W,ut);case v:return z=z.get(W.key===null?B:W.key)||null,F(k,z,W,ut);case $:var Rt=W._init;return W=Rt(W._payload),q(z,k,B,W,ut)}if(st(W)||Q(W))return z=z.get(B)||null,K(k,z,W,ut,null);if(typeof W.then=="function")return q(z,k,B,tl(W),ut);if(W.$$typeof===C)return q(z,k,B,jo(k,W),ut);el(k,W)}return null}function vt(z,k,B,W){for(var ut=null,Rt=null,dt=k,mt=k=0,Me=null;dt!==null&&mt<B.length;mt++){dt.index>mt?(Me=dt,dt=null):Me=dt.sibling;var Bt=G(z,dt,B[mt],W);if(Bt===null){dt===null&&(dt=Me);break}n&&dt&&Bt.alternate===null&&i(z,dt),k=m(Bt,k,mt),Rt===null?ut=Bt:Rt.sibling=Bt,Rt=Bt,dt=Me}if(mt===B.length)return r(z,dt),Ft&&ls(z,mt),ut;if(dt===null){for(;mt<B.length;mt++)dt=J(z,B[mt],W),dt!==null&&(k=m(dt,k,mt),Rt===null?ut=dt:Rt.sibling=dt,Rt=dt);return Ft&&ls(z,mt),ut}for(dt=c(dt);mt<B.length;mt++)Me=q(dt,z,mt,B[mt],W),Me!==null&&(n&&Me.alternate!==null&&dt.delete(Me.key===null?mt:Me.key),k=m(Me,k,mt),Rt===null?ut=Me:Rt.sibling=Me,Rt=Me);return n&&dt.forEach(function(Xi){return i(z,Xi)}),Ft&&ls(z,mt),ut}function gt(z,k,B,W){if(B==null)throw Error(s(151));for(var ut=null,Rt=null,dt=k,mt=k=0,Me=null,Bt=B.next();dt!==null&&!Bt.done;mt++,Bt=B.next()){dt.index>mt?(Me=dt,dt=null):Me=dt.sibling;var Xi=G(z,dt,Bt.value,W);if(Xi===null){dt===null&&(dt=Me);break}n&&dt&&Xi.alternate===null&&i(z,dt),k=m(Xi,k,mt),Rt===null?ut=Xi:Rt.sibling=Xi,Rt=Xi,dt=Me}if(Bt.done)return r(z,dt),Ft&&ls(z,mt),ut;if(dt===null){for(;!Bt.done;mt++,Bt=B.next())Bt=J(z,Bt.value,W),Bt!==null&&(k=m(Bt,k,mt),Rt===null?ut=Bt:Rt.sibling=Bt,Rt=Bt);return Ft&&ls(z,mt),ut}for(dt=c(dt);!Bt.done;mt++,Bt=B.next())Bt=q(dt,z,mt,Bt.value,W),Bt!==null&&(n&&Bt.alternate!==null&&dt.delete(Bt.key===null?mt:Bt.key),k=m(Bt,k,mt),Rt===null?ut=Bt:Rt.sibling=Bt,Rt=Bt);return n&&dt.forEach(function(dS){return i(z,dS)}),Ft&&ls(z,mt),ut}function $t(z,k,B,W){if(typeof B=="object"&&B!==null&&B.type===E&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:t:{for(var ut=B.key;k!==null;){if(k.key===ut){if(ut=B.type,ut===E){if(k.tag===7){r(z,k.sibling),W=f(k,B.props.children),W.return=z,z=W;break t}}else if(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===$&&lg(ut)===k.type){r(z,k.sibling),W=f(k,B.props),mr(W,B),W.return=z,z=W;break t}r(z,k);break}else i(z,k);k=k.sibling}B.type===E?(W=rs(B.props.children,z.mode,W,B.key),W.return=z,z=W):(W=zo(B.type,B.key,B.props,null,z.mode,W),mr(W,B),W.return=z,z=W)}return A(z);case v:t:{for(ut=B.key;k!==null;){if(k.key===ut)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){r(z,k.sibling),W=f(k,B.children||[]),W.return=z,z=W;break t}else{r(z,k);break}else i(z,k);k=k.sibling}W=ou(B,z.mode,W),W.return=z,z=W}return A(z);case $:return ut=B._init,B=ut(B._payload),$t(z,k,B,W)}if(st(B))return vt(z,k,B,W);if(Q(B)){if(ut=Q(B),typeof ut!="function")throw Error(s(150));return B=ut.call(B),gt(z,k,B,W)}if(typeof B.then=="function")return $t(z,k,tl(B),W);if(B.$$typeof===C)return $t(z,k,jo(z,B),W);el(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(r(z,k.sibling),W=f(k,B),W.return=z,z=W):(r(z,k),W=ru(B,z.mode,W),W.return=z,z=W),A(z)):r(z,k)}return function(z,k,B,W){try{gr=0;var ut=$t(z,k,B,W);return ia=null,ut}catch(dt){if(dt===rr||dt===Go)throw dt;var Rt=rn(29,dt,null,z.mode);return Rt.lanes=W,Rt.return=z,Rt}finally{}}}var sa=cg(!0),ug=cg(!1),wn=j(null),Hn=null;function Oi(n){var i=n.alternate;V(Ee,Ee.current&1),V(wn,n),Hn===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(Hn=n)}function hg(n){if(n.tag===22){if(V(Ee,Ee.current),V(wn,n),Hn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Hn=n)}}else Ni()}function Ni(){V(Ee,Ee.current),V(wn,wn.current)}function li(n){U(wn),Hn===n&&(Hn=null),U(Ee)}var Ee=j(0);function nl(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Mh(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Fu(n,i,r,c){i=n.memoizedState,r=r(c,i),r=r==null?i:g({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var ju={enqueueSetState:function(n,i,r){n=n._reactInternals;var c=un(),f=Mi(c);f.payload=i,r!=null&&(f.callback=r),i=Li(n,f,c),i!==null&&(hn(i,n,c),lr(i,n,c))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var c=un(),f=Mi(c);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Li(n,f,c),i!==null&&(hn(i,n,c),lr(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=un(),c=Mi(r);c.tag=2,i!=null&&(c.callback=i),i=Li(n,c,r),i!==null&&(hn(i,n,r),lr(i,n,r))}};function dg(n,i,r,c,f,m,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,A):i.prototype&&i.prototype.isPureReactComponent?!Za(r,c)||!Za(f,m):!0}function fg(n,i,r,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,c),i.state!==n&&ju.enqueueReplaceState(i,i.state,null)}function gs(n,i){var r=i;if("ref"in i){r={};for(var c in i)c!=="ref"&&(r[c]=i[c])}if(n=n.defaultProps){r===i&&(r=g({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var il=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function pg(n){il(n)}function gg(n){console.error(n)}function mg(n){il(n)}function sl(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function yg(n,i,r){try{var c=n.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uu(n,i,r){return r=Mi(r),r.tag=3,r.payload={element:null},r.callback=function(){sl(n,i)},r}function bg(n){return n=Mi(n),n.tag=3,n}function vg(n,i,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){yg(i,r,c)}}var A=r.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){yg(i,r,c),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function dA(n,i,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=r.alternate,i!==null&&ir(i,r,f,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Hn===null?dh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===yu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([c]):i.add(c),ph(n,c,f)),!1;case 22:return r.flags|=65536,c===yu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([c]):r.add(c)),ph(n,c,f)),!1}throw Error(s(435,r.tag))}return ph(n,c,f),dh(),!1}if(Ft)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==uu&&(n=Error(s(422),{cause:c}),nr(vn(n,r)))):(c!==uu&&(i=Error(s(423),{cause:c}),nr(vn(i,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=vn(c,r),f=Uu(n.stateNode,c,f),Au(n,f),le!==4&&(le=2)),!1;var m=Error(s(520),{cause:c});if(m=vn(m,r),wr===null?wr=[m]:wr.push(m),le!==4&&(le=2),i===null)return!0;c=vn(c,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=Uu(r.stateNode,c,n),Au(r,n),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=bg(f),vg(f,n,r,c),Au(r,f),!1}r=r.return}while(r!==null);return!1}var Ag=Error(s(461)),Ce=!1;function Ne(n,i,r,c){i.child=n===null?ug(i,null,r,c):sa(i,n.child,r,c)}function Sg(n,i,r,c,f){r=r.render;var m=i.ref;if("ref"in c){var A={};for(var w in c)w!=="ref"&&(A[w]=c[w])}else A=c;return ds(i),c=xu(n,i,r,A,m,f),w=Tu(),n!==null&&!Ce?(Cu(n,i,f),ci(n,i,f)):(Ft&&w&&lu(i),i.flags|=1,Ne(n,i,c,f),i.child)}function Eg(n,i,r,c,f){if(n===null){var m=r.type;return typeof m=="function"&&!au(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,wg(n,i,m,c,f)):(n=zo(r.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Wu(n,f)){var A=m.memoizedProps;if(r=r.compare,r=r!==null?r:Za,r(A,c)&&n.ref===i.ref)return ci(n,i,f)}return i.flags|=1,n=ni(m,c),n.ref=i.ref,n.return=i,i.child=n}function wg(n,i,r,c,f){if(n!==null){var m=n.memoizedProps;if(Za(m,c)&&n.ref===i.ref)if(Ce=!1,i.pendingProps=c=m,Wu(n,f))(n.flags&131072)!==0&&(Ce=!0);else return i.lanes=n.lanes,ci(n,i,f)}return Gu(n,i,r,c,f)}function _g(n,i,r){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|r:r,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return xg(n,i,c,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uo(i,m!==null?m.cachePool:null),m!==null?wp(i,m):Eu(),hg(i);else return i.lanes=i.childLanes=536870912,xg(n,i,m!==null?m.baseLanes|r:r,r)}else m!==null?(Uo(i,m.cachePool),wp(i,m),Ni(),i.memoizedState=null):(n!==null&&Uo(i,null),Eu(),Ni());return Ne(n,i,f,r),i.child}function xg(n,i,r,c){var f=mu();return f=f===null?null:{parent:Se._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},n!==null&&Uo(i,null),Eu(),hg(i),n!==null&&ir(n,i,c,!0),null}function al(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Gu(n,i,r,c,f){return ds(i),r=xu(n,i,r,c,void 0,f),c=Tu(),n!==null&&!Ce?(Cu(n,i,f),ci(n,i,f)):(Ft&&c&&lu(i),i.flags|=1,Ne(n,i,r,f),i.child)}function Tg(n,i,r,c,f,m){return ds(i),i.updateQueue=null,r=xp(i,c,r,f),_p(n),c=Tu(),n!==null&&!Ce?(Cu(n,i,m),ci(n,i,m)):(Ft&&c&&lu(i),i.flags|=1,Ne(n,i,r,m),i.child)}function Cg(n,i,r,c,f){if(ds(i),i.stateNode===null){var m=$s,A=r.contextType;typeof A=="object"&&A!==null&&(m=Be(A)),m=new r(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ju,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},bu(i),A=r.contextType,m.context=typeof A=="object"&&A!==null?Be(A):$s,m.state=i.memoizedState,A=r.getDerivedStateFromProps,typeof A=="function"&&(Fu(i,r,A,c),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&ju.enqueueReplaceState(m,m.state,null),ur(i,c,m,f),cr(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,M=gs(r,w);m.props=M;var F=m.context,K=r.contextType;A=$s,typeof K=="object"&&K!==null&&(A=Be(K));var J=r.getDerivedStateFromProps;K=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==A)&&fg(i,m,c,A),Ri=!1;var G=i.memoizedState;m.state=G,ur(i,c,m,f),cr(),F=i.memoizedState,w||G!==F||Ri?(typeof J=="function"&&(Fu(i,r,J,c),F=i.memoizedState),(M=Ri||dg(i,r,M,c,G,F,A))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=F),m.props=c,m.state=F,m.context=A,c=M):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,vu(n,i),A=i.memoizedProps,K=gs(r,A),m.props=K,J=i.pendingProps,G=m.context,F=r.contextType,M=$s,typeof F=="object"&&F!==null&&(M=Be(F)),w=r.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==J||G!==M)&&fg(i,m,c,M),Ri=!1,G=i.memoizedState,m.state=G,ur(i,c,m,f),cr();var q=i.memoizedState;A!==J||G!==q||Ri||n!==null&&n.dependencies!==null&&Fo(n.dependencies)?(typeof w=="function"&&(Fu(i,r,w,c),q=i.memoizedState),(K=Ri||dg(i,r,K,c,G,q,M)||n!==null&&n.dependencies!==null&&Fo(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,q,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,q,M)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=q),m.props=c,m.state=q,m.context=M,c=K):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,al(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=sa(i,n.child,null,f),i.child=sa(i,null,r,f)):Ne(n,i,r,f),i.memoizedState=m.state,n=i.child):n=ci(n,i,f),n}function Rg(n,i,r,c){return er(),i.flags|=256,Ne(n,i,r,c),i.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(n){return{baseLanes:n,cachePool:gp()}}function Yu(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=_n),n}function Mg(n,i,r){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,A;if((A=m)||(A=n!==null&&n.memoizedState===null?!1:(Ee.current&2)!==0),A&&(f=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ft){if(f?Oi(i):Ni(),Ft){var w=oe,M;if(M=w){t:{for(M=w,w=Bn;M.nodeType!==8;){if(!w){w=null;break t}if(M=On(M.nextSibling),M===null){w=null;break t}}w=M}w!==null?(i.memoizedState={dehydrated:w,treeContext:os!==null?{id:ii,overflow:si}:null,retryLane:536870912,hydrationErrors:null},M=rn(18,null,null,0),M.stateNode=w,M.return=i,i.child=M,Ve=i,oe=null,M=!0):M=!1}M||us(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Mh(w)?i.lanes=32:i.lanes=536870912,null;li(i)}return w=c.children,c=c.fallback,f?(Ni(),f=i.mode,w=rl({mode:"hidden",children:w},f),c=rs(c,f,r,null),w.return=i,c.return=i,w.sibling=c,i.child=w,f=i.child,f.memoizedState=Vu(r),f.childLanes=Yu(n,A,r),i.memoizedState=qu,c):(Oi(i),Xu(i,w))}if(M=n.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(m)i.flags&256?(Oi(i),i.flags&=-257,i=$u(n,i,r)):i.memoizedState!==null?(Ni(),i.child=n.child,i.flags|=128,i=null):(Ni(),f=c.fallback,w=i.mode,c=rl({mode:"visible",children:c.children},w),f=rs(f,w,r,null),f.flags|=2,c.return=i,f.return=i,c.sibling=f,i.child=c,sa(i,n.child,null,r),c=i.child,c.memoizedState=Vu(r),c.childLanes=Yu(n,A,r),i.memoizedState=qu,i=f);else if(Oi(i),Mh(w)){if(A=w.nextSibling&&w.nextSibling.dataset,A)var F=A.dgst;A=F,c=Error(s(419)),c.stack="",c.digest=A,nr({value:c,source:null,stack:null}),i=$u(n,i,r)}else if(Ce||ir(n,i,r,!1),A=(r&n.childLanes)!==0,Ce||A){if(A=Zt,A!==null&&(c=r&-r,c=(c&42)!==0?1:Lc(c),c=(c&(A.suspendedLanes|r))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,Xs(n,c),hn(A,n,c),Ag;w.data==="$?"||dh(),i=$u(n,i,r)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,oe=On(w.nextSibling),Ve=i,Ft=!0,cs=null,Bn=!1,n!==null&&(Sn[En++]=ii,Sn[En++]=si,Sn[En++]=os,ii=n.id,si=n.overflow,os=i),i=Xu(i,c.children),i.flags|=4096);return i}return f?(Ni(),f=c.fallback,w=i.mode,M=n.child,F=M.sibling,c=ni(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,F!==null?f=ni(F,f):(f=rs(f,w,r,null),f.flags|=2),f.return=i,c.return=i,c.sibling=f,i.child=c,c=f,f=i.child,w=n.child.memoizedState,w===null?w=Vu(r):(M=w.cachePool,M!==null?(F=Se._currentValue,M=M.parent!==F?{parent:F,pool:F}:M):M=gp(),w={baseLanes:w.baseLanes|r,cachePool:M}),f.memoizedState=w,f.childLanes=Yu(n,A,r),i.memoizedState=qu,c):(Oi(i),r=n.child,n=r.sibling,r=ni(r,{mode:"visible",children:c.children}),r.return=i,r.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=r,i.memoizedState=null,r)}function Xu(n,i){return i=rl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rl(n,i){return n=rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $u(n,i,r){return sa(i,n.child,null,r),n=Xu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Lg(n,i,r){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),du(n.return,i,r)}function Ku(n,i,r,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=r,m.tailMode=f)}function Dg(n,i,r){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Ne(n,i,c.children,r),c=Ee.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lg(n,r,i);else if(n.tag===19)Lg(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(V(Ee,c),f){case"forwards":for(r=i.child,f=null;r!==null;)n=r.alternate,n!==null&&nl(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Ku(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&nl(n)===null){i.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}Ku(i,!0,r,null,m);break;case"together":Ku(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ci(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),Bi|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(ir(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,r=ni(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=ni(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function Wu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Fo(n)))}function fA(n,i,r){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Ci(i,Se,n.memoizedState.cache),er();break;case 27:case 5:_t(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Ci(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Oi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Mg(n,i,r):(Oi(i),n=ci(n,i,r),n!==null?n.sibling:null);Oi(i);break;case 19:var f=(n.flags&128)!==0;if(c=(r&i.childLanes)!==0,c||(ir(n,i,r,!1),c=(r&i.childLanes)!==0),f){if(c)return Dg(n,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),V(Ee,Ee.current),c)break;return null;case 22:case 23:return i.lanes=0,_g(n,i,r);case 24:Ci(i,Se,n.memoizedState.cache)}return ci(n,i,r)}function Og(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ce=!0;else{if(!Wu(n,r)&&(i.flags&128)===0)return Ce=!1,fA(n,i,r);Ce=(n.flags&131072)!==0}else Ce=!1,Ft&&(i.flags&1048576)!==0&&lp(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var c=i.elementType,f=c._init;if(c=f(c._payload),i.type=c,typeof c=="function")au(c)?(n=gs(c,n),i.tag=1,i=Cg(null,i,c,n,r)):(i.tag=0,i=Gu(null,i,c,n,r));else{if(c!=null){if(f=c.$$typeof,f===D){i.tag=11,i=Sg(null,i,c,n,r);break t}else if(f===N){i.tag=14,i=Eg(null,i,c,n,r);break t}}throw i=rt(c)||c,Error(s(306,i,""))}}return i;case 0:return Gu(n,i,i.type,i.pendingProps,r);case 1:return c=i.type,f=gs(c,i.pendingProps),Cg(n,i,c,f,r);case 3:t:{if(bt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,vu(n,i),ur(i,c,null,r);var A=i.memoizedState;if(c=A.cache,Ci(i,Se,c),c!==m.cache&&fu(i,[Se],r,!0),cr(),c=A.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Rg(n,i,c,r);break t}else if(c!==f){f=vn(Error(s(424)),i),nr(f),i=Rg(n,i,c,r);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(oe=On(n.firstChild),Ve=i,Ft=!0,cs=null,Bn=!0,r=ug(i,null,c,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(er(),c===f){i=ci(n,i,r);break t}Ne(n,i,c,r)}i=i.child}return i;case 26:return al(n,i),n===null?(r=Im(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ft||(r=i.type,n=i.pendingProps,c=Al(ot.current).createElement(r),c[ze]=i,c[$e]=n,Pe(c,r,n),Te(c),i.stateNode=c):i.memoizedState=Im(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _t(i),n===null&&Ft&&(c=i.stateNode=Nm(i.type,i.pendingProps,ot.current),Ve=i,Bn=!0,f=oe,Ui(i.type)?(Lh=f,oe=On(c.firstChild)):oe=f),Ne(n,i,i.pendingProps.children,r),al(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ft&&((f=c=oe)&&(c=jA(c,i.type,i.pendingProps,Bn),c!==null?(i.stateNode=c,Ve=i,oe=On(c.firstChild),Bn=!1,f=!0):f=!1),f||us(i)),_t(i),f=i.type,m=i.pendingProps,A=n!==null?n.memoizedProps:null,c=m.children,Th(f,m)?c=null:A!==null&&Th(f,A)&&(i.flags|=32),i.memoizedState!==null&&(f=xu(n,i,aA,null,null,r),Or._currentValue=f),al(n,i),Ne(n,i,c,r),i.child;case 6:return n===null&&Ft&&((n=r=oe)&&(r=UA(r,i.pendingProps,Bn),r!==null?(i.stateNode=r,Ve=i,oe=null,n=!0):n=!1),n||us(i)),null;case 13:return Mg(n,i,r);case 4:return bt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=sa(i,null,c,r):Ne(n,i,c,r),i.child;case 11:return Sg(n,i,i.type,i.pendingProps,r);case 7:return Ne(n,i,i.pendingProps,r),i.child;case 8:return Ne(n,i,i.pendingProps.children,r),i.child;case 12:return Ne(n,i,i.pendingProps.children,r),i.child;case 10:return c=i.pendingProps,Ci(i,i.type,c.value),Ne(n,i,c.children,r),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,ds(i),f=Be(f),c=c(f),i.flags|=1,Ne(n,i,c,r),i.child;case 14:return Eg(n,i,i.type,i.pendingProps,r);case 15:return wg(n,i,i.type,i.pendingProps,r);case 19:return Dg(n,i,r);case 31:return c=i.pendingProps,r=i.mode,c={mode:c.mode,children:c.children},n===null?(r=rl(c,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=ni(n.child,c),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return _g(n,i,r);case 24:return ds(i),c=Be(Se),n===null?(f=mu(),f===null&&(f=Zt,m=pu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:c,cache:f},bu(i),Ci(i,Se,f)):((n.lanes&r)!==0&&(vu(n,i),ur(i,null,null,r),cr()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ci(i,Se,c)):(c=m.cache,Ci(i,Se,c),c!==f.cache&&fu(i,[Se],r,!0))),Ne(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ui(n){n.flags|=4}function Ng(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jm(i)){if(i=wn.current,i!==null&&((kt&4194048)===kt?Hn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==Hn))throw or=yu,mp;n.flags|=8192}}function ol(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?hf():536870912,n.lanes|=i,la|=i)}function yr(n,i){if(!Ft)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function se(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(i)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=r,i}function pA(n,i,r){var c=i.pendingProps;switch(cu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return r=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ri(Se),Pt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(tr(i)?ui(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hp())),se(i),null;case 26:return r=i.memoizedState,n===null?(ui(i),r!==null?(se(i),Ng(i,r)):(se(i),i.flags&=-16777217)):r?r!==n.memoizedState?(ui(i),se(i),Ng(i,r)):(se(i),i.flags&=-16777217):(n.memoizedProps!==c&&ui(i),se(i),i.flags&=-16777217),null;case 27:zt(i),r=ot.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ui(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return se(i),null}n=tt.current,tr(i)?cp(i):(n=Nm(f,c,r),i.stateNode=n,ui(i))}return se(i),null;case 5:if(zt(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ui(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(n=tt.current,tr(i))cp(i);else{switch(f=Al(ot.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(r,{is:c.is}):f.createElement(r)}}n[ze]=i,n[$e]=c;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(Pe(n,r,c),r){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ui(i)}}return se(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&ui(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=ot.current,tr(i)){if(n=i.stateNode,r=i.memoizedProps,c=null,f=Ve,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[ze]=i,n=!!(n.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Tm(n.nodeValue,r)),n||us(i)}else n=Al(n).createTextNode(c),n[ze]=i,i.stateNode=n}return se(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=tr(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ze]=i}else er(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),f=!1}else f=hp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(li(i),i):(li(i),null)}if(li(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=c!==null,n=n!==null&&n.memoizedState!==null,r){c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),ol(i,i.updateQueue),se(i),null;case 4:return Pt(),n===null&&Sh(i.stateNode.containerInfo),se(i),null;case 10:return ri(i.type),se(i),null;case 19:if(U(Ee),f=i.memoizedState,f===null)return se(i),null;if(c=(i.flags&128)!==0,m=f.rendering,m===null)if(c)yr(f,!1);else{if(le!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=nl(n),m!==null){for(i.flags|=128,yr(f,!1),n=m.updateQueue,i.updateQueue=n,ol(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)op(r,n),r=r.sibling;return V(Ee,Ee.current&1|2),i.child}n=n.sibling}f.tail!==null&&It()>ul&&(i.flags|=128,c=!0,yr(f,!1),i.lanes=4194304)}else{if(!c)if(n=nl(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,ol(i,n),yr(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ft)return se(i),null}else 2*It()-f.renderingStartTime>ul&&r!==536870912&&(i.flags|=128,c=!0,yr(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=It(),i.sibling=null,n=Ee.current,V(Ee,c?n&1|2:n&1),i):(se(i),null);case 22:case 23:return li(i),wu(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(r&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),r=i.updateQueue,r!==null&&ol(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==r&&(i.flags|=2048),n!==null&&U(fs),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),ri(Se),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function gA(n,i){switch(cu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ri(Se),Pt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return zt(i),null;case 13:if(li(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));er()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return U(Ee),null;case 4:return Pt(),null;case 10:return ri(i.type),null;case 22:case 23:return li(i),wu(),n!==null&&U(fs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ri(Se),null;case 25:return null;default:return null}}function kg(n,i){switch(cu(i),i.tag){case 3:ri(Se),Pt();break;case 26:case 27:case 5:zt(i);break;case 4:Pt();break;case 13:li(i);break;case 19:U(Ee);break;case 10:ri(i.type);break;case 22:case 23:li(i),wu(),n!==null&&U(fs);break;case 24:ri(Se)}}function br(n,i){try{var r=i.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&n)===n){c=void 0;var m=r.create,A=r.inst;c=m(),A.destroy=c}r=r.next}while(r!==f)}}catch(w){Wt(i,i.return,w)}}function ki(n,i,r){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var A=c.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,f=i;var M=r,F=w;try{F()}catch(K){Wt(f,M,K)}}}c=c.next}while(c!==m)}}catch(K){Wt(i,i.return,K)}}function Pg(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Ep(i,r)}catch(c){Wt(n,n.return,c)}}}function Ig(n,i,r){r.props=gs(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(c){Wt(n,i,c)}}function vr(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof r=="function"?n.refCleanup=r(c):r.current=c}}catch(f){Wt(n,i,f)}}function Fn(n,i){var r=n.ref,c=n.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Wt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Wt(n,i,f)}else r.current=null}function zg(n){var i=n.type,r=n.memoizedProps,c=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Wt(n,n.return,f)}}function Qu(n,i,r){try{var c=n.stateNode;IA(c,n.type,r,i),c[$e]=i}catch(f){Wt(n,n.return,f)}}function Bg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function Zu(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Bg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ju(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=vl));else if(c!==4&&(c===27&&Ui(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(Ju(n,i,r),n=n.sibling;n!==null;)Ju(n,i,r),n=n.sibling}function ll(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(c!==4&&(c===27&&Ui(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ll(n,i,r),n=n.sibling;n!==null;)ll(n,i,r),n=n.sibling}function Hg(n){var i=n.stateNode,r=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Pe(i,c,r),i[ze]=n,i[$e]=r}catch(m){Wt(n,n.return,m)}}var hi=!1,ue=!1,th=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,Re=null;function mA(n,i){if(n=n.containerInfo,_h=Tl,n=Qf(n),Zc(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var A=0,w=-1,M=-1,F=0,K=0,J=n,G=null;e:for(;;){for(var q;J!==r||f!==0&&J.nodeType!==3||(w=A+f),J!==m||c!==0&&J.nodeType!==3||(M=A+c),J.nodeType===3&&(A+=J.nodeValue.length),(q=J.firstChild)!==null;)G=J,J=q;for(;;){if(J===n)break e;if(G===r&&++F===f&&(w=A),G===m&&++K===c&&(M=A),(q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=q}r=w===-1||M===-1?null:{start:w,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(xh={focusedElem:n,selectionRange:r},Tl=!1,Re=i;Re!==null;)if(i=Re,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Re=n;else for(;Re!==null;){switch(i=Re,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var vt=gs(r.type,f,r.elementType===r.type);n=c.getSnapshotBeforeUpdate(vt,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(gt){Wt(r,r.return,gt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Rh(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Re=n;break}Re=i.return}}function jg(n,i,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(n,r),c&4&&br(5,r);break;case 1:if(Pi(n,r),c&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(A){Wt(r,r.return,A)}else{var f=gs(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Wt(r,r.return,A)}}c&64&&Pg(r),c&512&&vr(r,r.return);break;case 3:if(Pi(n,r),c&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Ep(n,i)}catch(A){Wt(r,r.return,A)}}break;case 27:i===null&&c&4&&Hg(r);case 26:case 5:Pi(n,r),i===null&&c&4&&zg(r),c&512&&vr(r,r.return);break;case 12:Pi(n,r);break;case 13:Pi(n,r),c&4&&qg(n,r),c&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=xA.bind(null,r),GA(n,r))));break;case 22:if(c=r.memoizedState!==null||hi,!c){i=i!==null&&i.memoizedState!==null||ue,f=hi;var m=ue;hi=c,(ue=i)&&!m?Ii(n,r,(r.subtreeFlags&8772)!==0):Pi(n,r),hi=f,ue=m}break;case 30:break;default:Pi(n,r)}}function Ug(n){var i=n.alternate;i!==null&&(n.alternate=null,Ug(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Nc(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,Qe=!1;function di(n,i,r){for(r=r.child;r!==null;)Gg(n,i,r),r=r.sibling}function Gg(n,i,r){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ts,r)}catch{}switch(r.tag){case 26:ue||Fn(r,i),di(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Fn(r,i);var c=ee,f=Qe;Ui(r.type)&&(ee=r.stateNode,Qe=!1),di(n,i,r),Rr(r.stateNode),ee=c,Qe=f;break;case 5:ue||Fn(r,i);case 6:if(c=ee,f=Qe,ee=null,di(n,i,r),ee=c,Qe=f,ee!==null)if(Qe)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(m){Wt(r,i,m)}else try{ee.removeChild(r.stateNode)}catch(m){Wt(r,i,m)}break;case 18:ee!==null&&(Qe?(n=ee,Dm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Ir(n)):Dm(ee,r.stateNode));break;case 4:c=ee,f=Qe,ee=r.stateNode.containerInfo,Qe=!0,di(n,i,r),ee=c,Qe=f;break;case 0:case 11:case 14:case 15:ue||ki(2,r,i),ue||ki(4,r,i),di(n,i,r);break;case 1:ue||(Fn(r,i),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Ig(r,i,c)),di(n,i,r);break;case 21:di(n,i,r);break;case 22:ue=(c=ue)||r.memoizedState!==null,di(n,i,r),ue=c;break;default:di(n,i,r)}}function qg(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ir(n)}catch(r){Wt(i,i.return,r)}}function yA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Fg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Fg),i;default:throw Error(s(435,n.tag))}}function eh(n,i){var r=yA(n);i.forEach(function(c){var f=TA.bind(null,n,c);r.has(c)||(r.add(c),c.then(f,f))})}function on(n,i){var r=i.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],m=n,A=i,w=A;t:for(;w!==null;){switch(w.tag){case 27:if(Ui(w.type)){ee=w.stateNode,Qe=!1;break t}break;case 5:ee=w.stateNode,Qe=!1;break t;case 3:case 4:ee=w.stateNode.containerInfo,Qe=!0;break t}w=w.return}if(ee===null)throw Error(s(160));Gg(m,A,f),ee=null,Qe=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vg(i,n),i=i.sibling}var Dn=null;function Vg(n,i){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:on(i,n),ln(n),c&4&&(ki(3,n,n.return),br(3,n),ki(5,n,n.return));break;case 1:on(i,n),ln(n),c&512&&(ue||r===null||Fn(r,r.return)),c&64&&hi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Dn;if(on(i,n),ln(n),c&512&&(ue||r===null||Fn(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=n.memoizedState,r===null)if(c===null)if(n.stateNode===null){t:{c=n.type,r=n.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ga]||m[ze]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Pe(m,c,r),m[ze]=n,Te(m),c=m;break t;case"link":var A=Hm("link","href",f).get(c+(r.href||""));if(A){for(var w=0;w<A.length;w++)if(m=A[w],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){A.splice(w,1);break e}}m=f.createElement(c),Pe(m,c,r),f.head.appendChild(m);break;case"meta":if(A=Hm("meta","content",f).get(c+(r.content||""))){for(w=0;w<A.length;w++)if(m=A[w],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){A.splice(w,1);break e}}m=f.createElement(c),Pe(m,c,r),f.head.appendChild(m);break;default:throw Error(s(468,c))}m[ze]=n,Te(m),c=m}n.stateNode=c}else Fm(f,n.type,n.stateNode);else n.stateNode=Bm(f,c,n.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?Fm(f,n.type,n.stateNode):Bm(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Qu(n,n.memoizedProps,r.memoizedProps)}break;case 27:on(i,n),ln(n),c&512&&(ue||r===null||Fn(r,r.return)),r!==null&&c&4&&Qu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(on(i,n),ln(n),c&512&&(ue||r===null||Fn(r,r.return)),n.flags&32){f=n.stateNode;try{Fs(f,"")}catch(q){Wt(n,n.return,q)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,Qu(n,f,r!==null?r.memoizedProps:f)),c&1024&&(th=!0);break;case 6:if(on(i,n),ln(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,r=n.stateNode;try{r.nodeValue=c}catch(q){Wt(n,n.return,q)}}break;case 3:if(wl=null,f=Dn,Dn=Sl(i.containerInfo),on(i,n),Dn=f,ln(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Ir(i.containerInfo)}catch(q){Wt(n,n.return,q)}th&&(th=!1,Yg(n));break;case 4:c=Dn,Dn=Sl(n.stateNode.containerInfo),on(i,n),ln(n),Dn=c;break;case 12:on(i,n),ln(n);break;case 13:on(i,n),ln(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oh=It()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,eh(n,c)));break;case 22:f=n.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,F=hi,K=ue;if(hi=F||f,ue=K||M,on(i,n),ue=K,hi=F,ln(n),c&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||M||hi||ue||ms(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(m=M.stateNode,f)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{w=M.stateNode;var J=M.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(q){Wt(M,M.return,q)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(q){Wt(M,M.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,eh(n,r))));break;case 19:on(i,n),ln(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,eh(n,c)));break;case 30:break;case 21:break;default:on(i,n),ln(n)}}function ln(n){var i=n.flags;if(i&2){try{for(var r,c=n.return;c!==null;){if(Bg(c)){r=c;break}c=c.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,m=Zu(n);ll(n,m,f);break;case 5:var A=r.stateNode;r.flags&32&&(Fs(A,""),r.flags&=-33);var w=Zu(n);ll(n,w,A);break;case 3:case 4:var M=r.stateNode.containerInfo,F=Zu(n);Ju(n,F,M);break;default:throw Error(s(161))}}catch(K){Wt(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Yg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Yg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Pi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jg(n,i.alternate,i),i=i.sibling}function ms(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ki(4,i,i.return),ms(i);break;case 1:Fn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Ig(i,i.return,r),ms(i);break;case 27:Rr(i.stateNode);case 26:case 5:Fn(i,i.return),ms(i);break;case 22:i.memoizedState===null&&ms(i);break;case 30:ms(i);break;default:ms(i)}n=n.sibling}}function Ii(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,A=m.flags;switch(m.tag){case 0:case 11:case 15:Ii(f,m,r),br(4,m);break;case 1:if(Ii(f,m,r),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Wt(c,c.return,F)}if(c=m,f=c.updateQueue,f!==null){var w=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Sp(M[f],w)}catch(F){Wt(c,c.return,F)}}r&&A&64&&Pg(m),vr(m,m.return);break;case 27:Hg(m);case 26:case 5:Ii(f,m,r),r&&c===null&&A&4&&zg(m),vr(m,m.return);break;case 12:Ii(f,m,r);break;case 13:Ii(f,m,r),r&&A&4&&qg(f,m);break;case 22:m.memoizedState===null&&Ii(f,m,r),vr(m,m.return);break;case 30:break;default:Ii(f,m,r)}i=i.sibling}}function nh(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&sr(r))}function ih(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&sr(n))}function jn(n,i,r,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xg(n,i,r,c),i=i.sibling}function Xg(n,i,r,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:jn(n,i,r,c),f&2048&&br(9,i);break;case 1:jn(n,i,r,c);break;case 3:jn(n,i,r,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&sr(n)));break;case 12:if(f&2048){jn(n,i,r,c),n=i.stateNode;try{var m=i.memoizedProps,A=m.id,w=m.onPostCommit;typeof w=="function"&&w(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Wt(i,i.return,M)}}else jn(n,i,r,c);break;case 13:jn(n,i,r,c);break;case 23:break;case 22:m=i.stateNode,A=i.alternate,i.memoizedState!==null?m._visibility&2?jn(n,i,r,c):Ar(n,i):m._visibility&2?jn(n,i,r,c):(m._visibility|=2,aa(n,i,r,c,(i.subtreeFlags&10256)!==0)),f&2048&&nh(A,i);break;case 24:jn(n,i,r,c),f&2048&&ih(i.alternate,i);break;default:jn(n,i,r,c)}}function aa(n,i,r,c,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,A=i,w=r,M=c,F=A.flags;switch(A.tag){case 0:case 11:case 15:aa(m,A,w,M,f),br(8,A);break;case 23:break;case 22:var K=A.stateNode;A.memoizedState!==null?K._visibility&2?aa(m,A,w,M,f):Ar(m,A):(K._visibility|=2,aa(m,A,w,M,f)),f&&F&2048&&nh(A.alternate,A);break;case 24:aa(m,A,w,M,f),f&&F&2048&&ih(A.alternate,A);break;default:aa(m,A,w,M,f)}i=i.sibling}}function Ar(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,c=i,f=c.flags;switch(c.tag){case 22:Ar(r,c),f&2048&&nh(c.alternate,c);break;case 24:Ar(r,c),f&2048&&ih(c.alternate,c);break;default:Ar(r,c)}i=i.sibling}}var Sr=8192;function ra(n){if(n.subtreeFlags&Sr)for(n=n.child;n!==null;)$g(n),n=n.sibling}function $g(n){switch(n.tag){case 26:ra(n),n.flags&Sr&&n.memoizedState!==null&&nS(Dn,n.memoizedState,n.memoizedProps);break;case 5:ra(n);break;case 3:case 4:var i=Dn;Dn=Sl(n.stateNode.containerInfo),ra(n),Dn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Sr,Sr=16777216,ra(n),Sr=i):ra(n));break;default:ra(n)}}function Kg(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Er(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];Re=c,Qg(c,n)}Kg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wg(n),n=n.sibling}function Wg(n){switch(n.tag){case 0:case 11:case 15:Er(n),n.flags&2048&&ki(9,n,n.return);break;case 3:Er(n);break;case 12:Er(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,cl(n)):Er(n);break;default:Er(n)}}function cl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];Re=c,Qg(c,n)}Kg(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ki(8,i,i.return),cl(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,cl(i));break;default:cl(i)}n=n.sibling}}function Qg(n,i){for(;Re!==null;){var r=Re;switch(r.tag){case 0:case 11:case 15:ki(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:sr(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Re=c;else t:for(r=n;Re!==null;){c=Re;var f=c.sibling,m=c.return;if(Ug(c),c===r){Re=null;break t}if(f!==null){f.return=m,Re=f;break t}Re=m}}}var bA={getCacheForType:function(n){var i=Be(Se),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},vA=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Zt=null,Mt=null,kt=0,Gt=0,cn=null,zi=!1,oa=!1,sh=!1,fi=0,le=0,Bi=0,ys=0,ah=0,_n=0,la=0,wr=null,Ze=null,rh=!1,oh=0,ul=1/0,hl=null,Hi=null,ke=0,Fi=null,ca=null,ua=0,lh=0,ch=null,Zg=null,_r=0,uh=null;function un(){if((Ut&2)!==0&&kt!==0)return kt&-kt;if(O.T!==null){var n=Qs;return n!==0?n:yh()}return pf()}function Jg(){_n===0&&(_n=(kt&536870912)===0||Ft?uf():536870912);var n=wn.current;return n!==null&&(n.flags|=32),_n}function hn(n,i,r){(n===Zt&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(ha(n,0),ji(n,kt,_n,!1)),Ua(n,r),((Ut&2)===0||n!==Zt)&&(n===Zt&&((Ut&2)===0&&(ys|=r),le===4&&ji(n,kt,_n,!1)),Un(n))}function tm(n,i,r){if((Ut&6)!==0)throw Error(s(327));var c=!r&&(i&124)===0&&(i&n.expiredLanes)===0||ja(n,i),f=c?EA(n,i):fh(n,i,!0),m=c;do{if(f===0){oa&&!c&&ji(n,i,0,!1);break}else{if(r=n.current.alternate,m&&!AA(r)){f=fh(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var w=n;f=wr;var M=w.current.memoizedState.isDehydrated;if(M&&(ha(w,A).flags|=256),A=fh(w,A,!1),A!==2){if(sh&&!M){w.errorRecoveryDisabledLanes|=m,ys|=m,f=4;break t}m=Ze,Ze=f,m!==null&&(Ze===null?Ze=m:Ze.push.apply(Ze,m))}f=A}if(m=!1,f!==2)continue}}if(f===1){ha(n,0),ji(n,i,0,!0);break}t:{switch(c=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ji(c,i,_n,!zi);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=oh+300-It(),10<f)){if(ji(c,i,_n,!zi),Eo(c,0,!0)!==0)break t;c.timeoutHandle=Mm(em.bind(null,c,r,Ze,hl,rh,i,_n,ys,la,zi,m,2,-0,0),f);break t}em(c,r,Ze,hl,rh,i,_n,ys,la,zi,m,0,-0,0)}}break}while(!0);Un(n)}function em(n,i,r,c,f,m,A,w,M,F,K,J,G,q){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Dr={stylesheets:null,count:0,unsuspend:eS},$g(i),J=iS(),J!==null)){n.cancelPendingCommit=J(lm.bind(null,n,i,m,r,c,f,A,w,M,K,1,G,q)),ji(n,m,A,!F);return}lm(n,i,m,r,c,f,A,w,M)}function AA(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],m=f.getSnapshot;f=f.value;try{if(!an(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(n,i,r,c){i&=~ah,i&=~ys,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-xe(f),A=1<<m;c[m]=-1,f&=~A}r!==0&&df(n,r,i)}function dl(){return(Ut&6)===0?(xr(0),!1):!0}function hh(){if(Mt!==null){if(Gt===0)var n=Mt.return;else n=Mt,ai=hs=null,Ru(n),ia=null,gr=0,n=Mt;for(;n!==null;)kg(n.alternate,n),n=n.return;Mt=null}}function ha(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,BA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),hh(),Zt=n,Mt=r=ni(n.current,null),kt=i,Gt=0,cn=null,zi=!1,oa=ja(n,i),sh=!1,la=_n=ah=ys=Bi=le=0,Ze=wr=null,rh=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-xe(c),m=1<<f;i|=n[f],c&=~m}return fi=i,ko(),r}function nm(n,i){Ct=null,O.H=Jo,i===rr||i===Go?(i=vp(),Gt=3):i===mp?(i=vp(),Gt=4):Gt=i===Ag?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,Mt===null&&(le=1,sl(n,vn(i,n.current)))}function im(){var n=O.H;return O.H=Jo,n===null?Jo:n}function sm(){var n=O.A;return O.A=bA,n}function dh(){le=4,zi||(kt&4194048)!==kt&&wn.current!==null||(oa=!0),(Bi&134217727)===0&&(ys&134217727)===0||Zt===null||ji(Zt,kt,_n,!1)}function fh(n,i,r){var c=Ut;Ut|=2;var f=im(),m=sm();(Zt!==n||kt!==i)&&(hl=null,ha(n,i)),i=!1;var A=le;t:do try{if(Gt!==0&&Mt!==null){var w=Mt,M=cn;switch(Gt){case 8:hh(),A=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var F=Gt;if(Gt=0,cn=null,da(n,w,M,F),r&&oa){A=0;break t}break;default:F=Gt,Gt=0,cn=null,da(n,w,M,F)}}SA(),A=le;break}catch(K){nm(n,K)}while(!0);return i&&n.shellSuspendCounter++,ai=hs=null,Ut=c,O.H=f,O.A=m,Mt===null&&(Zt=null,kt=0,ko()),A}function SA(){for(;Mt!==null;)am(Mt)}function EA(n,i){var r=Ut;Ut|=2;var c=im(),f=sm();Zt!==n||kt!==i?(hl=null,ul=It()+500,ha(n,i)):oa=ja(n,i);t:do try{if(Gt!==0&&Mt!==null){i=Mt;var m=cn;e:switch(Gt){case 1:Gt=0,cn=null,da(n,i,m,1);break;case 2:case 9:if(yp(m)){Gt=0,cn=null,rm(i);break}i=function(){Gt!==2&&Gt!==9||Zt!==n||(Gt=7),Un(n)},m.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:yp(m)?(Gt=0,cn=null,rm(i)):(Gt=0,cn=null,da(n,i,m,7));break;case 5:var A=null;switch(Mt.tag){case 26:A=Mt.memoizedState;case 5:case 27:var w=Mt;if(!A||jm(A)){Gt=0,cn=null;var M=w.sibling;if(M!==null)Mt=M;else{var F=w.return;F!==null?(Mt=F,fl(F)):Mt=null}break e}}Gt=0,cn=null,da(n,i,m,5);break;case 6:Gt=0,cn=null,da(n,i,m,6);break;case 8:hh(),le=6;break t;default:throw Error(s(462))}}wA();break}catch(K){nm(n,K)}while(!0);return ai=hs=null,O.H=c,O.A=f,Ut=r,Mt!==null?0:(Zt=null,kt=0,ko(),le)}function wA(){for(;Mt!==null&&!Et();)am(Mt)}function am(n){var i=Og(n.alternate,n,fi);n.memoizedProps=n.pendingProps,i===null?fl(n):Mt=i}function rm(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=Tg(r,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Tg(r,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Ru(i);default:kg(r,i),i=Mt=op(i,fi),i=Og(r,i,fi)}n.memoizedProps=n.pendingProps,i===null?fl(n):Mt=i}function da(n,i,r,c){ai=hs=null,Ru(i),ia=null,gr=0;var f=i.return;try{if(dA(n,f,i,r,kt)){le=1,sl(n,vn(r,n.current)),Mt=null;return}}catch(m){if(f!==null)throw Mt=f,m;le=1,sl(n,vn(r,n.current)),Mt=null;return}i.flags&32768?(Ft||c===1?n=!0:oa||(kt&536870912)!==0?n=!1:(zi=n=!0,(c===2||c===9||c===3||c===6)&&(c=wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),om(i,n)):fl(i)}function fl(n){var i=n;do{if((i.flags&32768)!==0){om(i,zi);return}n=i.return;var r=pA(i.alternate,i,fi);if(r!==null){Mt=r;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=n}while(i!==null);le===0&&(le=5)}function om(n,i){do{var r=gA(n.alternate,n);if(r!==null){r.flags&=32767,Mt=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=r}while(n!==null);le=6,Mt=null}function lm(n,i,r,c,f,m,A,w,M){n.cancelPendingCommit=null;do pl();while(ke!==0);if((Ut&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=iu,e0(n,r,m,A,w,M),n===Zt&&(Mt=Zt=null,kt=0),ca=i,Fi=n,ua=r,lh=m,ch=f,Zg=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,CA(_e,function(){return fm(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=O.T,O.T=null,f=H.p,H.p=2,A=Ut,Ut|=4;try{mA(n,i,r)}finally{Ut=A,H.p=f,O.T=c}}ke=1,cm(),um(),hm()}}function cm(){if(ke===1){ke=0;var n=Fi,i=ca,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var c=H.p;H.p=2;var f=Ut;Ut|=4;try{Vg(i,n);var m=xh,A=Qf(n.containerInfo),w=m.focusedElem,M=m.selectionRange;if(A!==w&&w&&w.ownerDocument&&Wf(w.ownerDocument.documentElement,w)){if(M!==null&&Zc(w)){var F=M.start,K=M.end;if(K===void 0&&(K=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(K,w.value.length);else{var J=w.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var q=G.getSelection(),vt=w.textContent.length,gt=Math.min(M.start,vt),$t=M.end===void 0?gt:Math.min(M.end,vt);!q.extend&&gt>$t&&(A=$t,$t=gt,gt=A);var z=Kf(w,gt),k=Kf(w,$t);if(z&&k&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var B=J.createRange();B.setStart(z.node,z.offset),q.removeAllRanges(),gt>$t?(q.addRange(B),q.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),q.addRange(B))}}}}for(J=[],q=w;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<J.length;w++){var W=J[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Tl=!!_h,xh=_h=null}finally{Ut=f,H.p=c,O.T=r}}n.current=i,ke=2}}function um(){if(ke===2){ke=0;var n=Fi,i=ca,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var c=H.p;H.p=2;var f=Ut;Ut|=4;try{jg(n,i.alternate,i)}finally{Ut=f,H.p=c,O.T=r}}ke=3}}function hm(){if(ke===4||ke===3){ke=0,Ot();var n=Fi,i=ca,r=ua,c=Zg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,ca=Fi=null,dm(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Hi=null),Dc(r),i=i.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ts,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=O.T,f=H.p,H.p=2,O.T=null;try{for(var m=n.onRecoverableError,A=0;A<c.length;A++){var w=c[A];m(w.value,{componentStack:w.stack})}}finally{O.T=i,H.p=f}}(ua&3)!==0&&pl(),Un(n),f=n.pendingLanes,(r&4194090)!==0&&(f&42)!==0?n===uh?_r++:(_r=0,uh=n):_r=0,xr(0)}}function dm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,sr(i)))}function pl(n){return cm(),um(),hm(),fm()}function fm(){if(ke!==5)return!1;var n=Fi,i=lh;lh=0;var r=Dc(ua),c=O.T,f=H.p;try{H.p=32>r?32:r,O.T=null,r=ch,ch=null;var m=Fi,A=ua;if(ke=0,ca=Fi=null,ua=0,(Ut&6)!==0)throw Error(s(331));var w=Ut;if(Ut|=4,Wg(m.current),Xg(m,m.current,A,r),Ut=w,xr(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ts,m)}catch{}return!0}finally{H.p=f,O.T=c,dm(n,i)}}function pm(n,i,r){i=vn(r,i),i=Uu(n.stateNode,i,2),n=Li(n,i,2),n!==null&&(Ua(n,2),Un(n))}function Wt(n,i,r){if(n.tag===3)pm(n,n,r);else for(;i!==null;){if(i.tag===3){pm(i,n,r);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hi===null||!Hi.has(c))){n=vn(r,n),r=bg(2),c=Li(i,r,2),c!==null&&(vg(r,c,i,n),Ua(c,2),Un(c));break}}i=i.return}}function ph(n,i,r){var c=n.pingCache;if(c===null){c=n.pingCache=new vA;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(r)||(sh=!0,f.add(r),n=_A.bind(null,n,i,r),i.then(n,n))}function _A(n,i,r){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Zt===n&&(kt&r)===r&&(le===4||le===3&&(kt&62914560)===kt&&300>It()-oh?(Ut&2)===0&&ha(n,0):ah|=r,la===kt&&(la=0)),Un(n)}function gm(n,i){i===0&&(i=hf()),n=Xs(n,i),n!==null&&(Ua(n,i),Un(n))}function xA(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),gm(n,r)}function TA(n,i){var r=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),gm(n,r)}function CA(n,i){return qt(n,i)}var gl=null,fa=null,gh=!1,ml=!1,mh=!1,bs=0;function Un(n){n!==fa&&n.next===null&&(fa===null?gl=fa=n:fa=fa.next=n),ml=!0,gh||(gh=!0,MA())}function xr(n,i){if(!mh&&ml){mh=!0;do for(var r=!1,c=gl;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var A=c.suspendedLanes,w=c.pingedLanes;m=(1<<31-xe(42|n)+1)-1,m&=f&~(A&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,vm(c,m))}else m=kt,m=Eo(c,c===Zt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ja(c,m)||(r=!0,vm(c,m));c=c.next}while(r);mh=!1}}function RA(){mm()}function mm(){ml=gh=!1;var n=0;bs!==0&&(zA()&&(n=bs),bs=0);for(var i=It(),r=null,c=gl;c!==null;){var f=c.next,m=ym(c,i);m===0?(c.next=null,r===null?gl=f:r.next=f,f===null&&(fa=r)):(r=c,(n!==0||(m&3)!==0)&&(ml=!0)),c=f}xr(n)}function ym(n,i){for(var r=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var A=31-xe(m),w=1<<A,M=f[A];M===-1?((w&r)===0||(w&c)!==0)&&(f[A]=t0(w,i)):M<=i&&(n.expiredLanes|=w),m&=~w}if(i=Zt,r=kt,r=Eo(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,r===0||n===i&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Tt(c),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||ja(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(c!==null&&Tt(c),Dc(r)){case 2:case 8:r=_i;break;case 32:r=_e;break;case 268435456:r=Jn;break;default:r=_e}return c=bm.bind(null,n),r=qt(r,c),n.callbackPriority=i,n.callbackNode=r,i}return c!==null&&c!==null&&Tt(c),n.callbackPriority=2,n.callbackNode=null,2}function bm(n,i){if(ke!==0&&ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(pl()&&n.callbackNode!==r)return null;var c=kt;return c=Eo(n,n===Zt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(tm(n,c,i),ym(n,It()),n.callbackNode!=null&&n.callbackNode===r?bm.bind(null,n):null)}function vm(n,i){if(pl())return null;tm(n,i,!0)}function MA(){HA(function(){(Ut&6)!==0?qt(nn,RA):mm()})}function yh(){return bs===0&&(bs=uf()),bs}function Am(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Co(""+n)}function Sm(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function LA(n,i,r,c,f){if(i==="submit"&&r&&r.stateNode===f){var m=Am((f[$e]||null).action),A=c.submitter;A&&(i=(i=A[$e]||null)?Am(i.formAction):A.getAttribute("formAction"),i!==null&&(m=i,A=null));var w=new Do("action","action",null,c,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var M=A?Sm(f,A):new FormData(f);zu(r,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(w.preventDefault(),M=A?Sm(f,A):new FormData(f),zu(r,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var bh=0;bh<nu.length;bh++){var vh=nu[bh],DA=vh.toLowerCase(),OA=vh[0].toUpperCase()+vh.slice(1);Ln(DA,"on"+OA)}Ln(tp,"onAnimationEnd"),Ln(ep,"onAnimationIteration"),Ln(np,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(K0,"onTransitionRun"),Ln(W0,"onTransitionStart"),Ln(Q0,"onTransitionCancel"),Ln(ip,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function Em(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],f=c.event;c=c.listeners;t:{var m=void 0;if(i)for(var A=c.length-1;0<=A;A--){var w=c[A],M=w.instance,F=w.currentTarget;if(w=w.listener,M!==m&&f.isPropagationStopped())break t;m=w,f.currentTarget=F;try{m(f)}catch(K){il(K)}f.currentTarget=null,m=M}else for(A=0;A<c.length;A++){if(w=c[A],M=w.instance,F=w.currentTarget,w=w.listener,M!==m&&f.isPropagationStopped())break t;m=w,f.currentTarget=F;try{m(f)}catch(K){il(K)}f.currentTarget=null,m=M}}}}function Lt(n,i){var r=i[Oc];r===void 0&&(r=i[Oc]=new Set);var c=n+"__bubble";r.has(c)||(wm(i,n,2,!1),r.add(c))}function Ah(n,i,r){var c=0;i&&(c|=4),wm(r,n,c,i)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Sh(n){if(!n[yl]){n[yl]=!0,mf.forEach(function(r){r!=="selectionchange"&&(NA.has(r)||Ah(r,!1,n),Ah(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[yl]||(i[yl]=!0,Ah("selectionchange",!1,i))}}function wm(n,i,r,c){switch(Xm(i)){case 2:var f=rS;break;case 8:f=oS;break;default:f=Ph}r=f.bind(null,i,r,n),f=void 0,!Gc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,r,{capture:!0,passive:f}):n.addEventListener(i,r,!0):f!==void 0?n.addEventListener(i,r,{passive:f}):n.addEventListener(i,r,!1)}function Eh(n,i,r,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var w=c.stateNode.containerInfo;if(w===f)break;if(A===4)for(A=c.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;w!==null;){if(A=ks(w),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){c=m=A;continue t}w=w.parentNode}}c=c.return}Lf(function(){var F=m,K=jc(r),J=[];t:{var G=sp.get(n);if(G!==void 0){var q=Do,vt=n;switch(n){case"keypress":if(Mo(r)===0)break t;case"keydown":case"keyup":q=C0;break;case"focusin":vt="focus",q=Xc;break;case"focusout":vt="blur",q=Xc;break;case"beforeblur":case"afterblur":q=Xc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=L0;break;case tp:case ep:case np:q=b0;break;case ip:q=O0;break;case"scroll":case"scrollend":q=f0;break;case"wheel":q=k0;break;case"copy":case"cut":case"paste":q=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pf;break;case"toggle":case"beforetoggle":q=I0}var gt=(i&4)!==0,$t=!gt&&(n==="scroll"||n==="scrollend"),z=gt?G!==null?G+"Capture":null:G;gt=[];for(var k=F,B;k!==null;){var W=k;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||z===null||(W=Va(k,z),W!=null&&gt.push(Cr(k,W,B))),$t)break;k=k.return}0<gt.length&&(G=new q(G,vt,null,r,K),J.push({event:G,listeners:gt}))}}if((i&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",G&&r!==Fc&&(vt=r.relatedTarget||r.fromElement)&&(ks(vt)||vt[Ns]))break t;if((q||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,q?(vt=r.relatedTarget||r.toElement,q=F,vt=vt?ks(vt):null,vt!==null&&($t=o(vt),gt=vt.tag,vt!==$t||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(q=null,vt=F),q!==vt)){if(gt=Nf,W="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(gt=Pf,W="onPointerLeave",z="onPointerEnter",k="pointer"),$t=q==null?G:qa(q),B=vt==null?G:qa(vt),G=new gt(W,k+"leave",q,r,K),G.target=$t,G.relatedTarget=B,W=null,ks(K)===F&&(gt=new gt(z,k+"enter",vt,r,K),gt.target=B,gt.relatedTarget=$t,W=gt),$t=W,q&&vt)e:{for(gt=q,z=vt,k=0,B=gt;B;B=pa(B))k++;for(B=0,W=z;W;W=pa(W))B++;for(;0<k-B;)gt=pa(gt),k--;for(;0<B-k;)z=pa(z),B--;for(;k--;){if(gt===z||z!==null&&gt===z.alternate)break e;gt=pa(gt),z=pa(z)}gt=null}else gt=null;q!==null&&_m(J,G,q,gt,!1),vt!==null&&$t!==null&&_m(J,$t,vt,gt,!0)}}t:{if(G=F?qa(F):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var ut=Gf;else if(jf(G))if(qf)ut=Y0;else{ut=q0;var Rt=G0}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Hc(F.elementType)&&(ut=Gf):ut=V0;if(ut&&(ut=ut(n,F))){Uf(J,ut,r,K);break t}Rt&&Rt(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Bc(G,"number",G.value)}switch(Rt=F?qa(F):window,n){case"focusin":(jf(Rt)||Rt.contentEditable==="true")&&(qs=Rt,Jc=F,Ja=null);break;case"focusout":Ja=Jc=qs=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Zf(J,r,K);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Zf(J,r,K)}var dt;if(Kc)t:{switch(n){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Gs?Hf(n,r)&&(mt="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(If&&r.locale!=="ko"&&(Gs||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Gs&&(dt=Df()):(Ti=K,qc="value"in Ti?Ti.value:Ti.textContent,Gs=!0)),Rt=bl(F,mt),0<Rt.length&&(mt=new kf(mt,n,null,r,K),J.push({event:mt,listeners:Rt}),dt?mt.data=dt:(dt=Ff(r),dt!==null&&(mt.data=dt)))),(dt=B0?H0(n,r):F0(n,r))&&(mt=bl(F,"onBeforeInput"),0<mt.length&&(Rt=new kf("onBeforeInput","beforeinput",null,r,K),J.push({event:Rt,listeners:mt}),Rt.data=dt)),LA(J,n,F,r,K)}Em(J,i)})}function Cr(n,i,r){return{instance:n,listener:i,currentTarget:r}}function bl(n,i){for(var r=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Va(n,r),f!=null&&c.unshift(Cr(n,f,m)),f=Va(n,i),f!=null&&c.push(Cr(n,f,m))),n.tag===3)return c;n=n.return}return[]}function pa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _m(n,i,r,c,f){for(var m=i._reactName,A=[];r!==null&&r!==c;){var w=r,M=w.alternate,F=w.stateNode;if(w=w.tag,M!==null&&M===c)break;w!==5&&w!==26&&w!==27||F===null||(M=F,f?(F=Va(r,m),F!=null&&A.unshift(Cr(r,F,M))):f||(F=Va(r,m),F!=null&&A.push(Cr(r,F,M)))),r=r.return}A.length!==0&&n.push({event:i,listeners:A})}var kA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function xm(n){return(typeof n=="string"?n:""+n).replace(kA,`
`).replace(PA,"")}function Tm(n,i){return i=xm(i),xm(n)===i}function vl(){}function Xt(n,i,r,c,f,m){switch(r){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Fs(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Fs(n,""+c);break;case"className":_o(n,"class",c);break;case"tabIndex":_o(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_o(n,r,c);break;case"style":Rf(n,c,m);break;case"data":if(i!=="object"){_o(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Co(""+c),n.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&Xt(n,i,"name",f.name,f,null),Xt(n,i,"formEncType",f.formEncType,f,null),Xt(n,i,"formMethod",f.formMethod,f,null),Xt(n,i,"formTarget",f.formTarget,f,null)):(Xt(n,i,"encType",f.encType,f,null),Xt(n,i,"method",f.method,f,null),Xt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Co(""+c),n.setAttribute(r,c);break;case"onClick":c!=null&&(n.onclick=vl);break;case"onScroll":c!=null&&Lt("scroll",n);break;case"onScrollEnd":c!=null&&Lt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}r=Co(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""+c):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":c===!0?n.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,c):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(r,c):n.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(r):n.setAttribute(r,c);break;case"popover":Lt("beforetoggle",n),Lt("toggle",n),wo(n,"popover",c);break;case"xlinkActuate":ti(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ti(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ti(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ti(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ti(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ti(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ti(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ti(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ti(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=h0.get(r)||r,wo(n,r,c))}}function wh(n,i,r,c,f,m){switch(r){case"style":Rf(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof c=="string"?Fs(n,c):(typeof c=="number"||typeof c=="bigint")&&Fs(n,""+c);break;case"onScroll":c!=null&&Lt("scroll",n);break;case"onScrollEnd":c!=null&&Lt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=n[$e]||null,m=m!=null?m[r]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,c,f);break t}r in n?n[r]=c:c===!0?n.setAttribute(r,""):wo(n,r,c)}}}function Pe(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",n),Lt("load",n);var c=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var A=r[m];if(A!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(n,i,m,A,r,null)}}f&&Xt(n,i,"srcSet",r.srcSet,r,null),c&&Xt(n,i,"src",r.src,r,null);return;case"input":Lt("invalid",n);var w=m=A=f=null,M=null,F=null;for(c in r)if(r.hasOwnProperty(c)){var K=r[c];if(K!=null)switch(c){case"name":f=K;break;case"type":A=K;break;case"checked":M=K;break;case"defaultChecked":F=K;break;case"value":m=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Xt(n,i,c,K,r,null)}}_f(n,m,w,M,F,A,f,!1),xo(n);return;case"select":Lt("invalid",n),c=A=m=null;for(f in r)if(r.hasOwnProperty(f)&&(w=r[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":A=w;break;case"multiple":c=w;default:Xt(n,i,f,w,r,null)}i=m,r=A,n.multiple=!!c,i!=null?Hs(n,!!c,i,!1):r!=null&&Hs(n,!!c,r,!0);return;case"textarea":Lt("invalid",n),m=f=c=null;for(A in r)if(r.hasOwnProperty(A)&&(w=r[A],w!=null))switch(A){case"value":c=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Xt(n,i,A,w,r,null)}Tf(n,c,f,m),xo(n);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(c=r[M],c!=null))switch(M){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Xt(n,i,M,c,r,null)}return;case"dialog":Lt("beforetoggle",n),Lt("toggle",n),Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":Lt("load",n);break;case"video":case"audio":for(c=0;c<Tr.length;c++)Lt(Tr[c],n);break;case"image":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"embed":case"source":case"link":Lt("error",n),Lt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(c=r[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(n,i,F,c,r,null)}return;default:if(Hc(i)){for(K in r)r.hasOwnProperty(K)&&(c=r[K],c!==void 0&&wh(n,i,K,c,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(c=r[w],c!=null&&Xt(n,i,w,c,r,null))}function IA(n,i,r,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,A=null,w=null,M=null,F=null,K=null;for(q in r){var J=r[q];if(r.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":M=J;default:c.hasOwnProperty(q)||Xt(n,i,q,null,c,J)}}for(var G in c){var q=c[G];if(J=r[G],c.hasOwnProperty(G)&&(q!=null||J!=null))switch(G){case"type":m=q;break;case"name":f=q;break;case"checked":F=q;break;case"defaultChecked":K=q;break;case"value":A=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==J&&Xt(n,i,G,q,c,J)}}zc(n,A,w,M,F,K,m,f);return;case"select":q=A=w=G=null;for(m in r)if(M=r[m],r.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":q=M;default:c.hasOwnProperty(m)||Xt(n,i,m,null,c,M)}for(f in c)if(m=c[f],M=r[f],c.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":A=m;default:m!==M&&Xt(n,i,f,m,c,M)}i=w,r=A,c=q,G!=null?Hs(n,!!r,G,!1):!!c!=!!r&&(i!=null?Hs(n,!!r,i,!0):Hs(n,!!r,r?[]:"",!1));return;case"textarea":q=G=null;for(w in r)if(f=r[w],r.hasOwnProperty(w)&&f!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xt(n,i,w,null,c,f)}for(A in c)if(f=c[A],m=r[A],c.hasOwnProperty(A)&&(f!=null||m!=null))switch(A){case"value":G=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Xt(n,i,A,f,c,m)}xf(n,G,q);return;case"option":for(var vt in r)if(G=r[vt],r.hasOwnProperty(vt)&&G!=null&&!c.hasOwnProperty(vt))switch(vt){case"selected":n.selected=!1;break;default:Xt(n,i,vt,null,c,G)}for(M in c)if(G=c[M],q=r[M],c.hasOwnProperty(M)&&G!==q&&(G!=null||q!=null))switch(M){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xt(n,i,M,G,c,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)G=r[gt],r.hasOwnProperty(gt)&&G!=null&&!c.hasOwnProperty(gt)&&Xt(n,i,gt,null,c,G);for(F in c)if(G=c[F],q=r[F],c.hasOwnProperty(F)&&G!==q&&(G!=null||q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Xt(n,i,F,G,c,q)}return;default:if(Hc(i)){for(var $t in r)G=r[$t],r.hasOwnProperty($t)&&G!==void 0&&!c.hasOwnProperty($t)&&wh(n,i,$t,void 0,c,G);for(K in c)G=c[K],q=r[K],!c.hasOwnProperty(K)||G===q||G===void 0&&q===void 0||wh(n,i,K,G,c,q);return}}for(var z in r)G=r[z],r.hasOwnProperty(z)&&G!=null&&!c.hasOwnProperty(z)&&Xt(n,i,z,null,c,G);for(J in c)G=c[J],q=r[J],!c.hasOwnProperty(J)||G===q||G==null&&q==null||Xt(n,i,J,G,c,q)}var _h=null,xh=null;function Al(n){return n.nodeType===9?n:n.ownerDocument}function Cm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Th(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ch=null;function zA(){var n=window.event;return n&&n.type==="popstate"?n===Ch?!1:(Ch=n,!0):(Ch=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(n){return Lm.resolve(null).then(n).catch(FA)}:Mm;function FA(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function Dm(n,i){var r=i,c=0,f=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<c&&8>c){r=c;var A=n.ownerDocument;if(r&1&&Rr(A.documentElement),r&2&&Rr(A.body),r&4)for(r=A.head,Rr(r),A=r.firstChild;A;){var w=A.nextSibling,M=A.nodeName;A[Ga]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||r.removeChild(A),A=w}}if(f===0){n.removeChild(m),Ir(i);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:c=r.charCodeAt(0)-48;else c=0;r=m}while(r);Ir(i)}function Rh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rh(r),Nc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function jA(n,i,r,c){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ga])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=On(n.nextSibling),n===null)break}return null}function UA(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=On(n.nextSibling),n===null))return null;return n}function Mh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function GA(n,i){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")i();else{var c=function(){i(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function On(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Lh=null;function Om(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function Nm(n,i,r){switch(i=Al(r),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Rr(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Nc(n)}var xn=new Map,km=new Set;function Sl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pi=H.d;H.d={f:qA,r:VA,D:YA,C:XA,L:$A,m:KA,X:QA,S:WA,M:ZA};function qA(){var n=pi.f(),i=dl();return n||i}function VA(n){var i=Ps(n);i!==null&&i.tag===5&&i.type==="form"?tg(i):pi.r(n)}var ga=typeof document>"u"?null:document;function Pm(n,i,r){var c=ga;if(c&&typeof i=="string"&&i){var f=bn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),km.has(f)||(km.add(f),n={rel:n,crossOrigin:r,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Pe(i,"link",n),Te(i),c.head.appendChild(i)))}}function YA(n){pi.D(n),Pm("dns-prefetch",n,null)}function XA(n,i){pi.C(n,i),Pm("preconnect",n,i)}function $A(n,i,r){pi.L(n,i,r);var c=ga;if(c&&n&&i){var f='link[rel="preload"][as="'+bn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+bn(r.imageSizes)+'"]')):f+='[href="'+bn(n)+'"]';var m=f;switch(i){case"style":m=ma(n);break;case"script":m=ya(n)}xn.has(m)||(n=g({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),xn.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Mr(m))||i==="script"&&c.querySelector(Lr(m))||(i=c.createElement("link"),Pe(i,"link",n),Te(i),c.head.appendChild(i)))}}function KA(n,i){pi.m(n,i);var r=ga;if(r&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ya(n)}if(!xn.has(m)&&(n=g({rel:"modulepreload",href:n},i),xn.set(m,n),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lr(m)))return}c=r.createElement("link"),Pe(c,"link",n),Te(c),r.head.appendChild(c)}}}function WA(n,i,r){pi.S(n,i,r);var c=ga;if(c&&n){var f=Is(c).hoistableStyles,m=ma(n);i=i||"default";var A=f.get(m);if(!A){var w={loading:0,preload:null};if(A=c.querySelector(Mr(m)))w.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},r),(r=xn.get(m))&&Dh(n,r);var M=A=c.createElement("link");Te(M),Pe(M,"link",n),M._p=new Promise(function(F,K){M.onload=F,M.onerror=K}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,El(A,i,c)}A={type:"stylesheet",instance:A,count:1,state:w},f.set(m,A)}}}function QA(n,i){pi.X(n,i);var r=ga;if(r&&n){var c=Is(r).hoistableScripts,f=ya(n),m=c.get(f);m||(m=r.querySelector(Lr(f)),m||(n=g({src:n,async:!0},i),(i=xn.get(f))&&Oh(n,i),m=r.createElement("script"),Te(m),Pe(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function ZA(n,i){pi.M(n,i);var r=ga;if(r&&n){var c=Is(r).hoistableScripts,f=ya(n),m=c.get(f);m||(m=r.querySelector(Lr(f)),m||(n=g({src:n,async:!0,type:"module"},i),(i=xn.get(f))&&Oh(n,i),m=r.createElement("script"),Te(m),Pe(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Im(n,i,r,c){var f=(f=ot.current)?Sl(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=ma(r.href),r=Is(f).hoistableStyles,c=r.get(i),c||(c={type:"style",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=ma(r.href);var m=Is(f).hoistableStyles,A=m.get(n);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,A),(m=f.querySelector(Mr(n)))&&!m._p&&(A.instance=m,A.state.loading=5),xn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xn.set(n,r),m||JA(f,n,r,A.state))),i&&c===null)throw Error(s(528,""));return A}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ya(r),r=Is(f).hoistableScripts,c=r.get(i),c||(c={type:"script",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ma(n){return'href="'+bn(n)+'"'}function Mr(n){return'link[rel="stylesheet"]['+n+"]"}function zm(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function JA(n,i,r,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Pe(i,"link",r),Te(i),n.head.appendChild(i))}function ya(n){return'[src="'+bn(n)+'"]'}function Lr(n){return"script[async]"+n}function Bm(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+bn(r.href)+'"]');if(c)return i.instance=c,Te(c),c;var f=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Te(c),Pe(c,"style",f),El(c,r.precedence,n),i.instance=c;case"stylesheet":f=ma(r.href);var m=n.querySelector(Mr(f));if(m)return i.state.loading|=4,i.instance=m,Te(m),m;c=zm(r),(f=xn.get(f))&&Dh(c,f),m=(n.ownerDocument||n).createElement("link"),Te(m);var A=m;return A._p=new Promise(function(w,M){A.onload=w,A.onerror=M}),Pe(m,"link",c),i.state.loading|=4,El(m,r.precedence,n),i.instance=m;case"script":return m=ya(r.src),(f=n.querySelector(Lr(m)))?(i.instance=f,Te(f),f):(c=r,(f=xn.get(m))&&(c=g({},r),Oh(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Te(f),Pe(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,El(c,r.precedence,n));return i.instance}function El(n,i,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,A=0;A<c.length;A++){var w=c[A];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function Dh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Oh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var wl=null;function Hm(n,i,r){if(wl===null){var c=new Map,f=wl=new Map;f.set(r,c)}else f=wl,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(n))return c;for(c.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var m=r[f];if(!(m[Ga]||m[ze]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(i)||"";A=n+A;var w=c.get(A);w?w.push(m):c.set(A,[m])}}return c}function Fm(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function tS(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Dr=null;function eS(){}function nS(n,i,r){if(Dr===null)throw Error(s(475));var c=Dr;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ma(r.href),m=n.querySelector(Mr(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=_l.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,Te(m);return}m=n.ownerDocument||n,r=zm(r),(f=xn.get(f))&&Dh(r,f),m=m.createElement("link"),Te(m);var A=m;A._p=new Promise(function(w,M){A.onload=w,A.onerror=M}),Pe(m,"link",r),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=_l.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function iS(){if(Dr===null)throw Error(s(475));var n=Dr;return n.stylesheets&&n.count===0&&Nh(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&Nh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function _l(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xl=null;function Nh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xl=new Map,i.forEach(sS,n),xl=null,_l.call(n))}function sS(n,i){if(!(i.state.loading&4)){var r=xl.get(n);if(r)var c=r.get(null);else{r=new Map,xl.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var A=f[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(r.set(A.dataset.precedence,A),c=A)}c&&r.set(null,c)}f=i.instance,A=f.getAttribute("data-precedence"),m=r.get(A)||c,m===c&&r.set(null,f),r.set(A,f),this.count++,c=_l.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Or={$$typeof:C,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function aS(n,i,r,c,f,m,A,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.hiddenUpdates=Mc(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Um(n,i,r,c,f,m,A,w,M,F,K,J){return n=new aS(n,i,r,A,w,M,F,J),i=1,m===!0&&(i|=24),m=rn(3,null,null,i),n.current=m,m.stateNode=n,i=pu(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:i},bu(m),n}function Gm(n){return n?(n=$s,n):$s}function qm(n,i,r,c,f,m){f=Gm(f),c.context===null?c.context=f:c.pendingContext=f,c=Mi(i),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=Li(n,c,i),r!==null&&(hn(r,n,i),lr(r,n,i))}function Vm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function kh(n,i){Vm(n,i),(n=n.alternate)&&Vm(n,i)}function Ym(n){if(n.tag===13){var i=Xs(n,67108864);i!==null&&hn(i,n,67108864),kh(n,67108864)}}var Tl=!0;function rS(n,i,r,c){var f=O.T;O.T=null;var m=H.p;try{H.p=2,Ph(n,i,r,c)}finally{H.p=m,O.T=f}}function oS(n,i,r,c){var f=O.T;O.T=null;var m=H.p;try{H.p=8,Ph(n,i,r,c)}finally{H.p=m,O.T=f}}function Ph(n,i,r,c){if(Tl){var f=Ih(c);if(f===null)Eh(n,i,c,Cl,r),$m(n,c);else if(cS(f,n,i,r,c))c.stopPropagation();else if($m(n,c),i&4&&-1<lS.indexOf(n)){for(;f!==null;){var m=Ps(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=es(m.pendingLanes);if(A!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var M=1<<31-xe(A);w.entanglements[1]|=M,A&=~M}Un(m),(Ut&6)===0&&(ul=It()+500,xr(0))}}break;case 13:w=Xs(m,2),w!==null&&hn(w,m,2),dl(),kh(m,2)}if(m=Ih(c),m===null&&Eh(n,i,c,Cl,r),m===f)break;f=m}f!==null&&c.stopPropagation()}else Eh(n,i,c,null,r)}}function Ih(n){return n=jc(n),zh(n)}var Cl=null;function zh(n){if(Cl=null,n=ks(n),n!==null){var i=o(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=u(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Cl=n,null}function Xm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vt()){case nn:return 2;case _i:return 8;case _e:case mn:return 32;case Jn:return 268435456;default:return 32}default:return 32}}var Bh=!1,Gi=null,qi=null,Vi=null,Nr=new Map,kr=new Map,Yi=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $m(n,i){switch(n){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Nr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(i.pointerId)}}function Pr(n,i,r,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ps(i),i!==null&&Ym(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function cS(n,i,r,c,f){switch(i){case"focusin":return Gi=Pr(Gi,n,i,r,c,f),!0;case"dragenter":return qi=Pr(qi,n,i,r,c,f),!0;case"mouseover":return Vi=Pr(Vi,n,i,r,c,f),!0;case"pointerover":var m=f.pointerId;return Nr.set(m,Pr(Nr.get(m)||null,n,i,r,c,f)),!0;case"gotpointercapture":return m=f.pointerId,kr.set(m,Pr(kr.get(m)||null,n,i,r,c,f)),!0}return!1}function Km(n){var i=ks(n.target);if(i!==null){var r=o(i);if(r!==null){if(i=r.tag,i===13){if(i=u(r),i!==null){n.blockedOn=i,n0(n.priority,function(){if(r.tag===13){var c=un();c=Lc(c);var f=Xs(r,c);f!==null&&hn(f,r,c),kh(r,c)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Ih(n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);Fc=c,r.target.dispatchEvent(c),Fc=null}else return i=Ps(r),i!==null&&Ym(i),n.blockedOn=r,!1;i.shift()}return!0}function Wm(n,i,r){Rl(n)&&r.delete(i)}function uS(){Bh=!1,Gi!==null&&Rl(Gi)&&(Gi=null),qi!==null&&Rl(qi)&&(qi=null),Vi!==null&&Rl(Vi)&&(Vi=null),Nr.forEach(Wm),kr.forEach(Wm)}function Ml(n,i){n.blockedOn===i&&(n.blockedOn=null,Bh||(Bh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,uS)))}var Ll=null;function Qm(n){Ll!==n&&(Ll=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ll===n&&(Ll=null);for(var i=0;i<n.length;i+=3){var r=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(zh(c||r)===null)continue;break}var m=Ps(r);m!==null&&(n.splice(i,3),i-=3,zu(m,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function Ir(n){function i(M){return Ml(M,n)}Gi!==null&&Ml(Gi,n),qi!==null&&Ml(qi,n),Vi!==null&&Ml(Vi,n),Nr.forEach(i),kr.forEach(i);for(var r=0;r<Yi.length;r++){var c=Yi[r];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)Km(r),r.blockedOn===null&&Yi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],m=r[c+1],A=f[$e]||null;if(typeof m=="function")A||Qm(r);else if(A){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,A=m[$e]||null)w=A.formAction;else if(zh(f)!==null)continue}else w=A.action;typeof w=="function"?r[c+1]=w:(r.splice(c,3),c-=3),Qm(r)}}}function Hh(n){this._internalRoot=n}Dl.prototype.render=Hh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,c=un();qm(r,c,n,i,null,null)},Dl.prototype.unmount=Hh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;qm(n.current,2,null,n,null,null),dl(),i[Ns]=null}};function Dl(n){this._internalRoot=n}Dl.prototype.unstable_scheduleHydration=function(n){if(n){var i=pf();n={blockedOn:null,target:n,priority:i};for(var r=0;r<Yi.length&&i!==0&&i<Yi[r].priority;r++);Yi.splice(r,0,n),r===0&&Km(n)}};var Zm=t.version;if(Zm!=="19.1.1")throw Error(s(527,Zm,"19.1.1"));H.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var hS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{ts=Ol.inject(hS),ge=Ol}catch{}}return Br.createRoot=function(n,i){if(!a(n))throw Error(s(299));var r=!1,c="",f=pg,m=gg,A=mg,w=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Um(n,1,!1,null,null,r,c,f,m,A,w,null),n[Ns]=i.current,Sh(n),new Hh(i)},Br.hydrateRoot=function(n,i,r){if(!a(n))throw Error(s(299));var c=!1,f="",m=pg,A=gg,w=mg,M=null,F=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(F=r.formState)),i=Um(n,1,!0,i,r??null,c,f,m,A,w,M,F),i.context=Gm(null),r=i.current,c=un(),c=Lc(c),f=Mi(c),f.callback=null,Li(r,f,c),r=c,i.current.lanes=r,Ua(i,r),Un(i),n[Ns]=i.current,Sh(n),new Dl(i)},Br.version="19.1.1",Br}var uy;function SS(){if(uy)return Gh.exports;uy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Gh.exports=AS(),Gh.exports}var ES=SS();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hy="popstate";function wS(l={}){function t(a,o){let{pathname:u="/",search:h="",hash:d=""}=Ls(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),cd("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:Qr(o))}function s(a,o){Pn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return xS(t,e,s,l)}function re(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function Pn(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _S(){return Math.random().toString(36).substring(2,10)}function dy(l,t){return{usr:l.state,key:l.key,idx:t}}function cd(l,t,e=null,s){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?Ls(t):t,state:e,key:t&&t.key||s||_S()}}function Qr({pathname:l="/",search:t="",hash:e=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(l+=e.charAt(0)==="#"?e:"#"+e),l}function Ls(l){let t={};if(l){let e=l.indexOf("#");e>=0&&(t.hash=l.substring(e),l=l.substring(0,e));let s=l.indexOf("?");s>=0&&(t.search=l.substring(s),l=l.substring(0,s)),l&&(t.pathname=l)}return t}function xS(l,t,e,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,u=a.history,h="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let T=g(),_=T==null?null:T-p;p=T,d&&d({action:h,location:S.location,delta:_})}function b(T,_){h="PUSH";let L=cd(S.location,T,_);e&&e(L,T),p=g()+1;let C=dy(L,p),D=S.createHref(L);try{u.pushState(C,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(D)}o&&d&&d({action:h,location:S.location,delta:1})}function v(T,_){h="REPLACE";let L=cd(S.location,T,_);e&&e(L,T),p=g();let C=dy(L,p),D=S.createHref(L);u.replaceState(C,"",D),o&&d&&d({action:h,location:S.location,delta:0})}function E(T){return TS(T)}let S={get action(){return h},get location(){return l(a,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(hy,y),d=T,()=>{a.removeEventListener(hy,y),d=null}},createHref(T){return t(a,T)},createURL:E,encodeLocation(T){let _=E(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:v,go(T){return u.go(T)}};return S}function TS(l,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),re(e,"No window.location.(origin|href) available to create URL");let s=typeof l=="string"?l:Qr(l);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function db(l,t,e="/"){return CS(l,t,e,!1)}function CS(l,t,e,s){let a=typeof t=="string"?Ls(t):t,o=Ai(a.pathname||"/",e);if(o==null)return null;let u=fb(l);RS(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=HS(o);h=zS(u[d],p,s)}return h}function fb(l,t=[],e=[],s=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(re(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let p=vi([s,d.relativePath]),g=e.concat(d);o.children&&o.children.length>0&&(re(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),fb(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:PS(p,o.index),routesMeta:g})};return l.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let h of pb(o.path))a(o,u,h)}),t}function pb(l){let t=l.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let u=pb(s.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>l.startsWith("/")&&d===""?"/":d)}function RS(l){l.sort((t,e)=>t.score!==e.score?e.score-t.score:IS(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var MS=/^:[\w-]+$/,LS=3,DS=2,OS=1,NS=10,kS=-2,fy=l=>l==="*";function PS(l,t){let e=l.split("/"),s=e.length;return e.some(fy)&&(s+=kS),t&&(s+=DS),e.filter(a=>!fy(a)).reduce((a,o)=>a+(MS.test(o)?LS:o===""?OS:NS),s)}function IS(l,t){return l.length===t.length&&l.slice(0,-1).every((s,a)=>s===t[a])?l[l.length-1]-t[t.length-1]:0}function zS(l,t,e=!1){let{routesMeta:s}=l,a={},o="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=Jl({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!y&&p&&e&&!s[s.length-1].route.index&&(y=Jl({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:vi([o,y.pathname]),pathnameBase:GS(vi([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=vi([o,y.pathnameBase]))}return u}function Jl(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[e,s]=BS(l.path,l.caseSensitive,l.end),a=t.match(e);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:y},b)=>{if(g==="*"){let E=h[b]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const v=h[b];return y&&!v?p[g]=void 0:p[g]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:l}}function BS(l,t=!1,e=!0){Pn(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let s=[],a="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(s.push({paramName:"*"}),a+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":l!==""&&l!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function HS(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function Ai(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=l.charAt(e);return s&&s!=="/"?null:l.slice(e)||"/"}function FS(l,t="/"){let{pathname:e,search:s="",hash:a=""}=typeof l=="string"?Ls(l):l;return{pathname:e?e.startsWith("/")?e:jS(e,t):t,search:qS(s),hash:VS(a)}}function jS(l,t){let e=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Xh(l,t,e,s){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function US(l){return l.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function gb(l){let t=US(l);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function mb(l,t,e,s=!1){let a;typeof l=="string"?a=Ls(l):(a={...l},re(!a.pathname||!a.pathname.includes("?"),Xh("?","pathname","search",a)),re(!a.pathname||!a.pathname.includes("#"),Xh("#","pathname","hash",a)),re(!a.search||!a.search.includes("#"),Xh("#","search","hash",a)));let o=l===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=e;else{let y=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}h=y>=0?t[y]:"/"}let d=FS(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var vi=l=>l.join("/").replace(/\/\/+/g,"/"),GS=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,VS=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function YS(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var yb=["POST","PUT","PATCH","DELETE"];new Set(yb);var XS=["GET",...yb];new Set(XS);var Ia=P.createContext(null);Ia.displayName="DataRouter";var uc=P.createContext(null);uc.displayName="DataRouterState";P.createContext(!1);var bb=P.createContext({isTransitioning:!1});bb.displayName="ViewTransition";var $S=P.createContext(new Map);$S.displayName="Fetchers";var KS=P.createContext(null);KS.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var ao=P.createContext(null);ao.displayName="Location";var zn=P.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var Dd=P.createContext(null);Dd.displayName="RouteError";function WS(l,{relative:t}={}){re(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=P.useContext(Zn),{hash:a,pathname:o,search:u}=oo(l,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:vi([e,o])),s.createHref({pathname:h,search:u,hash:a})}function ro(){return P.useContext(ao)!=null}function wi(){return re(ro(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ao).location}var vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ab(l){P.useContext(Zn).static||P.useLayoutEffect(l)}function Sb(){let{isDataRoute:l}=P.useContext(zn);return l?d1():QS()}function QS(){re(ro(),"useNavigate() may be used only in the context of a <Router> component.");let l=P.useContext(Ia),{basename:t,navigator:e}=P.useContext(Zn),{matches:s}=P.useContext(zn),{pathname:a}=wi(),o=JSON.stringify(gb(s)),u=P.useRef(!1);return Ab(()=>{u.current=!0}),P.useCallback((d,p={})=>{if(Pn(u.current,vb),!u.current)return;if(typeof d=="number"){e.go(d);return}let g=mb(d,JSON.parse(o),a,p.relative==="path");l==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:vi([t,g.pathname])),(p.replace?e.replace:e.push)(g,p.state,p)},[t,e,o,a,l])}var ZS=P.createContext(null);function JS(l){let t=P.useContext(zn).outlet;return t&&P.createElement(ZS.Provider,{value:l},t)}function t1(){let{matches:l}=P.useContext(zn),t=l[l.length-1];return t?t.params:{}}function oo(l,{relative:t}={}){let{matches:e}=P.useContext(zn),{pathname:s}=wi(),a=JSON.stringify(gb(e));return P.useMemo(()=>mb(l,JSON.parse(a),s,t==="path"),[l,a,s,t])}function e1(l,t){return Eb(l,t)}function Eb(l,t,e,s){re(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Zn),{matches:o}=P.useContext(zn),u=o[o.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let _=g&&g.path||"";wb(d,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let y=wi(),b;if(t){let _=typeof t=="string"?Ls(t):t;re(p==="/"||_.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=y;let v=b.pathname||"/",E=v;if(p!=="/"){let _=p.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=db(l,{pathname:E});Pn(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Pn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=r1(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:vi([p,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:vi([p,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,e,s);return t&&T?P.createElement(ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function n1(){let l=h1(),t=YS(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),e=l instanceof Error?l.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",l),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),e?P.createElement("pre",{style:a},e):null,u)}var i1=P.createElement(n1,null),s1=class extends P.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){console.error("React Router caught the following error during render",l,t)}render(){return this.state.error!==void 0?P.createElement(zn.Provider,{value:this.props.routeContext},P.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a1({routeContext:l,match:t,children:e}){let s=P.useContext(Ia);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(zn.Provider,{value:l},e)}function r1(l,t=[],e=null,s=null){if(l==null){if(!e)return null;if(e.errors)l=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)l=e.matches;else return null}let a=l,o=e?.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);re(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(e)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=e,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,b=!1,v=null,E=null;e&&(y=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||i1,u&&(h<0&&g===0?(wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):h===g&&(b=!0,E=p.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,g+1)),T=()=>{let _;return y?_=v:b?_=E:p.route.Component?_=P.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,P.createElement(a1,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:_})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(s1,{location:e.location,revalidation:e.revalidation,component:v,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function Od(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(l){let t=P.useContext(Ia);return re(t,Od(l)),t}function l1(l){let t=P.useContext(uc);return re(t,Od(l)),t}function c1(l){let t=P.useContext(zn);return re(t,Od(l)),t}function Nd(l){let t=c1(l),e=t.matches[t.matches.length-1];return re(e.route.id,`${l} can only be used on routes that contain a unique "id"`),e.route.id}function u1(){return Nd("useRouteId")}function h1(){let l=P.useContext(Dd),t=l1("useRouteError"),e=Nd("useRouteError");return l!==void 0?l:t.errors?.[e]}function d1(){let{router:l}=o1("useNavigate"),t=Nd("useNavigate"),e=P.useRef(!1);return Ab(()=>{e.current=!0}),P.useCallback(async(a,o={})=>{Pn(e.current,vb),e.current&&(typeof a=="number"?l.navigate(a):await l.navigate(a,{fromRouteId:t,...o}))},[l,t])}var py={};function wb(l,t,e){!t&&!py[l]&&(py[l]=!0,Pn(!1,e))}P.memo(f1);function f1({routes:l,future:t,state:e}){return Eb(l,void 0,e,t)}function p1(l){return JS(l.context)}function gi(l){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g1({basename:l="/",children:t=null,location:e,navigationType:s="POP",navigator:a,static:o=!1}){re(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=l.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof e=="string"&&(e=Ls(e));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:b="default"}=e,v=P.useMemo(()=>{let E=Ai(d,u);return E==null?null:{location:{pathname:E,search:p,hash:g,state:y,key:b},navigationType:s}},[u,d,p,g,y,b,s]);return Pn(v!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:P.createElement(Zn.Provider,{value:h},P.createElement(ao.Provider,{children:t,value:v}))}function m1({children:l,location:t}){return e1(ud(l),t)}function ud(l,t=[]){let e=[];return P.Children.forEach(l,(s,a)=>{if(!P.isValidElement(s))return;let o=[...t,a];if(s.type===P.Fragment){e.push.apply(e,ud(s.props.children,o));return}re(s.type===gi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ud(s.props.children,o)),e.push(u)}),e}var Gl="get",ql="application/x-www-form-urlencoded";function hc(l){return l!=null&&typeof l.tagName=="string"}function y1(l){return hc(l)&&l.tagName.toLowerCase()==="button"}function b1(l){return hc(l)&&l.tagName.toLowerCase()==="form"}function v1(l){return hc(l)&&l.tagName.toLowerCase()==="input"}function A1(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function S1(l,t){return l.button===0&&(!t||t==="_self")&&!A1(l)}var Nl=null;function E1(){if(Nl===null)try{new FormData(document.createElement("form"),0),Nl=!1}catch{Nl=!0}return Nl}var w1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $h(l){return l!=null&&!w1.has(l)?(Pn(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ql}"`),null):l}function _1(l,t){let e,s,a,o,u;if(b1(l)){let h=l.getAttribute("action");s=h?Ai(h,t):null,e=l.getAttribute("method")||Gl,a=$h(l.getAttribute("enctype"))||ql,o=new FormData(l)}else if(y1(l)||v1(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=l.getAttribute("formaction")||h.getAttribute("action");if(s=d?Ai(d,t):null,e=l.getAttribute("formmethod")||h.getAttribute("method")||Gl,a=$h(l.getAttribute("formenctype"))||$h(h.getAttribute("enctype"))||ql,o=new FormData(h,l),!E1()){let{name:p,type:g,value:y}=l;if(g==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,y)}}else{if(hc(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Gl,s=null,a=ql,u=l}return o&&a==="text/plain"&&(u=o,o=void 0),{action:s,method:e.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kd(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function x1(l,t,e){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname=`_root.${e}`:t&&Ai(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function T1(l,t){if(l.id in t)return t[l.id];try{let e=await import(l.module);return t[l.id]=e,e}catch(e){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C1(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function R1(l,t,e){let s=await Promise.all(l.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await T1(o,e);return u.links?u.links():[]}return[]}));return O1(s.flat(1).filter(C1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gy(l,t,e,s,a,o){let u=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,h=(d,p)=>e[p].pathname!==d.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?t.filter((d,p)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function M1(l,t,{includeHydrateFallback:e}={}){return L1(l.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function L1(l){return[...new Set(l)]}function D1(l){let t={},e=Object.keys(l).sort();for(let s of e)t[s]=l[s];return t}function O1(l,t){let e=new Set;return new Set(t),l.reduce((s,a)=>{let o=JSON.stringify(D1(a));return e.has(o)||(e.add(o),s.push({key:o,link:a})),s},[])}function _b(){let l=P.useContext(Ia);return kd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function N1(){let l=P.useContext(uc);return kd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Pd=P.createContext(void 0);Pd.displayName="FrameworkContext";function xb(){let l=P.useContext(Pd);return kd(l,"You must render this element inside a <HydratedRouter> element"),l}function k1(l,t){let e=P.useContext(Pd),[s,a]=P.useState(!1),[o,u]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,b=P.useRef(null);P.useEffect(()=>{if(l==="render"&&u(!0),l==="viewport"){let S=_=>{_.forEach(L=>{u(L.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[l]),P.useEffect(()=>{if(s){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[s]);let v=()=>{a(!0)},E=()=>{a(!1),u(!1)};return e?l!=="intent"?[o,b,{}]:[o,b,{onFocus:Hr(h,v),onBlur:Hr(d,E),onMouseEnter:Hr(p,v),onMouseLeave:Hr(g,E),onTouchStart:Hr(y,v)}]:[!1,b,{}]}function Hr(l,t){return e=>{l&&l(e),e.defaultPrevented||t(e)}}function P1({page:l,...t}){let{router:e}=_b(),s=P.useMemo(()=>db(e.routes,l,e.basename),[e.routes,l,e.basename]);return s?P.createElement(z1,{page:l,matches:s,...t}):null}function I1(l){let{manifest:t,routeModules:e}=xb(),[s,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return R1(l,t,e).then(u=>{o||a(u)}),()=>{o=!0}},[l,t,e]),s}function z1({page:l,matches:t,...e}){let s=wi(),{manifest:a,routeModules:o}=xb(),{basename:u}=_b(),{loaderData:h,matches:d}=N1(),p=P.useMemo(()=>gy(l,t,d,a,s,"data"),[l,t,d,a,s]),g=P.useMemo(()=>gy(l,t,d,a,s,"assets"),[l,t,d,a,s]),y=P.useMemo(()=>{if(l===s.pathname+s.search+s.hash)return[];let E=new Set,S=!1;if(t.forEach(_=>{let L=a.routes[_.route.id];!L||!L.hasLoader||(!p.some(C=>C.route.id===_.route.id)&&_.route.id in h&&o[_.route.id]?.shouldRevalidate||L.hasClientLoader?S=!0:E.add(_.route.id))}),E.size===0)return[];let T=x1(l,u,"data");return S&&E.size>0&&T.searchParams.set("_routes",t.filter(_=>E.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[u,h,s,a,p,t,l,o]),b=P.useMemo(()=>M1(g,a),[g,a]),v=I1(g);return P.createElement(P.Fragment,null,y.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),b.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),v.map(({key:E,link:S})=>P.createElement("link",{key:E,nonce:e.nonce,...S})))}function B1(...l){return t=>{l.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tb&&(window.__reactRouterVersion="7.8.0")}catch{}function H1({basename:l,children:t,window:e}){let s=P.useRef();s.current==null&&(s.current=wS({window:e,v5Compat:!0}));let a=s.current,[o,u]=P.useState({action:a.action,location:a.location}),h=P.useCallback(d=>{P.startTransition(()=>u(d))},[u]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.createElement(g1,{basename:l,children:t,location:o.location,navigationType:o.action,navigator:a})}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=P.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,...b},v){let{basename:E}=P.useContext(Zn),S=typeof p=="string"&&Cb.test(p),T,_=!1;if(typeof p=="string"&&S&&(T=p,Tb))try{let X=new URL(window.location.href),it=p.startsWith("//")?new URL(X.protocol+p):new URL(p),nt=Ai(it.pathname,E);it.origin===X.origin&&nt!=null?p=nt+it.search+it.hash:_=!0}catch{Pn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=WS(p,{relative:a}),[C,D,R]=k1(s,b),I=G1(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function N(X){t&&t(X),X.defaultPrevented||I(X)}let $=P.createElement("a",{...b,...R,href:T||L,onClick:_||o?t:N,ref:B1(v,D),target:d,"data-discover":!S&&e==="render"?"true":void 0});return C&&!S?P.createElement(P.Fragment,null,$,P.createElement(P1,{page:L})):$});Ki.displayName="Link";var F1=P.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},g){let y=oo(u,{relative:p.relative}),b=wi(),v=P.useContext(uc),{navigator:E,basename:S}=P.useContext(Zn),T=v!=null&&$1(y)&&h===!0,_=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,L=b.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(L=L.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&S&&(C=Ai(C,S)||C);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let R=L===_||!a&&L.startsWith(_)&&L.charAt(D)==="/",I=C!=null&&(C===_||!a&&C.startsWith(_)&&C.charAt(_.length)==="/"),N={isActive:R,isPending:I,isTransitioning:T},$=R?t:void 0,X;typeof s=="function"?X=s(N):X=[s,R?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let it=typeof o=="function"?o(N):o;return P.createElement(Ki,{...p,"aria-current":$,className:X,ref:g,style:it,to:u,viewTransition:h},typeof d=="function"?d(N):d)});F1.displayName="NavLink";var j1=P.forwardRef(({discover:l="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:a,state:o,method:u=Gl,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...b},v)=>{let E=Y1(),S=X1(h,{relative:p}),T=u.toLowerCase()==="get"?"get":"post",_=typeof h=="string"&&Cb.test(h),L=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,R=D?.getAttribute("formmethod")||u;E(D||C.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return P.createElement("form",{ref:v,method:T,action:S,onSubmit:s?d:L,...b,"data-discover":!_&&l==="render"?"true":void 0})});j1.displayName="Form";function U1(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(l){let t=P.useContext(Ia);return re(t,U1(l)),t}function G1(l,{target:t,replace:e,state:s,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Sb(),d=wi(),p=oo(l,{relative:o});return P.useCallback(g=>{if(S1(g,t)){g.preventDefault();let y=e!==void 0?e:Qr(d)===Qr(p);h(l,{replace:y,state:s,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,p,e,s,t,l,a,o,u])}var q1=0,V1=()=>`__${String(++q1)}__`;function Y1(){let{router:l}=Rb("useSubmit"),{basename:t}=P.useContext(Zn),e=u1();return P.useCallback(async(s,a={})=>{let{action:o,method:u,encType:h,formData:d,body:p}=_1(s,t);if(a.navigate===!1){let g=a.fetcherKey||V1();await l.fetch(g,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await l.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[l,t,e])}function X1(l,{relative:t}={}){let{basename:e}=P.useContext(Zn),s=P.useContext(zn);re(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...oo(l||".",{relative:t})},u=wi();if(l==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!l||l===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:vi([e,o.pathname])),Qr(o)}function $1(l,{relative:t}={}){let e=P.useContext(bb);re(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Rb("useViewTransitionState"),a=oo(l,{relative:t});if(!e.isTransitioning)return!1;let o=Ai(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=Ai(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Jl(a.pathname,u)!=null||Jl(a.pathname,o)!=null}function K1(){const l=P.useRef(null);return P.useEffect(()=>{const t=l.current,e=t.getContext("2d");function s(){t.width=window.innerWidth,t.height=window.innerHeight}s(),window.addEventListener("resize",s);const a=[],o=300;for(let h=0;h<o;h++)a.push({x:Math.random()*t.width,y:Math.random()*t.height,r:Math.random()*1.5+.5,dx:(Math.random()-.5)*.1,dy:(Math.random()-.5)*.1});function u(){e.fillStyle="black",e.fillRect(0,0,t.width,t.height),e.fillStyle="white",a.forEach(h=>{e.beginPath(),e.arc(h.x,h.y,h.r,0,Math.PI*2),e.fill(),h.x+=h.dx,h.y+=h.dy,h.x<0&&(h.x=t.width),h.x>t.width&&(h.x=0),h.y<0&&(h.y=t.height),h.y>t.height&&(h.y=0)}),requestAnimationFrame(u)}return u(),()=>{window.removeEventListener("resize",s)}},[]),Y.jsx("canvas",{ref:l,id:"galaxy",style:{position:"fixed",top:0,left:0,zIndex:-1,width:"100vw",height:"100vh",pointerEvents:"none"}})}var qe=function(){return qe=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qe.apply(this,arguments)};function Zr(l,t,e){if(e||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return l.concat(o||Array.prototype.slice.call(t))}var Jt="-ms-",$r="-moz-",jt="-webkit-",Mb="comm",dc="rule",Id="decl",W1="@import",Lb="@keyframes",Q1="@layer",Db=Math.abs,zd=String.fromCharCode,hd=Object.assign;function Z1(l,t){return De(l,0)^45?(((t<<2^De(l,0))<<2^De(l,1))<<2^De(l,2))<<2^De(l,3):0}function Ob(l){return l.trim()}function yi(l,t){return(l=t.exec(l))?l[0]:l}function xt(l,t,e){return l.replace(t,e)}function Vl(l,t,e){return l.indexOf(t,e)}function De(l,t){return l.charCodeAt(t)|0}function Ma(l,t,e){return l.slice(t,e)}function Wn(l){return l.length}function Nb(l){return l.length}function qr(l,t){return t.push(l),l}function J1(l,t){return l.map(t).join("")}function my(l,t){return l.filter(function(e){return!yi(e,t)})}var fc=1,La=1,kb=0,Rn=0,ve=0,za="";function pc(l,t,e,s,a,o,u,h){return{value:l,root:t,parent:e,type:s,props:a,children:o,line:fc,column:La,length:u,return:"",siblings:h}}function $i(l,t){return hd(pc("",null,null,"",null,null,0,l.siblings),l,{length:-l.length},t)}function ba(l){for(;l.root;)l=$i(l.root,{children:[l]});qr(l,l.siblings)}function tE(){return ve}function eE(){return ve=Rn>0?De(za,--Rn):0,La--,ve===10&&(La=1,fc--),ve}function kn(){return ve=Rn<kb?De(za,Rn++):0,La++,ve===10&&(La=1,fc++),ve}function Ts(){return De(za,Rn)}function Yl(){return Rn}function gc(l,t){return Ma(za,l,t)}function dd(l){switch(l){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nE(l){return fc=La=1,kb=Wn(za=l),Rn=0,[]}function iE(l){return za="",l}function Kh(l){return Ob(gc(Rn-1,fd(l===91?l+2:l===40?l+1:l)))}function sE(l){for(;(ve=Ts())&&ve<33;)kn();return dd(l)>2||dd(ve)>3?"":" "}function aE(l,t){for(;--t&&kn()&&!(ve<48||ve>102||ve>57&&ve<65||ve>70&&ve<97););return gc(l,Yl()+(t<6&&Ts()==32&&kn()==32))}function fd(l){for(;kn();)switch(ve){case l:return Rn;case 34:case 39:l!==34&&l!==39&&fd(ve);break;case 40:l===41&&fd(l);break;case 92:kn();break}return Rn}function rE(l,t){for(;kn()&&l+ve!==57;)if(l+ve===84&&Ts()===47)break;return"/*"+gc(t,Rn-1)+"*"+zd(l===47?l:kn())}function oE(l){for(;!dd(Ts());)kn();return gc(l,Rn)}function lE(l){return iE(Xl("",null,null,null,[""],l=nE(l),0,[0],l))}function Xl(l,t,e,s,a,o,u,h,d){for(var p=0,g=0,y=u,b=0,v=0,E=0,S=1,T=1,_=1,L=0,C="",D=a,R=o,I=s,N=C;T;)switch(E=L,L=kn()){case 40:if(E!=108&&De(N,y-1)==58){Vl(N+=xt(Kh(L),"&","&\f"),"&\f",Db(p?h[p-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:N+=Kh(L);break;case 9:case 10:case 13:case 32:N+=sE(E);break;case 92:N+=aE(Yl()-1,7);continue;case 47:switch(Ts()){case 42:case 47:qr(cE(rE(kn(),Yl()),t,e,d),d);break;default:N+="/"}break;case 123*S:h[p++]=Wn(N)*_;case 125*S:case 59:case 0:switch(L){case 0:case 125:T=0;case 59+g:_==-1&&(N=xt(N,/\f/g,"")),v>0&&Wn(N)-y&&qr(v>32?by(N+";",s,e,y-1,d):by(xt(N," ","")+";",s,e,y-2,d),d);break;case 59:N+=";";default:if(qr(I=yy(N,t,e,p,g,a,h,C,D=[],R=[],y,o),o),L===123)if(g===0)Xl(N,t,I,I,D,o,y,h,R);else switch(b===99&&De(N,3)===110?100:b){case 100:case 108:case 109:case 115:Xl(l,I,I,s&&qr(yy(l,I,I,0,0,a,h,C,a,D=[],y,R),R),a,R,y,h,s?D:R);break;default:Xl(N,I,I,I,[""],R,0,h,R)}}p=g=v=0,S=_=1,C=N="",y=u;break;case 58:y=1+Wn(N),v=E;default:if(S<1){if(L==123)--S;else if(L==125&&S++==0&&eE()==125)continue}switch(N+=zd(L),L*S){case 38:_=g>0?1:(N+="\f",-1);break;case 44:h[p++]=(Wn(N)-1)*_,_=1;break;case 64:Ts()===45&&(N+=Kh(kn())),b=Ts(),g=y=Wn(C=N+=oE(Yl())),L++;break;case 45:E===45&&Wn(N)==2&&(S=0)}}return o}function yy(l,t,e,s,a,o,u,h,d,p,g,y){for(var b=a-1,v=a===0?o:[""],E=Nb(v),S=0,T=0,_=0;S<s;++S)for(var L=0,C=Ma(l,b+1,b=Db(T=u[S])),D=l;L<E;++L)(D=Ob(T>0?v[L]+" "+C:xt(C,/&\f/g,v[L])))&&(d[_++]=D);return pc(l,t,e,a===0?dc:h,d,p,g,y)}function cE(l,t,e,s){return pc(l,t,e,Mb,zd(tE()),Ma(l,2,-2),0,s)}function by(l,t,e,s,a){return pc(l,t,e,Id,Ma(l,0,s),Ma(l,s+1,-1),s,a)}function Pb(l,t,e){switch(Z1(l,t)){case 5103:return jt+"print-"+l+l;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+l+l;case 4789:return $r+l+l;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+l+$r+l+Jt+l+l;case 5936:switch(De(l,t+11)){case 114:return jt+l+Jt+xt(l,/[svh]\w+-[tblr]{2}/,"tb")+l;case 108:return jt+l+Jt+xt(l,/[svh]\w+-[tblr]{2}/,"tb-rl")+l;case 45:return jt+l+Jt+xt(l,/[svh]\w+-[tblr]{2}/,"lr")+l}case 6828:case 4268:case 2903:return jt+l+Jt+l+l;case 6165:return jt+l+Jt+"flex-"+l+l;case 5187:return jt+l+xt(l,/(\w+).+(:[^]+)/,jt+"box-$1$2"+Jt+"flex-$1$2")+l;case 5443:return jt+l+Jt+"flex-item-"+xt(l,/flex-|-self/g,"")+(yi(l,/flex-|baseline/)?"":Jt+"grid-row-"+xt(l,/flex-|-self/g,""))+l;case 4675:return jt+l+Jt+"flex-line-pack"+xt(l,/align-content|flex-|-self/g,"")+l;case 5548:return jt+l+Jt+xt(l,"shrink","negative")+l;case 5292:return jt+l+Jt+xt(l,"basis","preferred-size")+l;case 6060:return jt+"box-"+xt(l,"-grow","")+jt+l+Jt+xt(l,"grow","positive")+l;case 4554:return jt+xt(l,/([^-])(transform)/g,"$1"+jt+"$2")+l;case 6187:return xt(xt(xt(l,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),l,"")+l;case 5495:case 3959:return xt(l,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return xt(xt(l,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+l+l;case 4200:if(!yi(l,/flex-|baseline/))return Jt+"grid-column-align"+Ma(l,t)+l;break;case 2592:case 3360:return Jt+xt(l,"template-","")+l;case 4384:case 3616:return e&&e.some(function(s,a){return t=a,yi(s.props,/grid-\w+-end/)})?~Vl(l+(e=e[t].value),"span",0)?l:Jt+xt(l,"-start","")+l+Jt+"grid-row-span:"+(~Vl(e,"span",0)?yi(e,/\d+/):+yi(e,/\d+/)-+yi(l,/\d+/))+";":Jt+xt(l,"-start","")+l;case 4896:case 4128:return e&&e.some(function(s){return yi(s.props,/grid-\w+-start/)})?l:Jt+xt(xt(l,"-end","-span"),"span ","")+l;case 4095:case 3583:case 4068:case 2532:return xt(l,/(.+)-inline(.+)/,jt+"$1$2")+l;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wn(l)-1-t>6)switch(De(l,t+1)){case 109:if(De(l,t+4)!==45)break;case 102:return xt(l,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+$r+(De(l,t+3)==108?"$3":"$2-$3"))+l;case 115:return~Vl(l,"stretch",0)?Pb(xt(l,"stretch","fill-available"),t,e)+l:l}break;case 5152:case 5920:return xt(l,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,a,o,u,h,d,p){return Jt+a+":"+o+p+(u?Jt+a+"-span:"+(h?d:+d-+o)+p:"")+l});case 4949:if(De(l,t+6)===121)return xt(l,":",":"+jt)+l;break;case 6444:switch(De(l,De(l,14)===45?18:11)){case 120:return xt(l,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+jt+(De(l,14)===45?"inline-":"")+"box$3$1"+jt+"$2$3$1"+Jt+"$2box$3")+l;case 100:return xt(l,":",":"+Jt)+l}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(l,"scroll-","scroll-snap-")+l}return l}function tc(l,t){for(var e="",s=0;s<l.length;s++)e+=t(l[s],s,l,t)||"";return e}function uE(l,t,e,s){switch(l.type){case Q1:if(l.children.length)break;case W1:case Id:return l.return=l.return||l.value;case Mb:return"";case Lb:return l.return=l.value+"{"+tc(l.children,s)+"}";case dc:if(!Wn(l.value=l.props.join(",")))return""}return Wn(e=tc(l.children,s))?l.return=l.value+"{"+e+"}":""}function hE(l){var t=Nb(l);return function(e,s,a,o){for(var u="",h=0;h<t;h++)u+=l[h](e,s,a,o)||"";return u}}function dE(l){return function(t){t.root||(t=t.return)&&l(t)}}function fE(l,t,e,s){if(l.length>-1&&!l.return)switch(l.type){case Id:l.return=Pb(l.value,l.length,e);return;case Lb:return tc([$i(l,{value:xt(l.value,"@","@"+jt)})],s);case dc:if(l.length)return J1(e=l.props,function(a){switch(yi(a,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ba($i(l,{props:[xt(a,/:(read-\w+)/,":"+$r+"$1")]})),ba($i(l,{props:[a]})),hd(l,{props:my(e,s)});break;case"::placeholder":ba($i(l,{props:[xt(a,/:(plac\w+)/,":"+jt+"input-$1")]})),ba($i(l,{props:[xt(a,/:(plac\w+)/,":"+$r+"$1")]})),ba($i(l,{props:[xt(a,/:(plac\w+)/,Jt+"input-$1")]})),ba($i(l,{props:[a]})),hd(l,{props:my(e,s)});break}return""})}}var pE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dn={},Da=typeof process<"u"&&dn!==void 0&&(dn.REACT_APP_SC_ATTR||dn.SC_ATTR)||"data-styled",Ib="active",zb="data-styled-version",mc="6.1.19",Bd=`/*!sc*/
`,ec=typeof window<"u"&&typeof document<"u",gE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&dn!==void 0&&dn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&dn.REACT_APP_SC_DISABLE_SPEEDY!==""?dn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&dn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&dn!==void 0&&dn.SC_DISABLE_SPEEDY!==void 0&&dn.SC_DISABLE_SPEEDY!==""&&dn.SC_DISABLE_SPEEDY!=="false"&&dn.SC_DISABLE_SPEEDY),mE={},yc=Object.freeze([]),Oa=Object.freeze({});function Bb(l,t,e){return e===void 0&&(e=Oa),l.theme!==e.theme&&l.theme||t||e.theme}var Hb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),yE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,bE=/(^-|-$)/g;function vy(l){return l.replace(yE,"-").replace(bE,"")}var vE=/(a)(d)/gi,kl=52,Ay=function(l){return String.fromCharCode(l+(l>25?39:97))};function pd(l){var t,e="";for(t=Math.abs(l);t>kl;t=t/kl|0)e=Ay(t%kl)+e;return(Ay(t%kl)+e).replace(vE,"$1-$2")}var Wh,Fb=5381,Ea=function(l,t){for(var e=t.length;e;)l=33*l^t.charCodeAt(--e);return l},jb=function(l){return Ea(Fb,l)};function Ub(l){return pd(jb(l)>>>0)}function AE(l){return l.displayName||l.name||"Component"}function Qh(l){return typeof l=="string"&&!0}var Gb=typeof Symbol=="function"&&Symbol.for,qb=Gb?Symbol.for("react.memo"):60115,SE=Gb?Symbol.for("react.forward_ref"):60112,EE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_E=((Wh={})[SE]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wh[qb]=Vb,Wh);function Sy(l){return("type"in(t=l)&&t.type.$$typeof)===qb?Vb:"$$typeof"in l?_E[l.$$typeof]:EE;var t}var xE=Object.defineProperty,TE=Object.getOwnPropertyNames,Ey=Object.getOwnPropertySymbols,CE=Object.getOwnPropertyDescriptor,RE=Object.getPrototypeOf,wy=Object.prototype;function Yb(l,t,e){if(typeof t!="string"){if(wy){var s=RE(t);s&&s!==wy&&Yb(l,s,e)}var a=TE(t);Ey&&(a=a.concat(Ey(t)));for(var o=Sy(l),u=Sy(t),h=0;h<a.length;++h){var d=a[h];if(!(d in wE||e&&e[d]||u&&d in u||o&&d in o)){var p=CE(t,d);try{xE(l,d,p)}catch{}}}}return l}function Na(l){return typeof l=="function"}function Hd(l){return typeof l=="object"&&"styledComponentId"in l}function Ss(l,t){return l&&t?"".concat(l," ").concat(t):l||t||""}function gd(l,t){if(l.length===0)return"";for(var e=l[0],s=1;s<l.length;s++)e+=l[s];return e}function Jr(l){return l!==null&&typeof l=="object"&&l.constructor.name===Object.name&&!("props"in l&&l.$$typeof)}function md(l,t,e){if(e===void 0&&(e=!1),!e&&!Jr(l)&&!Array.isArray(l))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)l[s]=md(l[s],t[s]);else if(Jr(t))for(var s in t)l[s]=md(l[s],t[s]);return l}function Fd(l,t){Object.defineProperty(l,"toString",{value:t})}function lo(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(l," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ME=function(){function l(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return l.prototype.indexOfGroup=function(t){for(var e=0,s=0;s<t;s++)e+=this.groupSizes[s];return e},l.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var s=this.groupSizes,a=s.length,o=a;t>=o;)if((o<<=1)<0)throw lo(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(s),this.length=o;for(var u=a;u<o;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(t+1),d=(u=0,e.length);u<d;u++)this.tag.insertRule(h,e[u])&&(this.groupSizes[t]++,h++)},l.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],s=this.indexOfGroup(t),a=s+e;this.groupSizes[t]=0;for(var o=s;o<a;o++)this.tag.deleteRule(s)}},l.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var s=this.groupSizes[t],a=this.indexOfGroup(t),o=a+s,u=a;u<o;u++)e+="".concat(this.tag.getRule(u)).concat(Bd);return e},l}(),$l=new Map,nc=new Map,Kl=1,Pl=function(l){if($l.has(l))return $l.get(l);for(;nc.has(Kl);)Kl++;var t=Kl++;return $l.set(l,t),nc.set(t,l),t},LE=function(l,t){Kl=t+1,$l.set(l,t),nc.set(t,l)},DE="style[".concat(Da,"][").concat(zb,'="').concat(mc,'"]'),OE=new RegExp("^".concat(Da,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),NE=function(l,t,e){for(var s,a=e.split(","),o=0,u=a.length;o<u;o++)(s=a[o])&&l.registerName(t,s)},kE=function(l,t){for(var e,s=((e=t.textContent)!==null&&e!==void 0?e:"").split(Bd),a=[],o=0,u=s.length;o<u;o++){var h=s[o].trim();if(h){var d=h.match(OE);if(d){var p=0|parseInt(d[1],10),g=d[2];p!==0&&(LE(g,p),NE(l,g,d[3]),l.getTag().insertRules(p,a)),a.length=0}else a.push(h)}}},_y=function(l){for(var t=document.querySelectorAll(DE),e=0,s=t.length;e<s;e++){var a=t[e];a&&a.getAttribute(Da)!==Ib&&(kE(l,a),a.parentNode&&a.parentNode.removeChild(a))}};function PE(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Xb=function(l){var t=document.head,e=l||t,s=document.createElement("style"),a=function(h){var d=Array.from(h.querySelectorAll("style[".concat(Da,"]")));return d[d.length-1]}(e),o=a!==void 0?a.nextSibling:null;s.setAttribute(Da,Ib),s.setAttribute(zb,mc);var u=PE();return u&&s.setAttribute("nonce",u),e.insertBefore(s,o),s},IE=function(){function l(t){this.element=Xb(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var s=document.styleSheets,a=0,o=s.length;a<o;a++){var u=s[a];if(u.ownerNode===e)return u}throw lo(17)}(this.element),this.length=0}return l.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},l.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},l.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},l}(),zE=function(){function l(t){this.element=Xb(t),this.nodes=this.element.childNodes,this.length=0}return l.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var s=document.createTextNode(e);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},l.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},l.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},l}(),BE=function(){function l(t){this.rules=[],this.length=0}return l.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},l.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},l.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},l}(),xy=ec,HE={isServer:!ec,useCSSOMInjection:!gE},ic=function(){function l(t,e,s){t===void 0&&(t=Oa),e===void 0&&(e={});var a=this;this.options=qe(qe({},HE),t),this.gs=e,this.names=new Map(s),this.server=!!t.isServer,!this.server&&ec&&xy&&(xy=!1,_y(this)),Fd(this,function(){return function(o){for(var u=o.getTag(),h=u.length,d="",p=function(y){var b=function(_){return nc.get(_)}(y);if(b===void 0)return"continue";var v=o.names.get(b),E=u.getGroup(y);if(v===void 0||!v.size||E.length===0)return"continue";var S="".concat(Da,".g").concat(y,'[id="').concat(b,'"]'),T="";v!==void 0&&v.forEach(function(_){_.length>0&&(T+="".concat(_,","))}),d+="".concat(E).concat(S,'{content:"').concat(T,'"}').concat(Bd)},g=0;g<h;g++)p(g);return d}(a)})}return l.registerId=function(t){return Pl(t)},l.prototype.rehydrate=function(){!this.server&&ec&&_y(this)},l.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new l(qe(qe({},this.options),t),this.gs,e&&this.names||void 0)},l.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},l.prototype.getTag=function(){return this.tag||(this.tag=(t=function(e){var s=e.useCSSOMInjection,a=e.target;return e.isServer?new BE(a):s?new IE(a):new zE(a)}(this.options),new ME(t)));var t},l.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},l.prototype.registerName=function(t,e){if(Pl(t),this.names.has(t))this.names.get(t).add(e);else{var s=new Set;s.add(e),this.names.set(t,s)}},l.prototype.insertRules=function(t,e,s){this.registerName(t,e),this.getTag().insertRules(Pl(t),s)},l.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},l.prototype.clearRules=function(t){this.getTag().clearGroup(Pl(t)),this.clearNames(t)},l.prototype.clearTag=function(){this.tag=void 0},l}(),FE=/&/g,jE=/^\s*\/\/.*$/gm;function $b(l,t){return l.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=$b(e.children,t)),e})}function UE(l){var t,e,s,a=Oa,o=a.options,u=o===void 0?Oa:o,h=a.plugins,d=h===void 0?yc:h,p=function(b,v,E){return E.startsWith(e)&&E.endsWith(e)&&E.replaceAll(e,"").length>0?".".concat(t):b},g=d.slice();g.push(function(b){b.type===dc&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(FE,e).replace(s,p))}),u.prefix&&g.push(fE),g.push(uE);var y=function(b,v,E,S){v===void 0&&(v=""),E===void 0&&(E=""),S===void 0&&(S="&"),t=S,e=v,s=new RegExp("\\".concat(e,"\\b"),"g");var T=b.replace(jE,""),_=lE(E||v?"".concat(E," ").concat(v," { ").concat(T," }"):T);u.namespace&&(_=$b(_,u.namespace));var L=[];return tc(_,hE(g.concat(dE(function(C){return L.push(C)})))),L};return y.hash=d.length?d.reduce(function(b,v){return v.name||lo(15),Ea(b,v.name)},Fb).toString():"",y}var GE=new ic,yd=UE(),Kb=Ge.createContext({shouldForwardProp:void 0,styleSheet:GE,stylis:yd});Kb.Consumer;Ge.createContext(void 0);function bd(){return P.useContext(Kb)}var qE=function(){function l(t,e){var s=this;this.inject=function(a,o){o===void 0&&(o=yd);var u=s.name+o.hash;a.hasNameForId(s.id,u)||a.insertRules(s.id,u,o(s.rules,u,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,Fd(this,function(){throw lo(12,String(s.name))})}return l.prototype.getName=function(t){return t===void 0&&(t=yd),this.name+t.hash},l}(),VE=function(l){return l>="A"&&l<="Z"};function Ty(l){for(var t="",e=0;e<l.length;e++){var s=l[e];if(e===1&&s==="-"&&l[0]==="-")return l;VE(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var Wb=function(l){return l==null||l===!1||l===""},Qb=function(l){var t,e,s=[];for(var a in l){var o=l[a];l.hasOwnProperty(a)&&!Wb(o)&&(Array.isArray(o)&&o.isCss||Na(o)?s.push("".concat(Ty(a),":"),o,";"):Jr(o)?s.push.apply(s,Zr(Zr(["".concat(a," {")],Qb(o),!1),["}"],!1)):s.push("".concat(Ty(a),": ").concat((t=a,(e=o)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in pE||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return s};function Qi(l,t,e,s){if(Wb(l))return[];if(Hd(l))return[".".concat(l.styledComponentId)];if(Na(l)){if(!Na(o=l)||o.prototype&&o.prototype.isReactComponent||!t)return[l];var a=l(t);return Qi(a,t,e,s)}var o;return l instanceof qE?e?(l.inject(e,s),[l.getName(s)]):[l]:Jr(l)?Qb(l):Array.isArray(l)?Array.prototype.concat.apply(yc,l.map(function(u){return Qi(u,t,e,s)})):[l.toString()]}function Zb(l){for(var t=0;t<l.length;t+=1){var e=l[t];if(Na(e)&&!Hd(e))return!1}return!0}var YE=jb(mc),XE=function(){function l(t,e,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Zb(t),this.componentId=e,this.baseHash=Ea(YE,e),this.baseStyle=s,ic.registerId(e)}return l.prototype.generateAndInjectStyles=function(t,e,s){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))a=Ss(a,this.staticRulesId);else{var o=gd(Qi(this.rules,t,e,s)),u=pd(Ea(this.baseHash,o)>>>0);if(!e.hasNameForId(this.componentId,u)){var h=s(o,".".concat(u),void 0,this.componentId);e.insertRules(this.componentId,u,h)}a=Ss(a,u),this.staticRulesId=u}else{for(var d=Ea(this.baseHash,s.hash),p="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")p+=y;else if(y){var b=gd(Qi(y,t,e,s));d=Ea(d,b+g),p+=b}}if(p){var v=pd(d>>>0);e.hasNameForId(this.componentId,v)||e.insertRules(this.componentId,v,s(p,".".concat(v),void 0,this.componentId)),a=Ss(a,v)}}return a},l}(),jd=Ge.createContext(void 0);jd.Consumer;var Zh={};function $E(l,t,e){var s=Hd(l),a=l,o=!Qh(l),u=t.attrs,h=u===void 0?yc:u,d=t.componentId,p=d===void 0?function(D,R){var I=typeof D!="string"?"sc":vy(D);Zh[I]=(Zh[I]||0)+1;var N="".concat(I,"-").concat(Ub(mc+I+Zh[I]));return R?"".concat(R,"-").concat(N):N}(t.displayName,t.parentComponentId):d,g=t.displayName,y=g===void 0?function(D){return Qh(D)?"styled.".concat(D):"Styled(".concat(AE(D),")")}(l):g,b=t.displayName&&t.componentId?"".concat(vy(t.displayName),"-").concat(t.componentId):t.componentId||p,v=s&&a.attrs?a.attrs.concat(h).filter(Boolean):h,E=t.shouldForwardProp;if(s&&a.shouldForwardProp){var S=a.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;E=function(D,R){return S(D,R)&&T(D,R)}}else E=S}var _=new XE(e,b,s?a.componentStyle:void 0);function L(D,R){return function(I,N,$){var X=I.attrs,it=I.componentStyle,nt=I.defaultProps,Q=I.foldedComponentIds,et=I.styledComponentId,rt=I.target,st=Ge.useContext(jd),O=bd(),H=I.shouldForwardProp||O.shouldForwardProp,at=Bb(N,st,nt)||Oa,Z=function(lt,ot,ht){for(var bt,Pt=qe(qe({},ot),{className:void 0,theme:ht}),_t=0;_t<lt.length;_t+=1){var zt=Na(bt=lt[_t])?bt(Pt):bt;for(var Ht in zt)Pt[Ht]=Ht==="className"?Ss(Pt[Ht],zt[Ht]):Ht==="style"?qe(qe({},Pt[Ht]),zt[Ht]):zt[Ht]}return ot.className&&(Pt.className=Ss(Pt.className,ot.className)),Pt}(X,N,at),x=Z.as||rt,j={};for(var U in Z)Z[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&Z.theme===at||(U==="forwardedAs"?j.as=Z.forwardedAs:H&&!H(U,x)||(j[U]=Z[U]));var V=function(lt,ot){var ht=bd(),bt=lt.generateAndInjectStyles(ot,ht.styleSheet,ht.stylis);return bt}(it,Z),tt=Ss(Q,et);return V&&(tt+=" "+V),Z.className&&(tt+=" "+Z.className),j[Qh(x)&&!Hb.has(x)?"class":"className"]=tt,$&&(j.ref=$),P.createElement(x,j)}(C,D,R)}L.displayName=y;var C=Ge.forwardRef(L);return C.attrs=v,C.componentStyle=_,C.displayName=y,C.shouldForwardProp=E,C.foldedComponentIds=s?Ss(a.foldedComponentIds,a.styledComponentId):"",C.styledComponentId=b,C.target=s?a.target:l,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=s?function(R){for(var I=[],N=1;N<arguments.length;N++)I[N-1]=arguments[N];for(var $=0,X=I;$<X.length;$++)md(R,X[$],!0);return R}({},a.defaultProps,D):D}}),Fd(C,function(){return".".concat(C.styledComponentId)}),o&&Yb(C,l,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function Cy(l,t){for(var e=[l[0]],s=0,a=t.length;s<a;s+=1)e.push(t[s],l[s+1]);return e}var Ry=function(l){return Object.assign(l,{isCss:!0})};function Jb(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Na(l)||Jr(l))return Ry(Qi(Cy(yc,Zr([l],t,!0))));var s=l;return t.length===0&&s.length===1&&typeof s[0]=="string"?Qi(s):Ry(Qi(Cy(s,t)))}function vd(l,t,e){if(e===void 0&&(e=Oa),!t)throw lo(1,t);var s=function(a){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return l(t,e,Jb.apply(void 0,Zr([a],o,!1)))};return s.attrs=function(a){return vd(l,t,qe(qe({},e),{attrs:Array.prototype.concat(e.attrs,a).filter(Boolean)}))},s.withConfig=function(a){return vd(l,t,qe(qe({},e),a))},s}var tv=function(l){return vd($E,l)},te=tv;Hb.forEach(function(l){te[l]=tv(l)});var KE=function(){function l(t,e){this.rules=t,this.componentId=e,this.isStatic=Zb(t),ic.registerId(this.componentId+1)}return l.prototype.createStyles=function(t,e,s,a){var o=a(gd(Qi(this.rules,e,s,a)),""),u=this.componentId+t;s.insertRules(u,u,o)},l.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},l.prototype.renderStyles=function(t,e,s,a){t>2&&ic.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,e,s,a)},l}();function WE(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var s=Jb.apply(void 0,Zr([l],t,!1)),a="sc-global-".concat(Ub(JSON.stringify(s))),o=new KE(s,a),u=function(d){var p=bd(),g=Ge.useContext(jd),y=Ge.useRef(p.styleSheet.allocateGSInstance(a)).current;return p.styleSheet.server&&h(y,d,p.styleSheet,g,p.stylis),Ge.useLayoutEffect(function(){if(!p.styleSheet.server)return h(y,d,p.styleSheet,g,p.stylis),function(){return o.removeStyles(y,p.styleSheet)}},[y,d,p.styleSheet,g,p.stylis]),null};function h(d,p,g,y,b){if(o.isStatic)o.renderStyles(d,mE,g,b);else{var v=qe(qe({},p),{theme:Bb(p,y,u.defaultProps)});o.renderStyles(d,v,g,b)}}return Ge.memo(u)}const QE=te.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function ZE(){return Y.jsx(Y.Fragment,{children:Y.jsx(QE,{children:"Home"})})}const JE=te.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  align-items: center;
  padding: 100px 100px;
  
  hr{
    margin-bottom: 25px;
  }

  .pagination {
  display: flex;
  list-style: none;
  gap: 10px;
  
}

.pagination li {
  padding: 5px 10px;
  border: 1px solid #ccc;
  margin-bottom: 25px;
  cursor: pointer;
  
}

.pagination .active {
  background-color: #007bff;
  color: white;
  font-weight: bold;
}
`,tw=te.ul`
  display: flex;
  background-color: transparent;
  flex-direction: row;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  max-width: calc((260px * 5) + (10px * 4)); /* 5 itens + 4 gaps */
  margin: 0 auto 25px; /* centralizar */

  li{
  width: 260px;
  height: 250px;
  outline: 1px solid white;
  background-color: transparent;
  display: flex;
  flex-direction: column;
  text-align: center;
  justify-content: center;
  margin-bottom: 15px;
  }
`;var Wl={exports:{}},ew=Wl.exports,My;function nw(){return My||(My=1,function(l,t){(function(e,s){l.exports=s(cc())})(ew,e=>(()=>{var s={703:(h,d,p)=>{var g=p(414);function y(){}function b(){}b.resetWarningCache=y,h.exports=function(){function v(T,_,L,C,D,R){if(R!==g){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function E(){return v}v.isRequired=v;var S={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:E,element:v,elementType:v,instanceOf:E,node:v,objectOf:E,oneOf:E,oneOfType:E,shape:E,exact:E,checkPropTypes:b,resetWarningCache:y};return S.PropTypes=S,S}},697:(h,d,p)=>{h.exports=p(703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:h=>{h.exports=e}},a={};function o(h){var d=a[h];if(d!==void 0)return d.exports;var p=a[h]={exports:{}};return s[h](p,p.exports,o),p.exports}o.n=h=>{var d=h&&h.__esModule?()=>h.default:()=>h;return o.d(d,{a:d}),d},o.d=(h,d)=>{for(var p in d)o.o(d,p)&&!o.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:d[p]})},o.o=(h,d)=>Object.prototype.hasOwnProperty.call(h,d),o.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var u={};return(()=>{o.r(u),o.d(u,{default:()=>nt});var h=o(98),d=o.n(h),p=o(697),g=o.n(p);function y(){return y=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},y.apply(this,arguments)}var b=function(Q){var et=Q.pageClassName,rt=Q.pageLinkClassName,st=Q.page,O=Q.selected,H=Q.activeClassName,at=Q.activeLinkClassName,Z=Q.getEventListener,x=Q.pageSelectedHandler,j=Q.href,U=Q.extraAriaContext,V=Q.pageLabelBuilder,tt=Q.rel,lt=Q.ariaLabel||"Page "+st+(U?" "+U:""),ot=null;return O&&(ot="page",lt=Q.ariaLabel||"Page "+st+" is your current page",et=et!==void 0?et+" "+H:H,rt!==void 0?at!==void 0&&(rt=rt+" "+at):rt=at),d().createElement("li",{className:et},d().createElement("a",y({rel:tt,role:j?void 0:"button",className:rt,href:j,tabIndex:O?"-1":"0","aria-label":lt,"aria-current":ot,onKeyPress:x},Z(x)),V(st)))};b.propTypes={pageSelectedHandler:g().func.isRequired,selected:g().bool.isRequired,pageClassName:g().string,pageLinkClassName:g().string,activeClassName:g().string,activeLinkClassName:g().string,extraAriaContext:g().string,href:g().string,ariaLabel:g().string,page:g().number.isRequired,getEventListener:g().func.isRequired,pageLabelBuilder:g().func.isRequired,rel:g().string};const v=b;function E(){return E=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},E.apply(this,arguments)}var S=function(Q){var et=Q.breakLabel,rt=Q.breakAriaLabel,st=Q.breakClassName,O=Q.breakLinkClassName,H=Q.breakHandler,at=Q.getEventListener,Z=st||"break";return d().createElement("li",{className:Z},d().createElement("a",E({className:O,role:"button",tabIndex:"0","aria-label":rt,onKeyPress:H},at(H)),et))};S.propTypes={breakLabel:g().oneOfType([g().string,g().node]),breakAriaLabel:g().string,breakClassName:g().string,breakLinkClassName:g().string,breakHandler:g().func.isRequired,getEventListener:g().func.isRequired};const T=S;function _(Q){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Q??et}function L(Q){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},L(Q)}function C(){return C=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},C.apply(this,arguments)}function D(Q,et){for(var rt=0;rt<et.length;rt++){var st=et[rt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(Q,st.key,st)}}function R(Q,et){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rt,st){return rt.__proto__=st,rt},R(Q,et)}function I(Q,et){if(et&&(L(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(Q)}function N(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function $(Q){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},$(Q)}function X(Q,et,rt){return et in Q?Object.defineProperty(Q,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):Q[et]=rt,Q}var it=function(Q){(function(Z,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(x&&x.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),x&&R(Z,x)})(at,Q);var et,rt,st,O,H=(st=at,O=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Z,x=$(st);if(O){var j=$(this).constructor;Z=Reflect.construct(x,arguments,j)}else Z=x.apply(this,arguments);return I(this,Z)});function at(Z){var x,j;return function(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")}(this,at),X(N(x=H.call(this,Z)),"handlePreviousPage",function(U){var V=x.state.selected;x.handleClick(U,null,V>0?V-1:void 0,{isPrevious:!0})}),X(N(x),"handleNextPage",function(U){var V=x.state.selected,tt=x.props.pageCount;x.handleClick(U,null,V<tt-1?V+1:void 0,{isNext:!0})}),X(N(x),"handlePageSelected",function(U,V){if(x.state.selected===U)return x.callActiveCallback(U),void x.handleClick(V,null,void 0,{isActive:!0});x.handleClick(V,null,U)}),X(N(x),"handlePageChange",function(U){x.state.selected!==U&&(x.setState({selected:U}),x.callCallback(U))}),X(N(x),"getEventListener",function(U){return X({},x.props.eventListener,U)}),X(N(x),"handleClick",function(U,V,tt){var lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ot=lt.isPrevious,ht=ot!==void 0&&ot,bt=lt.isNext,Pt=bt!==void 0&&bt,_t=lt.isBreak,zt=_t!==void 0&&_t,Ht=lt.isActive,qt=Ht!==void 0&&Ht;U.preventDefault?U.preventDefault():U.returnValue=!1;var Tt=x.state.selected,Et=x.props.onClick,Ot=tt;if(Et){var It=Et({index:V,selected:Tt,nextSelectedPage:tt,event:U,isPrevious:ht,isNext:Pt,isBreak:zt,isActive:qt});if(It===!1)return;Number.isInteger(It)&&(Ot=It)}Ot!==void 0&&x.handlePageChange(Ot)}),X(N(x),"handleBreakClick",function(U,V){var tt=x.state.selected;x.handleClick(V,U,tt<U?x.getForwardJump():x.getBackwardJump(),{isBreak:!0})}),X(N(x),"callCallback",function(U){x.props.onPageChange!==void 0&&typeof x.props.onPageChange=="function"&&x.props.onPageChange({selected:U})}),X(N(x),"callActiveCallback",function(U){x.props.onPageActive!==void 0&&typeof x.props.onPageActive=="function"&&x.props.onPageActive({selected:U})}),X(N(x),"getElementPageRel",function(U){var V=x.state.selected,tt=x.props,lt=tt.nextPageRel,ot=tt.prevPageRel,ht=tt.selectedPageRel;return V-1===U?ot:V===U?ht:V+1===U?lt:void 0}),X(N(x),"pagination",function(){var U=[],V=x.props,tt=V.pageRangeDisplayed,lt=V.pageCount,ot=V.marginPagesDisplayed,ht=V.breakLabel,bt=V.breakClassName,Pt=V.breakLinkClassName,_t=V.breakAriaLabels,zt=x.state.selected;if(lt<=tt)for(var Ht=0;Ht<lt;Ht++)U.push(x.getPageElement(Ht));else{var qt=tt/2,Tt=tt-qt;zt>lt-tt/2?qt=tt-(Tt=lt-zt):zt<tt/2&&(Tt=tt-(qt=zt));var Et,Ot,It=function(_e){return x.getPageElement(_e)},Vt=[];for(Et=0;Et<lt;Et++){var nn=Et+1;if(nn<=ot)Vt.push({type:"page",index:Et,display:It(Et)});else if(nn>lt-ot)Vt.push({type:"page",index:Et,display:It(Et)});else if(Et>=zt-qt&&Et<=zt+(zt===0&&tt>1?Tt-1:Tt))Vt.push({type:"page",index:Et,display:It(Et)});else if(ht&&Vt.length>0&&Vt[Vt.length-1].display!==Ot&&(tt>0||ot>0)){var _i=Et<zt?_t.backward:_t.forward;Ot=d().createElement(T,{key:Et,breakAriaLabel:_i,breakLabel:ht,breakClassName:bt,breakLinkClassName:Pt,breakHandler:x.handleBreakClick.bind(null,Et),getEventListener:x.getEventListener}),Vt.push({type:"break",index:Et,display:Ot})}}Vt.forEach(function(_e,mn){var Jn=_e;_e.type==="break"&&Vt[mn-1]&&Vt[mn-1].type==="page"&&Vt[mn+1]&&Vt[mn+1].type==="page"&&Vt[mn+1].index-Vt[mn-1].index<=2&&(Jn={type:"page",index:_e.index,display:It(_e.index)}),U.push(Jn.display)})}return U}),Z.initialPage!==void 0&&Z.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(Z.initialPage,") and forcePage (").concat(Z.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),j=Z.initialPage?Z.initialPage:Z.forcePage?Z.forcePage:0,x.state={selected:j},x}return et=at,(rt=[{key:"componentDidMount",value:function(){var Z=this.props,x=Z.initialPage,j=Z.disableInitialCallback,U=Z.extraAriaContext,V=Z.pageCount,tt=Z.forcePage;x===void 0||j||this.callCallback(x),U&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(V)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(V,"). Did you forget a Math.ceil()?")),x!==void 0&&x>V-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(x," > ").concat(V-1,").")),tt!==void 0&&tt>V-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(tt," > ").concat(V-1,")."))}},{key:"componentDidUpdate",value:function(Z){this.props.forcePage!==void 0&&this.props.forcePage!==Z.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(Z.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var Z=this.state.selected,x=this.props,j=x.pageCount,U=Z+x.pageRangeDisplayed;return U>=j?j-1:U}},{key:"getBackwardJump",value:function(){var Z=this.state.selected-this.props.pageRangeDisplayed;return Z<0?0:Z}},{key:"getElementHref",value:function(Z){var x=this.props,j=x.hrefBuilder,U=x.pageCount,V=x.hrefAllControls;if(j)return V||Z>=0&&Z<U?j(Z+1,U,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(Z){var x=Z===this.state.selected;if(this.props.ariaLabelBuilder&&Z>=0&&Z<this.props.pageCount){var j=this.props.ariaLabelBuilder(Z+1,x);return this.props.extraAriaContext&&!x&&(j=j+" "+this.props.extraAriaContext),j}}},{key:"getPageElement",value:function(Z){var x=this.state.selected,j=this.props,U=j.pageClassName,V=j.pageLinkClassName,tt=j.activeClassName,lt=j.activeLinkClassName,ot=j.extraAriaContext,ht=j.pageLabelBuilder;return d().createElement(v,{key:Z,pageSelectedHandler:this.handlePageSelected.bind(null,Z),selected:x===Z,rel:this.getElementPageRel(Z),pageClassName:U,pageLinkClassName:V,activeClassName:tt,activeLinkClassName:lt,extraAriaContext:ot,href:this.getElementHref(Z),ariaLabel:this.ariaLabelBuilder(Z),page:Z+1,pageLabelBuilder:ht,getEventListener:this.getEventListener})}},{key:"render",value:function(){var Z=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&Z!==void 0)return Z&&Z(this.props);var x=this.props,j=x.disabledClassName,U=x.disabledLinkClassName,V=x.pageCount,tt=x.className,lt=x.containerClassName,ot=x.previousLabel,ht=x.previousClassName,bt=x.previousLinkClassName,Pt=x.previousAriaLabel,_t=x.prevRel,zt=x.nextLabel,Ht=x.nextClassName,qt=x.nextLinkClassName,Tt=x.nextAriaLabel,Et=x.nextRel,Ot=this.state.selected,It=Ot===0,Vt=Ot===V-1,nn="".concat(_(ht)).concat(It?" ".concat(_(j)):""),_i="".concat(_(Ht)).concat(Vt?" ".concat(_(j)):""),_e="".concat(_(bt)).concat(It?" ".concat(_(U)):""),mn="".concat(_(qt)).concat(Vt?" ".concat(_(U)):""),Jn=It?"true":"false",Ha=Vt?"true":"false";return d().createElement("ul",{className:tt||lt,role:"navigation","aria-label":"Pagination"},d().createElement("li",{className:nn},d().createElement("a",C({className:_e,href:this.getElementHref(Ot-1),tabIndex:It?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":Jn,"aria-label":Pt,rel:_t},this.getEventListener(this.handlePreviousPage)),ot)),this.pagination(),d().createElement("li",{className:_i},d().createElement("a",C({className:mn,href:this.getElementHref(Ot+1),tabIndex:Vt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Ha,"aria-label":Tt,rel:Et},this.getEventListener(this.handleNextPage)),zt)))}}])&&D(et.prototype,rt),Object.defineProperty(et,"prototype",{writable:!1}),at}(h.Component);X(it,"propTypes",{pageCount:g().number.isRequired,pageRangeDisplayed:g().number,marginPagesDisplayed:g().number,previousLabel:g().node,previousAriaLabel:g().string,prevPageRel:g().string,prevRel:g().string,nextLabel:g().node,nextAriaLabel:g().string,nextPageRel:g().string,nextRel:g().string,breakLabel:g().oneOfType([g().string,g().node]),breakAriaLabels:g().shape({forward:g().string,backward:g().string}),hrefBuilder:g().func,hrefAllControls:g().bool,onPageChange:g().func,onPageActive:g().func,onClick:g().func,initialPage:g().number,forcePage:g().number,disableInitialCallback:g().bool,containerClassName:g().string,className:g().string,pageClassName:g().string,pageLinkClassName:g().string,pageLabelBuilder:g().func,activeClassName:g().string,activeLinkClassName:g().string,previousClassName:g().string,nextClassName:g().string,previousLinkClassName:g().string,nextLinkClassName:g().string,disabledClassName:g().string,disabledLinkClassName:g().string,breakClassName:g().string,breakLinkClassName:g().string,extraAriaContext:g().string,ariaLabelBuilder:g().func,eventListener:g().string,renderOnZeroPageCount:g().func,selectedPageRel:g().string}),X(it,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(Q){return Q},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const nt=it})(),u})())}(Wl)),Wl.exports}var iw=nw();const sw=Ld(iw),Ly=[{titulo:"V",autor:"Felipe Rosa",poema:["Lgrimas sobre o caixo","Ela ficou no seu lado at o final","Tudo guardado no corao","Esse sempre foi meu mal"]},{titulo:"A.R.T.",autor:"Mukowski",poema:["O meu sofrimento"," a poesia que os","encanta"]},{titulo:"171",autor:"Felipe Rosa",poema:["Mscaras de sorrisos","Para no preocupar os outros","Sempre nas mentiras","Sempre pensando nas pessoas","Nunca pensado em mim"]},{titulo:"A chuva cai la fora",autor:"Felipe Rosa",poema:["O medo no passou","O dio vazou","Escondido na flor","Mas ela me causou tanto dor","Me espetou com o seu amor"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["A traio  um ponto","final que nos divide em","duas histrias."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Se segure, querida, aqui","dentro  um lugar agitado,","voc pode se machucar"]},{titulo:"Me sinto amargo",autor:"Felipe Rosa",poema:["Me tornei amargo","Sem nenhum amigo","Sem ningum para lutar comigo","E talvez eu merea","Eu escutei de mais minha cabea"]},{titulo:"Mais um ms",autor:"Felipe Rosa",poema:["Esse ms eu nem chorei tanto","Olha s, sozinho novamente","Culpa das merda da minha mente","Mas j to acostumado","E uma coisa eu garanto","No sofro mais por no ser amado"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Me perguntaram:","","-At aonde voc iria por amor?","-At o fim dele. -respondi"]},{titulo:"Lua",autor:"Felipe Rosa",poema:["Presos de novo naquele momento","E no importa o quanto eu tento"," um lupin infinito","De dor e sofrimento","E nunca vai passar","Mesmo assim eu continuo a te amar"]},{titulo:"Iris",autor:"Felipe Rosa",poema:[" to difcil de explicar","Esse tal de amar","Queria mesmo era te agradecer","Por ter me tirado do sofrer","Com voc eu queria viver","Mas est difcil de voc entender"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["O tempo passa mais","rpido quando voc no","se importa com ele"]},{titulo:"Ns dois",autor:"Felipe Rosa",poema:["Minha mo na sua cintura","Te olhar  uma grande tortura","Nossas bocas em constante contato","Nossos corpos em constante atrito","No vou mais falar apenas lembrar","Pois o que  bom no devemos divulgar"]},{titulo:"Aurora boreal",autor:"Felipe Rosa",poema:["Aurora boreal","Sua beleza  surreal","Seus olhos ofuscam","Qualquer constelao","Nossos corpos se cruzam","Ficamos na maior tentao"]},{titulo:"Sou seu",autor:"Felipe Rosa",poema:["Seu sorriso  o portal","Que me leva pro local","Aonde no existe mal","E nunca ter um final"]},{titulo:"Happy birthday",autor:"Felipe Rosa",poema:["Me sinto perdido","Sem ter um lugar","Sempre escondido","Me sinto amargurado","Lutando para no me matar"]},{titulo:"O sol e a lua",autor:"Felipe Rosa",poema:["Meu amor por voc"," como o sol","Ele s vai se apagar","Quando tudo deixar de existir.","Mas quando te vi partir","Descobri que voc  como a lua","Voc tentou me ajudar","Mas sua indeciso vive a me machuca"]},{titulo:"Sou quem sou",autor:"Felipe Rosa",poema:["Sem corao","Sem razo","Sem motivao","Estou acorrentado","Me sentindo um fracassado"]},{titulo:"Constelao",autor:"Felipe Rosa",poema:["Hoje eu percebi que voc  meu sol","E eu sou sua lua","Eu tenho uma grande indeciso","No muda o que sinto no meu corao","Voc veio para me aquecer","Me fez esquecer","Me ensinou a entender","E trouxe a minha vontade de viver"]},{titulo:"Desabafo",autor:"Felipe Rosa",poema:["Eu no me sinto bem","Mas relaxa isso no  culpa de ningum","Eu agradeo por voc ter indo embora","Ok fui eu que te mandei embora","E desculpa por ter te passado minha dor","Mas ns dois fomos culpado desse amor"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Ela foi a pessoa que mais","amei, ironicamente, foi a que","mais me destuiu."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Estar sozinho era um","presente dos deuses.","","qualquer coisa era melhor","do que estar rodeado de","pessoas vazias."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["O amor  apenas uma","forma elegante de se","altodestruir"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["EU tinha duas escolhas:","Matar nosso amor, ou deixar","que ele nos matasse."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Naquele erro,","culpei o diabo.","","At que, diante do","espelho, vi oculpado.","Mas no era ele, era eu."]},{titulo:"Porque eu te amo?",autor:"Felipe Rosa",poema:["Eu no consigo nem dizer","Voc me faz querer viver","Voc me completa, toda perfeita","s tudo aquilo que sentia falta"]},{titulo:"Para bem longe daqui",autor:"Felipe Rosa",poema:["Vem comigo vamos fugir","No precisa de lugar pra ir","S preciso que seja eu e voc","E todo o resto podemos esquecer"]},{titulo:"Sempre foi voc",autor:"Felipe Rosa",poema:["Eu posso tar apaixonado","Eu posso tar amando","Eu posso s ta sonhando","Mas em tudo tem voc"]},{titulo:"Minha linda garota",autor:"Felipe Rosa",poema:["Eu robaria a lua e apagaria o sol","S  preciso voc me pedir","No ligaria para as consequncias","Vale de tudo para te ver sorrir"]},{titulo:"Pesadelos",autor:"Felipe Rosa",poema:["Noites em terror","Relembrando toda a dor","Sempre mostrando o meu pior","Falando que nunca vou ser melhor"]}],Jh=12;function aw(){const[l,t]=P.useState(0),e=u=>{t(u.selected)},s=l*Jh,a=Ly.slice(s,s+Jh),o=Math.ceil(Ly.length/Jh);return Y.jsx(Y.Fragment,{children:Y.jsxs(JE,{children:[Y.jsx("h1",{style:{textAlign:"center"},children:"Esposio de Poesias"}),Y.jsx("hr",{style:{border:"none",height:"2px",backgroundColor:"#ffffff",width:"130%"}}),Y.jsx(tw,{children:a.map((u,h)=>Y.jsxs("li",{children:[Y.jsx("p",{children:u.titulo}),Y.jsx("br",{}),u.poema.map((d,p)=>Y.jsx("p",{children:d},p)),Y.jsx("br",{}),Y.jsxs("p",{children:["--",u.autor]})]},h))}),Y.jsx(sw,{previousLabel:" Anterior",nextLabel:"Prxima ",pageCount:o,onPageChange:e,containerClassName:"pagination",activeClassName:"active"})]})})}const rw=te.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  align-items: center;
  padding: 100px 50px;
  background-color: transparente;

  h1 {
    margin-bottom: 25px;
  }
  @media (max-width: 768px) {
    padding: 100px 10px;
  }
  @media (max-width: 450px) {
    padding: 100px 0px;
  }
`,ow=te.div`
  display: grid;
  gap: 1.2rem; /* espaamento entre colunas */
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  max-width: calc(4 * 250px + 3 * 1rem); /* limita a 4 colunas */
  @media (max-width: 768px) {
    grid-template-columns: repeat(2, 1fr); /* duas colunas iguais */
    max-width: 100%; /* ocupa toda a largura disponvel */
  }
  @media (max-width: 450px) {
    grid-template-columns: 1fr; /* apenas 1 coluna */
    max-width: 100%; /* ocupa toda a largura */
  }
`,lw=te.div`
  margin-top: 25px;
  width: 200px;
  

  img {
    width: 100%;
    margin-bottom: 10px;
    padding: 0 10px;
    border-radius: 30px;
    cursor: pointer;
  }
   p {
    text-align: center;
    margin: 10px 0;
  }
`;function cw({livro:l}){const t=Sb();return Y.jsx(Y.Fragment,{children:Y.jsxs(lw,{children:[Y.jsx("img",{onClick:()=>t(`/view/${l.id}`,{state:{titulo:l.title,autor:l.autor,img:l.img,descricao:l.descricao}}),src:l.img,alt:"imagem-projeto"}),Y.jsxs("p",{children:["Titulo: ",l.title]}),Y.jsxs("p",{children:["Autor: ",l.autor]})]})})}const uw="/vitrine_criativa/assets/O%20diario%20perdido-BlgdySwM.png",hw="/vitrine_criativa/assets/aartedaguerra-BeRWfvbf.jpg",dw="/vitrine_criativa/assets/alicepaismaravilhas-D06StZaj.jpg",fw="/vitrine_criativa/assets/romeuejulieta-B83bGC-8.jpg",pw="/vitrine_criativa/assets/meninomaluquinho-CxviLptW.jpg",gw="/vitrine_criativa/assets/monica_agua_boa-BP0pECDg.jpg";function mw(){const l=[{img:uw,title:"Diario",autor:"Felipe Rosa",id:"diario",descricao:`Algumas palavras no nascem para serem apenas lidas, elas chegam
                  como tempestades, invadem o peito e s encontram abrigo no papel.
                  Este dirio  feito dessas tempestades e calmarias, de versos que
                  carregam a fria do mar e o silncio da madrugada`},{img:hw,title:"A arte da Guerra",autor:"SUN TZU",id:"aartedaguerra",descricao:"Filsofo que se tornou general cujo nome individual era Wu, nasceu no Estado de Chi na China, prximo de 500 a.C., em um auge das cincias militares e legislativas daquele pas. Sun Tzu escreveu a Arte da Guerra."},{img:dw,title:"Alice no Pas das Maravilhas",autor:"Lewis Carroll",id:"alicepaismaravilhas",descricao:"Charles Lutwidge Dodgson mais conhecido como CARROLL, LEWIS, seu nome est inscrito na histria da literatura mundial por ser o autor de Alice no Pas das Maravilhas, o mais estranho e fascinante livro para crianas jamais escrito."},{img:fw,title:"Romeu e Julieta",autor:"William Shakespeare",id:"romeuejulieta",descricao:"H muito tempo duas famlias banham em sangue as ruas de Verona. Enquanto isso, na penumbra das madrugadas, ardem as brasas de um amor secreto. Romeu, filho dos Montquio, e Julieta, desafiam a rixa familiar e sonham com um impossvel futuro, longe da violncia e da loucura."},{img:pw,title:"O Menino Maluquinho",autor:"Ziraldo",id:"meninomaluquinho",descricao:"Nessa verso disponibilizada, gratuitamente, pelo grande Ziraldo, verso e desenho contam a histria de um menino traquinas que aprontava muita confuso. Alegria da casa, liderava a garotada, era sabido e um amigo. Fazia versinhos, canes, inventava brincadeiras."},{img:gw,title:"Monica e a Agua Boa",autor:"Mauricio de Sousa",id:"monica_agua_boa",descricao:"A Turma da Mnica ensina de forma divertida a importncia da gua potvel para a sade. Com histrias cativantes, os personagens mostram como preservar esse recurso essencial para o planeta e o bem-estar de todos."}];return Y.jsx(Y.Fragment,{children:Y.jsxs(rw,{children:[Y.jsx("h1",{style:{textAlign:"center"},children:"Esposio de livros"}),Y.jsx("hr",{style:{border:"none",height:"2px",backgroundColor:"#ffffff",width:"130%"}}),Y.jsx(ow,{children:l.map(t=>Y.jsx(cw,{livro:t},t.id))})]})})}const yw=te.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function bw(){return Y.jsx(Y.Fragment,{children:Y.jsx(yw,{children:"Desenhos"})})}const vw=te.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function Aw(){return Y.jsx(Y.Fragment,{children:Y.jsx(vw,{children:"Games"})})}const Sw=te.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function Ew(){return Y.jsx(Y.Fragment,{children:Y.jsx(Sw,{children:"Creditos"})})}const ww=te.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0;

  h2 span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
  }
  button {
    background-color: #4d7cfe;
    color: #fff;
    width: 130px;
    height: 30px;
    border-radius: 40px;
    cursor: pointer;
    border: none;
  }
  @media (max-width: 768px) {
    h2 span {
      font-size: 1.4rem;
      font-weight: 400;
    }
    button {
      width: 220px;
      height: 50px;
    }
  }
  @media (max-width: 450px) {
  }
`,_w=te.div`
  width: 80%;
  height: 70%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  @media (max-width: 900px) {
    flex-direction: column;
  }
  @media (max-width: 450px) {
  }
`,xw=te.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  h2 {
    font-size: 1.3rem;
  }
  img {
    width: 300px;
  }

  @media (max-width: 768px) {
    img {
      width: 80%;
    }
    h2 {
      font-size: 1.1rem;
    }
  }
  @media (max-width: 450px) {
  }
`,Tw=te.div`
  display: flex;
  flex-direction: column;
  justify-content: center;

  p span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
    background-color: #000;
  }
  p {
    width: 700px;
    font-size: 1.4rem;
    background-color: #000;
  }

  button {
    display: block;
    margin: 25px auto;
  }

  @media (max-width: 768px) {
   
    p {
      width: 90%;
      font-size: 1.1rem;
    }
     p span {
      font-size: 1.3rem;
      font-weight: 400;
    }

  }
  @media (max-width: 450px) {
  }
`;var ev={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dy=Ge.createContext&&Ge.createContext(ev),Cw=["attr","size","title"];function Rw(l,t){if(l==null)return{};var e=Mw(l,t),s,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(a=0;a<o.length;a++)s=o[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(l,s)&&(e[s]=l[s])}return e}function Mw(l,t){if(l==null)return{};var e={};for(var s in l)if(Object.prototype.hasOwnProperty.call(l,s)){if(t.indexOf(s)>=0)continue;e[s]=l[s]}return e}function sc(){return sc=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(l[s]=e[s])}return l},sc.apply(this,arguments)}function Oy(l,t){var e=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable})),e.push.apply(e,s)}return e}function ac(l){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Oy(Object(e),!0).forEach(function(s){Lw(l,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(e)):Oy(Object(e)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(e,s))})}return l}function Lw(l,t,e){return t=Dw(t),t in l?Object.defineProperty(l,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[t]=e,l}function Dw(l){var t=Ow(l,"string");return typeof t=="symbol"?t:t+""}function Ow(l,t){if(typeof l!="object"||!l)return l;var e=l[Symbol.toPrimitive];if(e!==void 0){var s=e.call(l,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(l)}function nv(l){return l&&l.map((t,e)=>Ge.createElement(t.tag,ac({key:e},t.attr),nv(t.child)))}function Nw(l){return t=>Ge.createElement(kw,sc({attr:ac({},l.attr)},t),nv(l.child))}function kw(l){var t=e=>{var{attr:s,size:a,title:o}=l,u=Rw(l,Cw),h=a||e.size||"1em",d;return e.className&&(d=e.className),l.className&&(d=(d?d+" ":"")+l.className),Ge.createElement("svg",sc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:d,style:ac(ac({color:l.color||e.color},e.style),l.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ge.createElement("title",null,o),l.children)};return Dy!==void 0?Ge.createElement(Dy.Consumer,null,e=>t(e)):t(ev)}function Pw(l){return Nw({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M880 112c17.7 0 32 14.3 32 32v736c0 17.7-14.3 32-32 32H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32ZM639.978 338.82l-.034.006c-.023.007-.042.018-.083.059L512 466.745l-127.86-127.86c-.042-.041-.06-.052-.084-.059a.118.118 0 0 0-.07 0c-.022.007-.041.018-.082.059l-45.02 45.019c-.04.04-.05.06-.058.083a.118.118 0 0 0 0 .07l.01.022a.268.268 0 0 0 .049.06L466.745 512l-127.86 127.862c-.041.04-.052.06-.059.083a.118.118 0 0 0 0 .07c.007.022.018.041.059.082l45.019 45.02c.04.04.06.05.083.058a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059L512 557.254l127.862 127.861c.04.041.06.052.083.059a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059l45.02-45.019c.04-.04.05-.06.058-.083a.118.118 0 0 0 0-.07l-.01-.022a.268.268 0 0 0-.049-.06L557.254 512l127.861-127.86c.041-.042.052-.06.059-.084a.118.118 0 0 0 0-.07c-.007-.022-.018-.041-.059-.082l-45.019-45.02c-.04-.04-.06-.05-.083-.058a.118.118 0 0 0-.07 0Z"},child:[]}]})(l)}const Iw=te.div`
  background-color: rgba(0, 0, 0, 1);
  width: 100vw;
  height: 100vh;
  position: fixed;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
`,zw=te.div`
  width: 60vw;
  display: flex;
  height: 100vh;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  max-width: 1200px;
  background-color: #000;
`,Bw=te(Pw)`
  color: red;
  font-size: 24px;
  cursor: pointer;
  position: relative;
  right: -570px;
`,Hw=te.div`
  perspective: 1100px;
`,Fw=te.div`
  display: flex;
  justify-content: center;
  gap: 5px;
  @media (max-width: 900px) {
    flex-direction: column; /* Empilha */
    gap: 0;
  }
`,Ny=te.div`
  transform-origin: left center;
  transition: transform 0.6s ease;
  backface-visibility: hidden;

  &.right {
    transform-origin: left center;
  }

  &.left {
    transform-origin: right center;
  }

  &.flip-right {
    transform: rotateY(-180deg);
  }

  &.flip-left {
    transform: rotateY(180deg);
  }

  /* Estilos internos do react-pdf */
  .react-pdf__Page {
    display: block;
  }

  .react-pdf__Page canvas {
    max-width: 100%;
    max-height: 90vh;
    height: auto;
  }

  @media (max-width: 900px) {
    width: 100%;
    transform: none !important; /* Remove efeito de virar 2 pginas */
  }
`,jw=te.div`
  margin-top: 10px;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap; /* Quebra em vrias linhas se necessrio */

  button {
    padding: 8px 14px;
    font-size: 16px;
    margin: 5px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background: #444;
    color: #fff;
    transition: background 0.2s ease;

    &:hover {
      background: #666;
    }

    &:disabled {
      background: #222;
      cursor: not-allowed;
    }

    @media (max-width: 900px) {
      font-size: 14px;
      padding: 6px 10px;
    }
  }
`,Uw=te.span`
  margin: 0 10px;

  @media (max-width: 900px) {
    font-size: 14px;
  }
`,Ye=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ad=[.001,0,0,.001,0,0],td=1.35,fn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Gw="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},iv={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Fe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Kr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},he={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Aa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},co={ERRORS:0,WARNINGS:1,INFOS:5},to={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Il={moveTo:0,lineTo:1,curveTo:2,closePath:3},sv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let bc=co.WARNINGS;function qw(l){Number.isInteger(l)&&(bc=l)}function Vw(){return bc}function vc(l){bc>=co.INFOS&&console.log(`Info: ${l}`)}function St(l){bc>=co.WARNINGS&&console.log(`Warning: ${l}`)}function Kt(l){throw new Error(l)}function Ae(l,t){l||Kt(t)}function Yw(l){switch(l?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ud(l,t=null,e=null){if(!l)return null;if(e&&typeof l=="string"&&(e.addDefaultProtocol&&l.startsWith("www.")&&l.match(/\./g)?.length>=2&&(l=`http://${l}`),e.tryConvertEncoding))try{l=Qw(l)}catch{}const s=t?URL.parse(l,t):URL.parse(l);return Yw(s)?s:null}function Gd(l,t,e=!1){const s=URL.parse(l);return s?(s.hash=t,s.href):e&&Ud(l,"http://example.com")?l.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Dt(l,t,e,s=!1){return Object.defineProperty(l,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Ds=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class ky extends Ds{constructor(t,e){super(t,"PasswordException"),this.code=e}}class ed extends Ds{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class rc extends Ds{constructor(t){super(t,"InvalidPDFException")}}class eo extends Ds{constructor(t,e,s){super(t,"ResponseException"),this.status=e,this.missing=s}}class Xw extends Ds{constructor(t){super(t,"FormatError")}}class Si extends Ds{constructor(t){super(t,"AbortException")}}function av(l){(typeof l!="object"||l?.length===void 0)&&Kt("Invalid argument for bytesToString");const t=l.length,e=8192;if(t<e)return String.fromCharCode.apply(null,l);const s=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),u=l.subarray(a,o);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function uo(l){typeof l!="string"&&Kt("Invalid argument for stringToBytes");const t=l.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=l.charCodeAt(s)&255;return e}function $w(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function Kw(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function Ww(){try{return new Function(""),!0}catch{return!1}}class Oe{static get isLittleEndian(){return Dt(this,"isLittleEndian",Kw())}static get isEvalSupported(){return Dt(this,"isEvalSupported",Ww())}static get isOffscreenCanvasSupported(){return Dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Dt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Dt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Dt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const nd=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));class ft{static makeHexColor(t,e,s){return`#${nd[t]}${nd[e]}${nd[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,s=0){const a=t[s],o=t[s+1];t[s]=a*e[0]+o*e[2]+e[4],t[s+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,s=0){const a=e[0],o=e[1],u=e[2],h=e[3],d=e[4],p=e[5];for(let g=0;g<6;g+=2){const y=t[s+g],b=t[s+g+1];t[s+g]=y*a+b*u+d,t[s+g+1]=y*o+b*h+p}}static applyInverseTransform(t,e){const s=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(s*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-s*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,s){const a=e[0],o=e[1],u=e[2],h=e[3],d=e[4],p=e[5],g=t[0],y=t[1],b=t[2],v=t[3];let E=a*g+d,S=E,T=a*b+d,_=T,L=h*y+p,C=L,D=h*v+p,R=D;if(o!==0||u!==0){const I=o*g,N=o*b,$=u*y,X=u*v;E+=$,_+=$,T+=X,S+=X,L+=I,R+=I,D+=N,C+=N}s[0]=Math.min(s[0],E,T,S,_),s[1]=Math.min(s[1],L,D,C,R),s[2]=Math.max(s[2],E,T,S,_),s[3]=Math.max(s[3],L,D,C,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const s=t[0],a=t[1],o=t[2],u=t[3],h=s**2+a**2,d=s*o+a*u,p=o**2+u**2,g=(h+p)/2,y=Math.sqrt(g**2-(h*p-d**2));e[0]=Math.sqrt(g+y||1),e[1]=Math.sqrt(g-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>u?null:[s,o,a,u]}static pointBoundingBox(t,e,s){s[0]=Math.min(s[0],t),s[1]=Math.min(s[1],e),s[2]=Math.max(s[2],t),s[3]=Math.max(s[3],e)}static rectBoundingBox(t,e,s,a,o){o[0]=Math.min(o[0],t,s),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,s),o[3]=Math.max(o[3],e,a)}static#t(t,e,s,a,o,u,h,d,p,g){if(p<=0||p>=1)return;const y=1-p,b=p*p,v=b*p,E=y*(y*(y*t+3*p*e)+3*b*s)+v*a,S=y*(y*(y*o+3*p*u)+3*b*h)+v*d;g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],E),g[3]=Math.max(g[3],S)}static#e(t,e,s,a,o,u,h,d,p,g,y,b){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&this.#t(t,e,s,a,o,u,h,d,-y/g,b);return}const v=g**2-4*y*p;if(v<0)return;const E=Math.sqrt(v),S=2*p;this.#t(t,e,s,a,o,u,h,d,(-g+E)/S,b),this.#t(t,e,s,a,o,u,h,d,(-g-E)/S,b)}static bezierBoundingBox(t,e,s,a,o,u,h,d,p){p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,d),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,d),this.#e(t,s,o,h,e,a,u,d,3*(-t+3*(s-o)+h),6*(t-2*s+o),3*(s-t),p),this.#e(t,s,o,h,e,a,u,d,3*(-e+3*(a-u)+d),6*(e-2*a+u),3*(a-e),p)}}function Qw(l){return decodeURIComponent(escape(l))}let id=null,Py=null;function rv(l){return id||(id=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Py=new Map([["","t"]])),l.replaceAll(id,(t,e,s)=>e?e.normalize("NFKC"):Py.get(s))}function qd(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const l=new Uint8Array(32);return crypto.getRandomValues(l),av(l)}const Vd="pdfjs_internal_id_";function Zw(l,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[s,a,...o]=e;if(!l(s)&&!Number.isInteger(s)||!t(a))return!1;const u=o.length;let h=!0;switch(a.name){case"XYZ":if(u<2||u>3)return!1;break;case"Fit":case"FitB":return u===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(u>1)return!1;break;case"FitR":if(u!==4)return!1;h=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||h&&d===null))return!1;return!0}function je(l,t,e){return Math.min(Math.max(l,t),e)}function ov(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(av(l))}function Jw(l){return Uint8Array.fromBase64?Uint8Array.fromBase64(l):uo(atob(l))}typeof Promise.try!="function"&&(Promise.try=function(l,...t){return new Promise(e=>{e(l(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(l){return l.reduce((t,e)=>t+e,0)});const mi="http://www.w3.org/2000/svg";class Cs{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ba(l,t="text"){if(Vr(l,document.baseURI)){const e=await fetch(l);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const a=new XMLHttpRequest;a.open("GET",l,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class ho{constructor({viewBox:t,userUnit:e,scale:s,rotation:a,offsetX:o=0,offsetY:u=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=s,this.rotation=a,this.offsetX=o,this.offsetY=u,s*=e;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,y,b,v;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,y=0,b=0,v=1;break;case 90:g=0,y=1,b=1,v=0;break;case 270:g=0,y=-1,b=-1,v=0;break;case 0:g=1,y=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(b=-b,v=-v);let E,S,T,_;g===0?(E=Math.abs(p-t[1])*s+o,S=Math.abs(d-t[0])*s+u,T=(t[3]-t[1])*s,_=(t[2]-t[0])*s):(E=Math.abs(d-t[0])*s+o,S=Math.abs(p-t[1])*s+u,T=(t[2]-t[0])*s,_=(t[3]-t[1])*s),this.transform=[g*s,y*s,b*s,v*s,E-g*s*d-b*s*p,S-y*s*d-v*s*p],this.width=T,this.height=_}get rawDims(){const t=this.viewBox;return Dt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new ho({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const s=[t,e];return ft.applyTransform(s,this.transform),s}convertToViewportRectangle(t){const e=[t[0],t[1]];ft.applyTransform(e,this.transform);const s=[t[2],t[3]];return ft.applyTransform(s,this.transform),[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){const s=[t,e];return ft.applyInverseTransform(s,this.transform),s}}class Ac extends Ds{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function fo(l){const t=l.length;let e=0;for(;e<t&&l[e].trim()==="";)e++;return l.substring(e,e+5).toLowerCase()==="data:"}function Sc(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function lv(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function cv(l,t="document.pdf"){if(typeof l!="string")return t;if(fo(l))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(l);let o=s.exec(a[1])||s.exec(a[2])||s.exec(a[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class Iy{started=Object.create(null);times=[];time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:a,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-a}ms
`);return t.join("")}}function Vr(l,t){const e=t?URL.parse(l,t):URL.parse(l);return e?.protocol==="http:"||e?.protocol==="https:"}function Mn(l){l.preventDefault()}function fe(l){l.preventDefault(),l.stopPropagation()}function t_(l){console.log("Deprecated API usage: "+l)}class Yd{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const s=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(u+=g,h+=y):p==="+"&&(u-=g,h-=y),new Date(Date.UTC(s,a,o,u,h,d))}}function uv(l,{scale:t=1,rotation:e=0}){const{width:s,height:a}=l.attributes.style,o=[0,0,parseInt(s),parseInt(a)];return new ho({viewBox:o,userUnit:1,scale:t,rotation:e})}function Xd(l){if(l.startsWith("#")){const t=parseInt(l.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(t=>parseInt(t)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${l}"`),[0,0,0])}function e_(l){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of l.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;l.set(e,Xd(s))}t.remove()}function ae(l){const{a:t,b:e,c:s,d:a,e:o,f:u}=l.getTransform();return[t,e,s,a,o,u]}function Vn(l){const{a:t,b:e,c:s,d:a,e:o,f:u}=l.getTransform().invertSelf();return[t,e,s,a,o,u]}function Ji(l,t,e=!1,s=!0){if(t instanceof ho){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:u}=l,h=Oe.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${o}px`,g=h?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,y=h?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=g,u.height=y):(u.width=y,u.height=g)}s&&l.setAttribute("data-main-rotation",t.rotation)}class In{constructor(){const{pixelRatio:t}=In;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,s,a,o=-1){let u=1/0,h=1/0,d=1/0;s=In.capPixels(s,o),s>0&&(u=Math.sqrt(s/(t*e))),a!==-1&&(h=a/t,d=a/e);const p=Math.min(u,h,d);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,s):s}return t}}const oc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Wr{#t=null;#e=null;#n;#i=null;#a=null;#s=null;static#l=null;constructor(t){this.#n=t,Wr.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Mn,{signal:e}),t.addEventListener("pointerdown",Wr.#o,{signal:e});const s=this.#i=document.createElement("div");s.className="buttons",t.append(s);const a=this.#n.toolbarPosition;if(a){const{style:o}=t,u=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,fe(t)}#c(t){this.#n._focusEventsAllowed=!0,fe(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Mn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",Wr.#l[t]),this.#d(s),s.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#i.append(s)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.prepend(e,this.#f),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#d(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class n_{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Mn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let s=0,a=0;for(const o of t){const u=o.y+o.height;if(u<s)continue;const h=o.x+(e?o.width:0);if(u>s){a=h,s=u;continue}e?h>a&&(a=h):h<a&&(a=h)}return[e?1-a:a,s]}show(t,e,s){const[a,o]=this.#a(e,s),{style:u}=this.#e||=this.#i();t.append(this.#e),u.insetInlineEnd=`${100*a}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#n._signal;t.addEventListener("contextmenu",Mn,{signal:s}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:s}),this.#t.append(t)}}function hv(l,t,e){for(const s of e)t.addEventListener(s,l[s].bind(l))}class i_{#t=0;get id(){return`${Gw}${this.#t++}`}}class $d{#t=qd();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Dt(this,"_isSVGFittingCanvas",o)}async#i(t,e){this.#n||=new Map;let s=this.#n.get(t);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(s.url=e,a=await Ba(e,"blob")):e instanceof File?a=s.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=$d._isSVGFittingCanvas,u=new FileReader,h=new Image,d=new Promise((p,g)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},u.onload=async()=>{const y=s.svgUrl=u.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=u.onerror=g});u.readAsDataURL(a),await d}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){St(a),s=null}return this.#n.set(t,s),s&&this.#n.set(s.id,s),s}async getFromFile(t){const{lastModified:e,name:s,size:a,type:o}=t;return this.#i(`${e}_${s}_${a}_${o}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const s=await e;return this.#i(t,s)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let s=this.#n.get(t);if(s?.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,s),this.#n.set(s.id,s),s}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=a.convertToBlob()}s.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class s_{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:s,mustExec:a,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:h=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:s,type:o};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(d);return}if(u&&this.#t[this.#i].type===o){h&&(d.undo=this.#t[this.#i].undo),this.#t[this.#i]=d;return}const p=this.#i+1;p===this.#n?this.#t.splice(0,1):(this.#i=p,p<this.#t.length&&this.#t.splice(p)),this.#t.push(d)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class po{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Oe.platform;for(const[s,a,o={}]of t)for(const u of s){const h=u.startsWith("mac+");e&&h?(this.callbacks.set(u.slice(4),{callback:a,options:o}),this.allKeys.add(u.split("+").at(-1))):!e&&!h&&(this.callbacks.set(u,{callback:a,options:o}),this.allKeys.add(u.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(this.#t(e));if(!s)return;const{callback:a,options:{bubbles:o=!1,args:u=[],checker:h=null}}=s;h&&!h(t,e)||(a.bind(t,...u,e)(),o||fe(e))}}class Kd{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return e_(t),Dt(this,"_colors",t)}convert(t){const e=Xd(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,a]of this._colors)if(a.every((o,u)=>o===e[u]))return Kd._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?ft.makeHexColor(...e):t}}class Ei{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#a=null;#s=null;#l=null;#o=new s_;#h=null;#c=null;#d=0;#u=new Set;#f=null;#r=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#y=!1;#b=null;#v=null;#S=null;#w=null;#x=!1;#C=null;#M=new i_;#E=!1;#R=!1;#T=null;#D=null;#O=null;#N=null;#F=null;#_=At.NONE;#A=new Set;#z=null;#B=null;#G=null;#q=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#j=[0,0];#k=null;#P=null;#U=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ei.prototype,e=u=>u.#P.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Dt(this,"_keyboardManager",new po([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#P.contains(h)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#P.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,s,a,o,u,h,d,p,g,y,b,v,E){const S=this._signal=this.#t.signal;this.#P=t,this.#U=e,this.#a=s,this.#B=a,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:S}),this.#it(),this.#ot(),this.#W(),this.#s=u.annotationStorage,this.#b=u.filterFactory,this.#G=h,this.#w=d||null,this.#m=p,this.#g=g,this.#y=y,this.#F=b||null,this.viewParameters={realScale:Cs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=E!==!1}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#N?.clear(),this.#e=null,this.#A.clear(),this.#o.destroy(),this.#a?.destroy(),this.#B?.destroy(),this.#C?.hide(),this.#C=null,this.#O?.destroy(),this.#O=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#F}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Dt(this,"hcmFilter",this.#G?this.#b.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Dt(this,"direction",getComputedStyle(this.#P).direction)}get highlightColors(){return Dt(this,"highlightColors",this.#w?new Map(this.#w.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#O=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#B?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#B}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#P.focus()}findParent(t,e){for(const s of this.#i.values()){const{x:a,y:o,width:u,height:h}=s.div.getBoundingClientRect();if(t>=a&&t<=a+u&&e>=o&&e<=o+h)return s}return null}disableUserSelect(t=!1){this.#U.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Cs.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#X({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of this.#i.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:o,focusOffset:u}=e,h=e.toString(),p=this.#X(e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const y=this.#K(p),b=this.#_===At.NONE,v=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:a,focusNode:o,focusOffset:u,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(At.HIGHLIGHT,v);return}v()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=this.#X(t).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(this.#C||=new n_(this),this.#C.show(s,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#z&&(this.#C?.hide(),this.#z=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#z)return;const a=this.#X(t).closest(".textLayer");if(!a){this.#z&&(this.#C?.hide(),this.#z=null,this.#L({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#z=e,this.#L({hasSelectedText:!0}),!(this.#_!==At.HIGHLIGHT&&this.#_!==At.NONE)&&(this.#_===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#_===At.HIGHLIGHT?this.#K(a):null;o?.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),d=p=>{p.type==="pointerup"&&p.button!==0||(u.abort(),o?.toggleDrawing(!0),p.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}}#$(t=""){this.#_===At.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#st(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#at(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#W(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#rt(){this.#T?.abort(),this.#T=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#Q()}removeEditListeners(){this.#rt(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of this.#r)if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of this.#r)if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of this.#A){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const u of this.#r)if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){St(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const d of s){const p=await a.deserialize(d);if(!p)return;o.push(p)}const u=()=>{for(const d of o)this.#J(d);this.#tt(o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}catch(o){St(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==At.NONE&&!this.isEditorHandlingKeyboard&&Ei._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#L(t){Object.entries(t).some(([s,a])=>this.#V[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#_===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[Nt.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#st(),this.#Q(),this.#L({isEditing:this.#_!==At.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#at(),this.#Z(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#r){this.#r=t;for(const e of this.#r)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(this.#_!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#_=t,t===At.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#I.resolve();return}t===At.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const a of this.#i.values())a.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const a of this.#n.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#r){switch(t){case Nt.CREATE:this.currentLayer.addNewEditor(e);return;case Nt.HIGHLIGHT_DEFAULT_COLOR:this.#O?.updateColor(e);break;case Nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const s of this.#A)s.updateParams(t,e);for(const s of this.#r)s.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#q?.get(Nt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[Nt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#E){this.#E=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const s of this.#n.values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#A);return t}updateUI(t){this.#ut===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#L({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(t){this.#o.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(t){this.#o.cleanType(t)}#Y(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],s=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#J(o)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#_!==At.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#j[0]+=t,this.#j[1]+=e;const[a,o]=this.#j,u=[...this.#A],h=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#j[0]=this.#j[1]=0,this.addCommands({cmd:()=>{for(const d of u)this.#n.has(d.id)&&(d.translateInPage(a,o),d.translationDone())},undo:()=>{for(const d of u)this.#n.has(d.id)&&(d.translateInPage(-a,-o),d.translationDone())},mustExec:!1})},h);for(const d of u)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#A)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:a,y:o,pageIndex:u},h]of t)h.newX=a,h.newY=o,h.newPageIndex=u,e||=a!==h.savedX||o!==h.savedY||u!==h.savedPageIndex;if(!e)return!1;const s=(a,o,u,h)=>{if(this.#n.has(a.id)){const d=this.#i.get(h);d?a._setParentAndPosition(d,o,u):(a.pageIndex=h,a.x=o,a.y=u)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:u,newPageIndex:h}]of t)s(a,o,u,h)},undo:()=>{for(const[a,{savedX:o,savedY:u,savedPageIndex:h}]of t)s(a,o,u,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const s of this.#f.keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#_}get imageManager(){return Dt(this,"imageManager",new $d)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:a,width:o,height:u}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,y,b)=>({x:(g-a)/u,y:1-(p+y-s)/o,width:b/u,height:y/o});break;case"180":h=(p,g,y,b)=>({x:1-(p+y-s)/o,y:1-(g+b-a)/u,width:y/o,height:b/u});break;case"270":h=(p,g,y,b)=>({x:1-(g+b-a)/u,y:(p-s)/o,width:b/u,height:y/o});break;default:h=(p,g,y,b)=>({x:(p-s)/o,y:(g-a)/u,width:y/o,height:b/u});break}const d=[];for(let p=0,g=e.rangeCount;p<g;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:b,y:v,width:E,height:S}of y.getClientRects())E===0||S===0||d.push(h(b,v,E,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#l||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){const e=this.#l?.get(t.data.id);if(!e)return;const s=this.#s.getRawValue(e);s&&(this.#_===At.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}setMissingCanvas(t,e,s){const a=this.#N?.get(t);a&&(a.setCanvas(e,s),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class $n{#t=null;#e=!1;#n=null;#i=null;#a=null;#s=null;#l=!1;#o=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,$n.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){$n._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",$n.#f.missing),e.setAttribute("data-l10n-id",$n.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#h._uiManager._signal;t.addEventListener("contextmenu",Mn,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const a=o=>{o.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",a,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#l=!0,a(o))},{signal:s}),await this.#p(),t}get#r(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await $n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:a,cancel:o=!1}){s&&(this.#c=s,this.#d=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",$n.#f[this.#r]),this.#i?.setAttribute("data-l10n-id",$n.#f[`${this.#r}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const a=100,o=this.#h._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class go{#t;#e=!1;#n=null;#i;#a;#s;#l;#o=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:u=null,signal:h}){this.#t=t,this.#n=s,this.#i=e,this.#a=a,this.#s=o,this.#l=u,this.#d=new AbortController,this.#h=AbortSignal.any([h,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/In.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#h,a.signal]),u=this.#t,h={capture:!0,signal:o,passive:!1},d=p=>{p.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};u.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(fe(p),d(p))},h),u.addEventListener("pointerup",d,h),u.addEventListener("pointercancel",d,h);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#h,this.#u.signal]),o=this.#t,u={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#r.bind(this),u);const h=this.#p.bind(this);o.addEventListener("touchend",h,u),o.addEventListener("touchcancel",h,u),u.capture=!0,o.addEventListener("pointerdown",fe,u),o.addEventListener("pointermove",fe,u),o.addEventListener("pointercancel",fe,u),o.addEventListener("pointerup",fe,u),this.#a?.()}if(fe(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#r(t){if(!this.#c||t.touches.length!==2)return;fe(t);let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]);const{screenX:a,screenY:o}=e,{screenX:u,screenY:h}=s,d=this.#c,{touch0X:p,touch0Y:g,touch1X:y,touch1Y:b}=d,v=y-p,E=b-g,S=u-a,T=h-o,_=Math.hypot(S,T)||1,L=Math.hypot(v,E)||1;if(!this.#e&&Math.abs(L-_)<=go.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=o,d.touch1X=u,d.touch1Y=h,!this.#e){this.#e=!0;return}const C=[(a+u)/2,(o+h)/2];this.#s?.(C,L,_)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(fe(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#n=null;#i=!1;#a=null;#s="";#l=!1;#o=null;#h=null;#c=null;#d=null;#u="";#f=!1;#r=null;#p=!1;#m=!1;#g=!1;#y=null;#b=0;#v=0;#S=null;#w=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#C=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Kd;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=Ei.TRANSLATE_SMALL,s=Ei.TRANSLATE_BIG;return Dt(this,"_resizerKeyboardManager",new po([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[o,u];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new a_({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Kt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#U(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,a){const[o,u]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(t+s)/o,this.y=(e+a)/u,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[s,a]=this.parentDimensions;this.setAt(t*s,e*a,this.width*s,this.height*a),this._onTranslated()}#M([t,e],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#r||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#r||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:u,y:h}=this;const[d,p]=this.getBaseTranslation();u+=d,h+=p;const{style:g}=s;g.left=`${(100*u).toFixed(2)}%`,g.top=`${(100*h).toFixed(2)}%`,this._onTranslating(u,h),s.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}get _hasBeenResized(){return!!this.#r&&(this.#r[2]!==this.width||this.#r[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=pt,a=s/t,o=s/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[s,a]}=this;let{x:o,y:u,width:h,height:d}=this;if(h*=s,d*=a,o*=s,u*=a,this._mustFixPosition)switch(t){case 0:o=je(o,0,s-h),u=je(u,0,a-d);break;case 90:o=je(o,0,s-d),u=je(u,h,a);break;case 180:o=je(o,h,s),u=je(u,d,a);break;case 270:o=je(o,d,s),u=je(u,0,a-h);break}this.x=o/=s,this.y=u/=a;const[p,g]=this.getBaseTranslation();o+=p,u+=g,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*u).toFixed(2)}%`,this.moveInDOM()}static#E(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#E(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#E(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,a]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*t/s).toFixed(2)}%`,this.#l||(o.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,a=s.endsWith("%"),o=!this.#l&&e.endsWith("%");if(a&&o)return;const[u,h]=this.parentDimensions;a||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!this.#l&&!o&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const a=document.createElement("div");this.#o.append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",this.#D.bind(this,s),{signal:e}),a.addEventListener("contextmenu",Mn,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#o)}#D(t,e){e.preventDefault();const{isMac:s}=Oe.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#F.bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("touchmove",fe,{passive:!1,signal:u}),window.addEventListener("contextmenu",Mn,{signal:u}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=h,this.div.style.cursor=d,this.#N()};window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("blur",p,{signal:u})}#O(t,e,s,a){this.width=s,this.height=a,this.x=t,this.y=e;const[o,u]=this.parentDimensions;this.setDims(o*s,u*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:s,savedHeight:a}=this.#c;this.#c=null;const o=this.x,u=this.y,h=this.width,d=this.height;o===t&&u===e&&h===s&&d===a||this.addCommands({cmd:this.#O.bind(this,o,u,h,d),undo:this.#O.bind(this,t,e,s,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#F(t,e){const[s,a]=this.parentDimensions,o=this.x,u=this.y,h=this.width,d=this.height,p=pt.MIN_SIZE/s,g=pt.MIN_SIZE/a,y=this.#R(this.rotation),b=(O,H)=>[y[0]*O+y[2]*H,y[1]*O+y[3]*H],v=this.#R(360-this.rotation),E=(O,H)=>[v[0]*O+v[2]*H,v[1]*O+v[3]*H];let S,T,_=!1,L=!1;switch(t){case"topLeft":_=!0,S=(O,H)=>[0,0],T=(O,H)=>[O,H];break;case"topMiddle":S=(O,H)=>[O/2,0],T=(O,H)=>[O/2,H];break;case"topRight":_=!0,S=(O,H)=>[O,0],T=(O,H)=>[0,H];break;case"middleRight":L=!0,S=(O,H)=>[O,H/2],T=(O,H)=>[0,H/2];break;case"bottomRight":_=!0,S=(O,H)=>[O,H],T=(O,H)=>[0,0];break;case"bottomMiddle":S=(O,H)=>[O/2,H],T=(O,H)=>[O/2,0];break;case"bottomLeft":_=!0,S=(O,H)=>[0,H],T=(O,H)=>[O,0];break;case"middleLeft":L=!0,S=(O,H)=>[0,H/2],T=(O,H)=>[O,H/2];break}const C=S(h,d),D=T(h,d);let R=b(...D);const I=pt._round(o+R[0]),N=pt._round(u+R[1]);let $=1,X=1,it,nt;if(e.fromKeyboard)({deltaX:it,deltaY:nt}=e);else{const{screenX:O,screenY:H}=e,[at,Z]=this.#h;[it,nt]=this.screenToPageTranslation(O-at,H-Z),this.#h[0]=O,this.#h[1]=H}if([it,nt]=E(it/s,nt/a),_){const O=Math.hypot(h,d);$=X=Math.max(Math.min(Math.hypot(D[0]-C[0]-it,D[1]-C[1]-nt)/O,1/h,1/d),p/h,g/d)}else L?$=je(Math.abs(D[0]-C[0]-it),p,1)/h:X=je(Math.abs(D[1]-C[1]-nt),g,1)/d;const Q=pt._round(h*$),et=pt._round(d*X);R=b(...T(Q,et));const rt=I-R[0],st=N-R[1];this.#r||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=et,this.x=rt,this.y=st,this.setDims(s*Q,a*et),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new Wr(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||($n.initialize(pt._l10n),this.#n=new $n(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*s/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),hv(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#w||=new go({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#z.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#_(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(t,e,s){let o=.7*(s/e)+1-.7;if(o===1)return;const u=this.#R(this.rotation),h=(I,N)=>[u[0]*I+u[2]*N,u[1]*I+u[3]*N],[d,p]=this.parentDimensions,g=this.x,y=this.y,b=this.width,v=this.height,E=pt.MIN_SIZE/d,S=pt.MIN_SIZE/p;o=Math.max(Math.min(o,1/b,1/v),E/b,S/v);const T=pt._round(b*o),_=pt._round(v*o);if(T===b&&_===v)return;this.#r||=[g,y,b,v];const L=h(b/2,v/2),C=pt._round(g+L[0]),D=pt._round(y+L[1]),R=h(T/2,_/2);this.x=C-R[0],this.y=D-R[1],this.width=T,this.height=_,this.setDims(d*T,p*_),this.fixAndSetPosition(),this._onResizing()}#z(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(t){const{isMac:e}=Oe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#B(t)}#B(t){const{isMac:e}=Oe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),u={capture:!0,passive:!1,signal:o},h=p=>{a.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#B(p),s&&this._onStopDragging()};e&&(this.#b=t.clientX,this.#v=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",p=>{s||(s=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:b}=p;if(b!==this.#a){fe(p);return}const[v,E]=this.screenToPageTranslation(g-this.#b,y-this.#v);this.#b=g,this.#v=y,this._uiManager.dragSelectedEditors(v,E)},u),window.addEventListener("touchmove",fe,u),window.addEventListener("pointerdown",p=>{p.pointerType===this.#s&&(this.#w||p.isPrimary)&&h(p),fe(p)},u));const d=p=>{if(!this.#a||this.#a===p.pointerId){h(p);return}fe(p)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,s=this.rotation){const a=this.parentScale,[o,u]=this.pageDimensions,[h,d]=this.pageTranslation,p=t/a,g=e/a,y=this.x*o,b=this.y*u,v=this.width*o,E=this.height*u;switch(s){case 0:return[y+p+h,u-b-g-E+d,y+p+v+h,u-b-g+d];case 90:return[y+g+h,u-b+p+d,y+g+E+h,u-b+p+v+d];case 180:return[y-p-v+h,u-b+g+d,y-p+h,u-b+g+E+d];case 270:return[y-g-E+h,u-b-p-v+d,y-g+h,u-b-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,a,o,u]=t,h=o-s,d=u-a;switch(this.rotation){case 0:return[s,e-u,h,d];case 90:return[s,e-a,d,h];case 180:return[o,e-a,h,d];case 270:return[o,e-u,d,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:u}=window;return e<u&&a>0&&t<o&&s>0}#q(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Kt("An editor must be serializable")}static async deserialize(t,e,s){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,u]=a.pageDimensions,[h,d,p,g]=a.getRectInCurrentCoords(t.rect,u);return a.x=h/o,a.y=d/u,a.width=p/o,a.height=g/u,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#U(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#w?.destroy(),this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const u=this.#V.bind(this),h=this.#j.bind(this),d=this._uiManager._signal;for(const p of this.#e){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:d}),p.addEventListener("blur",h,{signal:d}),p.addEventListener("focus",this.#k.bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",pt._l10nResizer[g])}}const s=this.#e[0];let a=0;for(const u of e){if(u===s)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let h=0;h<a-o;h++)this.#o.append(this.#o.firstChild);else if(o>a)for(let h=0;h<o-a;h++)this.#o.firstChild.before(this.#o.lastChild);let u=0;for(const h of e){const p=this.#e[u++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",pt._l10nResizer[p])}}this.#P(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){pt._resizerKeyboardManager.exec(this,t)}#j(t){this.#g&&t.relatedTarget?.parentNode!==this.#o&&this.#U()}#k(t){this.#u=this.#g?t:""}#P(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#F(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#U(){this.#g=!1,this.#P(-1),this.#N()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;const s=t/e,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:s}=t;let a=this.#S.get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(s),this.#S.size===0&&(this.#S=null)},pt._telemetryTimeout),this.#S.set(s,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class a_ extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const zy=3285377520,Tn=4294901760,Yn=65535;class dv{constructor(t){this.h1=t?t&4294967295:zy,this.h2=t?t&4294967295:zy}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let S=0,T=t.length;S<T;S++){const _=t.charCodeAt(S);_<=255?e[s++]=_:(e[s++]=_>>>8,e[s++]=_&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,o=s-a*4,u=new Uint32Array(e.buffer,0,a);let h=0,d=0,p=this.h1,g=this.h2;const y=3432918353,b=461845907,v=y&Yn,E=b&Yn;for(let S=0;S<a;S++)S&1?(h=u[S],h=h*y&Tn|h*v&Yn,h=h<<15|h>>>17,h=h*b&Tn|h*E&Yn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(d=u[S],d=d*y&Tn|d*v&Yn,d=d<<15|d>>>17,d=d*b&Tn|d*E&Yn,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=e[a*4+2]<<16;case 2:h^=e[a*4+1]<<8;case 1:h^=e[a*4],h=h*y&Tn|h*v&Yn,h=h<<15|h>>>17,h=h*b&Tn|h*E&Yn,a&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Tn|t*36045&Yn,e=e*4283543511&Tn|((e<<16|t>>>16)*2950163797&Tn)>>>16,t^=e>>>1,t=t*444984403&Tn|t*60499&Yn,e=e*3301882366&Tn|((e<<16|t>>>16)*3120437893&Tn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Sd=Object.freeze({map:null,hash:"",transfer:void 0});class Wd{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=this.#n.get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=this.#n.get(t);let a=!1;if(s!==void 0)for(const[o,u]of Object.entries(e))s[o]!==u&&(a=!0,s[o]=u);else a=!0,this.#n.set(t,e);a&&this.#i(),e instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fv(this)}get serializable(){if(this.#n.size===0)return Sd;const t=new Map,e=new dv,s=[],a=Object.create(null);let o=!1;for(const[u,h]of this.#n){const d=h instanceof pt?h.serialize(!1,a):h;d&&(t.set(u,d),e.update(`${u}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Sd}get editorStats(){let t=null;const e=new Map;for(const s of this.#n.values()){if(!(s instanceof pt))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const u=t[o]||=new Map;for(const[h,d]of Object.entries(a)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[s,a]of e)t[s]=a.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof pt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class fv extends Wd{#t;constructor(t){super();const{map:e,hash:s,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:s,transfer:a}}get print(){Kt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Dt(this,"modifiedIds",{ids:new Set,hash:""})}}class r_{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:s}){if(!(!t||this.#t.has(t.loadedName))){if(Ae(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:u}=t,h=new FontFace(a,o,u);this.addNativeFontFace(h);try{await h.load(),this.#t.add(a),s?.(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}Kt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw St(`Failed to load font '${s.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Dt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Dt(this,"isSyncFontLoadingSupported",Ye||Oe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ae(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:e,callback:t};return s.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Dt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(D,R){return D.charCodeAt(R)<<24|D.charCodeAt(R+1)<<16|D.charCodeAt(R+2)<<8|D.charCodeAt(R+3)&255}function a(D,R,I,N){const $=D.substring(0,R),X=D.substring(R+I);return $+N+X}let o,u;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let p=0;function g(D,R){if(++p>30){St("Load test font never loaded."),R();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(g.bind(null,D,R))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,y.length,y);const E=16,S=1482184792;let T=s(b,E);for(o=0,u=y.length-3;o<u;o+=4)T=T-S+s(y,o)|0;o<y.length&&(T=T-S+s(y+"XXX",o)|0),b=a(b,E,4,$w(T));const _=`url(data:font/opentype;base64,${btoa(b)});`,L=`@font-face {font-family:"${y}";src:${_}}`;this.insertRule(L);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const D of[t.loadedName,y]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=D,C.append(R)}this._document.body.append(C),g(y,()=>{C.remove(),e.complete()})}}class o_{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${ov(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const s=this.loadedName+"_path_"+e;let a;try{a=t.get(s)}catch(u){St(`getPathGenerator - ignoring character: "${u}".`)}const o=new Path2D(a||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[e]=o}}function l_(l){if(l instanceof URL)return l.href;if(typeof l=="string"){if(Ye)return l;const t=URL.parse(l,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function c_(l){if(Ye&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return uo(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l?.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zl(l){if(typeof l!="string")return null;if(l.endsWith("/"))return l;throw new Error(`Invalid factory url: "${l}" must include trailing slash.`)}const Ed=l=>typeof l=="object"&&Number.isInteger(l?.num)&&l.num>=0&&Number.isInteger(l?.gen)&&l.gen>=0,u_=l=>typeof l=="object"&&typeof l?.name=="string",pv=Zw.bind(null,Ed,u_);class h_{#t=new Map;#e=Promise.resolve();postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,s)})}addEventListener(t,e,s=null){let a=null;if(s?.signal instanceof AbortSignal){const{signal:o}=s;if(o.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Bl={DATA:1,ERROR:2},be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function By(){}function tn(l){if(l instanceof Si||l instanceof rc||l instanceof ky||l instanceof eo||l instanceof ed)return l;switch(l instanceof Error||typeof l=="object"&&l!==null||Kt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new Si(l.message);case"InvalidPDFException":return new rc(l.message);case"PasswordException":return new ky(l.message,l.code);case"ResponseException":return new eo(l.message,l.status,l.missing);case"UnknownErrorException":return new ed(l.message,l.details)}return new ed(l.message,l.toString())}class Yr{#t=new AbortController;constructor(t,e,s){this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const s=t.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Bl.DATA)a.resolve(t.data);else if(t.callback===Bl.ERROR)a.reject(tn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(u){o.postMessage({sourceName:s,targetName:a,callback:Bl.DATA,callbackId:t.callbackId,data:u})},function(u){o.postMessage({sourceName:s,targetName:a,callback:Bl.ERROR,callbackId:t.callbackId,reason:tn(u)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},s)}catch(u){o.reject(u)}return o.promise}sendWithStream(t,e,s,a){const o=this.streamId++,u=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:u,targetName:h,action:t,streamId:o,data:e,desiredSize:p.desiredSize},a),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,d.postMessage({sourceName:u,targetName:h,stream:be.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ae(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:u,targetName:h,stream:be.CANCEL,streamId:o,reason:tn(p)}),g.promise}},s)}#n(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,o=this.comObj,u=this,h=this.actionHandler[t.action],d={enqueue(p,g=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:a,stream:be.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:a,stream:be.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){Ae(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:a,stream:be.ERROR,streamId:e,reason:tn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(h,t.data,d).then(function(){o.postMessage({sourceName:s,targetName:a,stream:be.START_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:a,stream:be.START_COMPLETE,streamId:e,reason:tn(p)})})}#i(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,o=this.comObj,u=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case be.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(tn(t.reason));break;case be.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(tn(t.reason));break;case be.PULL:if(!h){o.postMessage({sourceName:s,targetName:a,stream:be.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||By).then(function(){o.postMessage({sourceName:s,targetName:a,stream:be.PULL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:a,stream:be.PULL_COMPLETE,streamId:e,reason:tn(p)})});break;case be.ENQUEUE:if(Ae(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case be.CLOSE:if(Ae(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this.#a(u,e);break;case be.ERROR:Ae(u,"error should have stream controller"),u.controller.error(tn(t.reason)),this.#a(u,e);break;case be.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(tn(t.reason)),this.#a(u,e);break;case be.CANCEL:if(!h)break;const d=tn(t.reason);Promise.try(h.onCancel||By,d).then(function(){o.postMessage({sourceName:s,targetName:a,stream:be.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:a,stream:be.CANCEL_COMPLETE,streamId:e,reason:tn(p)})}),h.sinkCapability.reject(d),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class gv{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Kt("Abstract method `_createCanvas` called.")}}class d_ extends gv{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class mv{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class Hy extends mv{async _fetch(t){const e=await Ba(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):uo(e)}}class yv{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,a,o){return"none"}destroy(t=!1){}}class f_ extends yv{#t;#e;#n;#i;#a;#s;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#a=e}get#o(){return this.#e||=new Map}get#h(){return this.#s||=new Map}get#c(){if(!this.#n){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const s=this.#a.createElementNS(mi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#a.createElementNS(mi,"defs"),t.append(s),s.append(this.#n),this.#a.body.append(t)}return this.#n}#d(t){if(t.length===1){const d=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=d[y]/255;const g=p.join(",");return[g,g,g]}const[e,s,a]=t,o=new Array(256),u=new Array(256),h=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,u[d]=s[d]/255,h[d]=a[d]/255;return[o.join(","),u.join(","),h.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(fo(e)?St('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Gd(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[s,a,o]=this.#d(t),u=t.length===1?s:`${s}${a}${o}`;if(e=this.#o.get(u),e)return this.#o.set(t,e),e;const h=`g_${this.#i}_transfer_map_${this.#l++}`,d=this.#u(h);this.#o.set(t,d),this.#o.set(u,d);const p=this.#p(h);return this.#g(s,a,o,p),d}addHCMFilter(t,e){const s=`${t}-${e}`,a="base";let o=this.#h.get(a);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#h.set(a,o)),!t||!e))return o.url;const u=this.#b(t);t=ft.makeHexColor(...u);const h=this.#b(e);if(e=ft.makeHexColor(...h),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const E=v/255;d[v]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=d.join(","),g=`g_${this.#i}_hcm_filter`,y=o.filter=this.#p(g);this.#g(p,p,p,y),this.#r(y);const b=(v,E)=>{const S=u[v]/255,T=h[v]/255,_=new Array(E+1);for(let L=0;L<=E;L++)_[L]=S+L/E*(T-S);return _.join(",")};return this.#g(b(0,5),b(1,5),b(2,5),y),o.url=this.#u(g),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[s]=this.#d([t]),a=`alpha_${s}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_alpha_map_${this.#l++}`,u=this.#u(o);this.#o.set(t,u),this.#o.set(a,u);const h=this.#p(o);return this.#y(s,h),u}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let s,a;if(t?([s]=this.#d([t]),a=`luminosity_${s}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_luminosity_map_${this.#l++}`,u=this.#u(o);this.#o.set(t,u),this.#o.set(a,u);const h=this.#p(o);return this.#f(h),t&&this.#y(s,h),u}addHighlightHCMFilter(t,e,s,a,o){const u=`${e}-${s}-${a}-${o}`;let h=this.#h.get(t);if(h?.key===u||(h?(h.filter?.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},this.#h.set(t,h)),!e||!s))return h.url;const[d,p]=[e,s].map(this.#b.bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[b,v]=[a,o].map(this.#b.bind(this));y<g&&([g,y,b,v]=[y,g,v,b]),this.#c.style.color="";const E=(_,L,C)=>{const D=new Array(256),R=(y-g)/C,I=_/255,N=(L-_)/(255*C);let $=0;for(let X=0;X<=C;X++){const it=Math.round(g+X*R),nt=I+X*N;for(let Q=$;Q<=it;Q++)D[Q]=nt;$=it+1}for(let X=$;X<256;X++)D[X]=D[$-1];return D.join(",")},S=`g_${this.#i}_hcm_${t}_filter`,T=h.filter=this.#p(S);return this.#r(T),this.#g(E(b[0],v[0],5),E(b[1],v[1],5),E(b[2],v[2],5),T),h.url=this.#u(S),h.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#l=0)}#f(t){const e=this.#a.createElementNS(mi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#r(t){const e=this.#a.createElementNS(mi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(mi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,s){const a=this.#a.createElementNS(mi,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)}#g(t,e,s,a){const o=this.#a.createElementNS(mi,"feComponentTransfer");a.append(o),this.#m(o,"feFuncR",t),this.#m(o,"feFuncG",e),this.#m(o,"feFuncB",s)}#y(t,e){const s=this.#a.createElementNS(mi,"feComponentTransfer");e.append(s),this.#m(s,"feFuncA",t)}#b(t){return this.#c.style.color=t,Xd(getComputedStyle(this.#c).getPropertyValue("color"))}}class bv{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class Fy extends bv{async _fetch(t){const e=await Ba(t,"arraybuffer");return new Uint8Array(e)}}class vv{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Kt("Abstract method `_fetch` called.")}}class jy extends vv{async _fetch(t){const e=await Ba(t,"arraybuffer");return new Uint8Array(e)}}Ye&&St("Please use the `legacy` build in Node.js environments.");async function Qd(l){const e=await process.getBuiltinModule("fs").promises.readFile(l);return new Uint8Array(e)}class p_ extends yv{}class g_ extends gv{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class m_ extends mv{async _fetch(t){return Qd(t)}}class y_ extends bv{async _fetch(t){return Qd(t)}}class b_ extends vv{async _fetch(t){return Qd(t)}}const Ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function wd(l,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,s),l.clip(a)}class Zd{isModifyingCurrentTransform(){return!1}getPattern(){Kt("Abstract method `getPattern` called.")}}class v_ extends Zd{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,a){let o;if(a===Ie.STROKE||a===Ie.FILL){const u=e.current.getClippedPathBoundingBox(a,ae(t))||[0,0,0,0],h=Math.ceil(u[2]-u[0])||1,d=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),s=ft.transform(s,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),wd(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else wd(t,this._bbox),o=this._createGradient(t);return o}}function sd(l,t,e,s,a,o,u,h){const d=t.coords,p=t.colors,g=l.data,y=l.width*4;let b;d[e+1]>d[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b),d[s+1]>d[a+1]&&(b=s,s=a,a=b,b=u,u=h,h=b),d[e+1]>d[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b);const v=(d[e]+t.offsetX)*t.scaleX,E=(d[e+1]+t.offsetY)*t.scaleY,S=(d[s]+t.offsetX)*t.scaleX,T=(d[s+1]+t.offsetY)*t.scaleY,_=(d[a]+t.offsetX)*t.scaleX,L=(d[a+1]+t.offsetY)*t.scaleY;if(E>=L)return;const C=p[o],D=p[o+1],R=p[o+2],I=p[u],N=p[u+1],$=p[u+2],X=p[h],it=p[h+1],nt=p[h+2],Q=Math.round(E),et=Math.round(L);let rt,st,O,H,at,Z,x,j;for(let U=Q;U<=et;U++){if(U<T){const ht=U<E?0:(E-U)/(E-T);rt=v-(v-S)*ht,st=C-(C-I)*ht,O=D-(D-N)*ht,H=R-(R-$)*ht}else{let ht;U>L?ht=1:T===L?ht=0:ht=(T-U)/(T-L),rt=S-(S-_)*ht,st=I-(I-X)*ht,O=N-(N-it)*ht,H=$-($-nt)*ht}let V;U<E?V=0:U>L?V=1:V=(E-U)/(E-L),at=v-(v-_)*V,Z=C-(C-X)*V,x=D-(D-it)*V,j=R-(R-nt)*V;const tt=Math.round(Math.min(rt,at)),lt=Math.round(Math.max(rt,at));let ot=y*U+tt*4;for(let ht=tt;ht<=lt;ht++)V=(rt-ht)/(rt-at),V<0?V=0:V>1&&(V=1),g[ot++]=st-(st-Z)*V|0,g[ot++]=O-(O-x)*V|0,g[ot++]=H-(H-j)*V|0,g[ot++]=255}}function A_(l,t,e){const s=t.coords,a=t.colors;let o,u;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(s.length/h)-1,p=h-1;for(o=0;o<d;o++){let g=o*h;for(let y=0;y<p;y++,g++)sd(l,e,s[g],s[g+1],s[g+h],a[g],a[g+1],a[g+h]),sd(l,e,s[g+h+1],s[g+1],s[g+h],a[g+h+1],a[g+1],a[g+h])}break;case"triangles":for(o=0,u=s.length;o<u;o+=3)sd(l,e,s[o],s[o+1],s[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class S_ extends Zd{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,s){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),v=p/y,E=g/b,S={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/v,scaleY:1/E},T=y+4,_=b+4,L=s.getCanvas("mesh",T,_),C=L.context,D=C.createImageData(y,b);if(e){const I=D.data;for(let N=0,$=I.length;N<$;N+=4)I[N]=e[0],I[N+1]=e[1],I[N+2]=e[2],I[N+3]=255}for(const I of this._figures)A_(D,I,S);return C.putImageData(D,2,2),{canvas:L.canvas,offsetX:h-2*v,offsetY:d-2*E,scaleX:v,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(t,e,s,a){wd(t,this._bbox);const o=new Float32Array(2);if(a===Ie.SHADING)ft.singularValueDecompose2dScale(ae(t),o);else if(this.matrix){ft.singularValueDecompose2dScale(this.matrix,o);const[h,d]=o;ft.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=h,o[1]*=d}else ft.singularValueDecompose2dScale(e.baseTransform,o);const u=this._createMeshCanvas(o,a===Ie.SHADING?null:this._background,e.cachedCanvases);return a!==Ie.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class E_ extends Zd{getPattern(){return"hotpink"}}function w_(l){switch(l[0]){case"RadialAxial":return new v_(l);case"Mesh":return new S_(l);case"Dummy":return new E_}throw new Error(`Unknown IR type: ${l[0]}`)}const Uy={COLORED:1,UNCOLORED:2};class Jd{static MAX_PATTERN_SIZE=3e3;constructor(t,e,s,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:a,tilingType:o,color:u,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),vc("TilingType: "+o);const g=e[0],y=e[1],b=e[2],v=e[3],E=b-g,S=v-y,T=new Float32Array(2);ft.singularValueDecompose2dScale(this.matrix,T);const[_,L]=T;ft.singularValueDecompose2dScale(this.baseTransform,T);const C=_*T[0],D=L*T[1];let R=E,I=S,N=!1,$=!1;const X=Math.ceil(d*C),it=Math.ceil(p*D),nt=Math.ceil(E*C),Q=Math.ceil(S*D);X>=nt?R=d:N=!0,it>=Q?I=p:$=!0;const et=this.getSizeAndScale(R,this.ctx.canvas.width,C),rt=this.getSizeAndScale(I,this.ctx.canvas.height,D),st=t.cachedCanvases.getCanvas("pattern",et.size,rt.size),O=st.context,H=h.createCanvasGraphics(O);if(H.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(H,a,u),O.translate(-et.scale*g,-rt.scale*y),H.transform(et.scale,0,0,rt.scale,0,0),O.save(),this.clipBbox(H,g,y,b,v),H.baseTransform=ae(H.ctx),H.executeOperatorList(s),H.endDrawing(),O.restore(),N||$){const at=st.canvas;N&&(R=d),$&&(I=p);const Z=this.getSizeAndScale(R,this.ctx.canvas.width,C),x=this.getSizeAndScale(I,this.ctx.canvas.height,D),j=Z.size,U=x.size,V=t.cachedCanvases.getCanvas("pattern-workaround",j,U),tt=V.context,lt=N?Math.floor(E/d):0,ot=$?Math.floor(S/p):0;for(let ht=0;ht<=lt;ht++)for(let bt=0;bt<=ot;bt++)tt.drawImage(at,j*ht,U*bt,j,U,0,0,j,U);return{canvas:V.canvas,scaleX:Z.scale,scaleY:x.scale,offsetX:g,offsetY:y}}return{canvas:st.canvas,scaleX:et.scale,scaleY:rt.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,s){const a=Math.max(Jd.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=a?o=a:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,a,o){const u=a-e,h=o-s;t.ctx.rect(e,s,u,h),ft.axialAlignedBoundingBox([e,s,a,o],ae(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const a=t.ctx,o=t.current;switch(e){case Uy.COLORED:const{fillStyle:u,strokeStyle:h}=this.ctx;a.fillStyle=o.fillColor=u,a.strokeStyle=o.strokeColor=h;break;case Uy.UNCOLORED:a.fillStyle=a.strokeStyle=s,o.fillColor=o.strokeColor=s;break;default:throw new Xw(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,s,a){let o=s;a!==Ie.SHADING&&(o=ft.transform(o,e.baseTransform),this.matrix&&(o=ft.transform(o,this.matrix)));const u=this.createPatternCanvas(e);let h=new DOMMatrix(o);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const d=t.createPattern(u.canvas,"repeat");return d.setTransform(h),d}}function __({src:l,srcPos:t=0,dest:e,width:s,height:a,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const h=Oe.isLittleEndian?4278190080:255,[d,p]=u?[o,h]:[h,o],g=s>>3,y=s&7,b=l.length;e=new Uint32Array(e.buffer);let v=0;for(let E=0;E<a;E++){for(const T=t+g;t<T;t++){const _=t<b?l[t]:255;e[v++]=_&128?p:d,e[v++]=_&64?p:d,e[v++]=_&32?p:d,e[v++]=_&16?p:d,e[v++]=_&8?p:d,e[v++]=_&4?p:d,e[v++]=_&2?p:d,e[v++]=_&1?p:d}if(y===0)continue;const S=t<b?l[t++]:255;for(let T=0;T<y;T++)e[v++]=S&1<<7-T?p:d}return{srcPos:t,destPos:v}}const Gy=16,qy=100,x_=15,Vy=10,en=16,ad=new DOMMatrix,gn=new Float32Array(2),wa=new Float32Array([1/0,1/0,-1/0,-1/0]);function T_(l,t){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){t.save(),this.__originalSave()},l.restore=function(){t.restore(),this.__originalRestore()},l.translate=function(e,s){t.translate(e,s),this.__originalTranslate(e,s)},l.scale=function(e,s){t.scale(e,s),this.__originalScale(e,s)},l.transform=function(e,s,a,o,u,h){t.transform(e,s,a,o,u,h),this.__originalTransform(e,s,a,o,u,h)},l.setTransform=function(e,s,a,o,u,h){t.setTransform(e,s,a,o,u,h),this.__originalSetTransform(e,s,a,o,u,h)},l.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},l.rotate=function(e){t.rotate(e),this.__originalRotate(e)},l.clip=function(e){t.clip(e),this.__originalClip(e)},l.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},l.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},l.bezierCurveTo=function(e,s,a,o,u,h){t.bezierCurveTo(e,s,a,o,u,h),this.__originalBezierCurveTo(e,s,a,o,u,h)},l.rect=function(e,s,a,o){t.rect(e,s,a,o),this.__originalRect(e,s,a,o)},l.closePath=function(){t.closePath(),this.__originalClosePath()},l.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class C_{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,s)):(a=this.canvasFactory.create(e,s),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Hl(l,t,e,s,a,o,u,h,d,p){const[g,y,b,v,E,S]=ae(l);if(y===0&&b===0){const L=u*g+E,C=Math.round(L),D=h*v+S,R=Math.round(D),I=(u+d)*g+E,N=Math.abs(Math.round(I)-C)||1,$=(h+p)*v+S,X=Math.abs(Math.round($)-R)||1;return l.setTransform(Math.sign(g),0,0,Math.sign(v),C,R),l.drawImage(t,e,s,a,o,0,0,N,X),l.setTransform(g,y,b,v,E,S),[N,X]}if(g===0&&v===0){const L=h*b+E,C=Math.round(L),D=u*y+S,R=Math.round(D),I=(h+p)*b+E,N=Math.abs(Math.round(I)-C)||1,$=(u+d)*y+S,X=Math.abs(Math.round($)-R)||1;return l.setTransform(0,Math.sign(y),Math.sign(b),0,C,R),l.drawImage(t,e,s,a,o,0,0,X,N),l.setTransform(g,y,b,v,E,S),[X,N]}l.drawImage(t,e,s,a,o,u,h,d,p);const T=Math.hypot(g,y),_=Math.hypot(b,v);return[T*d,_*p]}class Yy{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Ad;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Fe.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=wa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ie.FILL,e=null){const s=this.minMax.slice();if(t===Ie.STROKE){e||Kt("Stroke bounding box must include transform."),ft.singularValueDecompose2dScale(e,gn);const a=gn[0]*this.lineWidth/2,o=gn[1]*this.lineWidth/2;s[0]-=a,s[1]-=o,s[2]+=a,s[3]+=o}return s}updateClipFromPath(){const t=ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(wa,0)}getClippedPathBoundingBox(t=Ie.FILL,e=null){return ft.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Xy(l,t){if(t instanceof ImageData){l.putImageData(t,0,0);return}const e=t.height,s=t.width,a=e%en,o=(e-a)/en,u=a===0?o:o+1,h=l.createImageData(s,en);let d=0,p;const g=t.data,y=h.data;let b,v,E,S;if(t.kind===Kr.GRAYSCALE_1BPP){const T=g.byteLength,_=new Uint32Array(y.buffer,0,y.byteLength>>2),L=_.length,C=s+7>>3,D=4294967295,R=Oe.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(E=b<o?en:a,p=0,v=0;v<E;v++){const I=T-d;let N=0;const $=I>C?s:I*8-7,X=$&-8;let it=0,nt=0;for(;N<X;N+=8)nt=g[d++],_[p++]=nt&128?D:R,_[p++]=nt&64?D:R,_[p++]=nt&32?D:R,_[p++]=nt&16?D:R,_[p++]=nt&8?D:R,_[p++]=nt&4?D:R,_[p++]=nt&2?D:R,_[p++]=nt&1?D:R;for(;N<$;N++)it===0&&(nt=g[d++],it=128),_[p++]=nt&it?D:R,it>>=1}for(;p<L;)_[p++]=0;l.putImageData(h,0,b*en)}}else if(t.kind===Kr.RGBA_32BPP){for(v=0,S=s*en*4,b=0;b<o;b++)y.set(g.subarray(d,d+S)),d+=S,l.putImageData(h,0,v),v+=en;b<u&&(S=s*a*4,y.set(g.subarray(d,d+S)),l.putImageData(h,0,v))}else if(t.kind===Kr.RGB_24BPP)for(E=en,S=s*E,b=0;b<u;b++){for(b>=o&&(E=a,S=s*E),p=0,v=S;v--;)y[p++]=g[d++],y[p++]=g[d++],y[p++]=g[d++],y[p++]=255;l.putImageData(h,0,b*en)}else throw new Error(`bad image kind: ${t.kind}`)}function $y(l,t){if(t.bitmap){l.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,a=e%en,o=(e-a)/en,u=a===0?o:o+1,h=l.createImageData(s,en);let d=0;const p=t.data,g=h.data;for(let y=0;y<u;y++){const b=y<o?en:a;({srcPos:d}=__({src:p,srcPos:d,dest:g,width:s,height:b,nonBlackColor:0})),l.putImageData(h,0,y*en)}}function Fr(l,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)l[s]!==void 0&&(t[s]=l[s]);l.setLineDash!==void 0&&(t.setLineDash(l.getLineDash()),t.lineDashOffset=l.lineDashOffset)}function Fl(l){l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0);const{filter:t}=l;t!=="none"&&t!==""&&(l.filter="none")}function Ky(l,t){if(t)return!0;ft.singularValueDecompose2dScale(l,gn);const e=Math.fround(In.pixelRatio*Cs.PDF_TO_CSS_UNITS);return gn[0]<=e&&gn[1]<=e}const R_=["butt","round","square"],M_=["miter","round","bevel"],L_={},Wy={};class xa{constructor(t,e,s,a,o,{optionalContentConfig:u,markedContentStack:h=null},d,p){this.ctx=t,this.current=new Yy(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new C_(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:a=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=h,s){const d=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ae(this.compositeCtx))}this.ctx.save(),Fl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ae(this.ctx)}executeOperatorList(t,e,s,a){const o=t.argsArray,u=t.fnArray;let h=e||0;const d=o.length;if(d===h)return h;const p=d-h>Vy&&typeof s=="function",g=p?Date.now()+x_:0;let y=0;const b=this.commonObjs,v=this.objs;let E;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,s),h;if(E=u[h],E!==to.dependency)this[E].apply(this,o[h]);else for(const S of o[h]){const T=S.startsWith("g_")?b:v;if(!T.has(S))return T.get(S,s),h}if(h++,h===d)return h;if(p&&++y>Vy){if(Date.now()>g)return s(),h;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const s=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),h=s,d=a,p="prescale1",g,y;for(;o>2&&h>1||u>2&&d>1;){let b=h,v=d;o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/b),u>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,u/=d/v),g=this.cachedCanvases.getCanvas(p,b,v),y=g.context,y.clearRect(0,0,b,v),y.drawImage(t,0,0,h,d,0,0,b,v),t=g.canvas,h=b,d=v,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:a}=t,o=this.current.fillColor,u=this.current.patternFill,h=ae(e);let d,p,g,y;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;p=JSON.stringify(u?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(X),d||(d=new Map,this._cachedBitmapsMap.set(X,d));const it=d.get(p);if(it&&!u){const nt=Math.round(Math.min(h[0],h[2])+h[4]),Q=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:it,offsetX:nt,offsetY:Q}}g=it}g||(y=this.cachedCanvases.getCanvas("maskCanvas",s,a),$y(y.context,t));let b=ft.transform(h,[1/s,0,0,-1/a,0,0]);b=ft.transform(b,[1,0,0,1,0,-a]);const v=wa.slice();ft.axialAlignedBoundingBox([0,0,s,a],b,v);const[E,S,T,_]=v,L=Math.round(T-E)||1,C=Math.round(_-S)||1,D=this.cachedCanvases.getCanvas("fillCanvas",L,C),R=D.context,I=E,N=S;R.translate(-I,-N),R.transform(...b),g||(g=this._scaleImage(y.canvas,Vn(R)),g=g.img,d&&u&&d.set(p,g)),R.imageSmoothingEnabled=Ky(ae(R),t.interpolate),Hl(R,g,0,0,g.width,g.height,0,0,s,a),R.globalCompositeOperation="source-in";const $=ft.transform(Vn(R),[1,0,0,1,-I,-N]);return R.fillStyle=u?o.getPattern(e,this,$,Ie.FILL):o,R.fillRect(0,0,s,a),d&&!u&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,D.canvas)),{canvas:D.canvas,offsetX:Math.round(I),offsetY:Math.round(N)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=R_[t]}setLineJoin(t){this.ctx.lineJoin=M_[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),Fr(this.suspendedCtx,o),T_(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Fr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,a){const o=a[0],u=a[1],h=a[2]-o,d=a[3]-u;h===0||d===0||(this.genericComposeSMask(e.context,s,h,d,e.subtype,e.backdrop,e.transferMap,o,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,a,o,u,h,d,p,g,y){let b=t.canvas,v=d-g,E=p-y;if(u)if(v<0||E<0||v+s>b.width||E+a>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,a),_=T.context;_.drawImage(b,-v,-E),_.globalCompositeOperation="destination-atop",_.fillStyle=u,_.fillRect(0,0,s,a),_.globalCompositeOperation="source-over",b=T.canvas,v=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(v,E,s,a),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=u,t.fillRect(v,E,s,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const S=new Path2D;S.rect(d,p,s,a),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,v,E,s,a,d,p,s,a),e.restore()}save(){this.inSMaskMode&&Fr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Fr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,s,a,o,u){this.ctx.transform(t,e,s,a,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){let[a]=e;if(!s){a||=e[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const o=e[0]=new Path2D;for(let u=0,h=a.length;u<h;)switch(a[u++]){case Il.moveTo:o.moveTo(a[u++],a[u++]);break;case Il.lineTo:o.lineTo(a[u++],a[u++]);break;case Il.curveTo:o.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);break;case Il.closePath:o.closePath();break;default:St(`Unrecognized drawing path operator: ${a[u-1]}`);break}a=o}ft.axialAlignedBoundingBox(s,ae(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,Vn(s),Ie.STROKE),o){const u=new Path2D;u.addPath(t,s.getTransform().invertSelf().multiplySelf(o)),t=u}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ie.STROKE,ae(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const s=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let u=!1;if(o){const d=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=a.getPattern(s,this,Vn(s),Ie.FILL),d){const p=new Path2D;p.addPath(t,s.getTransform().invertSelf().multiplySelf(d)),t=p}u=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),u&&s.restore(),e&&this.consumePath(t,h)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=L_}eoClip(){this.pendingClip=Wy}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const s=new Path2D,a=e.getTransform().invertSelf();for(const{transform:o,x:u,y:h,fontSize:d,path:p}of t)s.addPath(p,new DOMMatrix(o).preMultiplySelf(a).translate(u,h).scale(d,-d));e.clip(s),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const s=this.commonObjs.get(t),a=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=s.fontMatrix||Ad,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&St("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=s.systemFontInfo?.css||`"${o}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let p=e;e<Gy?p=Gy:e>qy&&(p=qy),this.current.fontSizeScale=e/p,this.ctx.font=`${d} ${h} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,s){const a=new Path2D;return a.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(e)),a}paintChar(t,e,s,a,o){const u=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,y=p&Fe.FILL_STROKE_MASK,b=!!(p&Fe.ADD_TO_PATH_FLAG),v=h.patternFill&&!d.missingFile,E=h.patternStroke&&!d.missingFile;let S;if((d.disableFontFace||b||v||E)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v||E){u.save(),u.translate(e,s),u.scale(g,-g);let T;if((y===Fe.FILL||y===Fe.FILL_STROKE)&&(a?(T=u.getTransform(),u.setTransform(...a),u.fill(this.#n(S,T,a))):u.fill(S)),y===Fe.STROKE||y===Fe.FILL_STROKE)if(o){T||=u.getTransform(),u.setTransform(...o);const{a:_,b:L,c:C,d:D}=T,R=ft.inverseTransform(o),I=ft.transform([_,L,C,D,0,0],R);ft.singularValueDecompose2dScale(I,gn),u.lineWidth*=Math.max(gn[0],gn[1])/g,u.stroke(this.#n(S,T,o))}else u.lineWidth/=g,u.stroke(S);u.restore()}else(y===Fe.FILL||y===Fe.FILL_STROKE)&&u.fillText(t,e,s),(y===Fe.STROKE||y===Fe.FILL_STROKE)&&u.strokeText(t,e,s);b&&(this.pendingTextPaths||=[]).push({transform:ae(u),x:e,y:s,fontSize:g,path:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){s=!0;break}return Dt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const o=this.ctx,u=e.fontSizeScale,h=e.charSpacing,d=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,y=t.length,b=s.vertical,v=b?1:-1,E=s.defaultVMetrics,S=a*e.fontMatrix[0],T=e.textRenderingMode===Fe.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),e.textMatrix&&o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),p>0?o.scale(g,-1):o.scale(g,1);let _,L;if(e.patternFill){o.save();const N=e.fillColor.getPattern(o,this,Vn(o),Ie.FILL);_=ae(o),o.restore(),o.fillStyle=N}if(e.patternStroke){o.save();const N=e.strokeColor.getPattern(o,this,Vn(o),Ie.STROKE);L=ae(o),o.restore(),o.strokeStyle=N}let C=e.lineWidth;const D=e.textMatrixScale;if(D===0||C===0){const N=e.textRenderingMode&Fe.FILL_STROKE_MASK;(N===Fe.STROKE||N===Fe.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=D;if(u!==1&&(o.scale(u,u),C/=u),o.lineWidth=C,s.isInvalidPDFjsFont){const N=[];let $=0;for(const X of t)N.push(X.unicode),$+=X.width;o.fillText(N.join(""),0,0),e.x+=$*S*g,o.restore(),this.compose();return}let R=0,I;for(I=0;I<y;++I){const N=t[I];if(typeof N=="number"){R+=v*N*a/1e3;continue}let $=!1;const X=(N.isSpace?d:0)+h,it=N.fontChar,nt=N.accent;let Q,et,rt=N.width;if(b){const O=N.vmetric||E,H=-(N.vmetric?O[1]:rt*.5)*S,at=O[2]*S;rt=O?-O[0]:rt,Q=H/u,et=(R+at)/u}else Q=R/u,et=0;if(s.remeasure&&rt>0){const O=o.measureText(it).width*1e3/a*u;if(rt<O&&this.isFontSubpixelAAEnabled){const H=rt/O;$=!0,o.save(),o.scale(H,1),Q/=H}else rt!==O&&(Q+=(rt-O)/2e3*a/u)}if(this.contentVisible&&(N.isInFont||s.missingFile)){if(T&&!nt)o.fillText(it,Q,et);else if(this.paintChar(it,Q,et,_,L),nt){const O=Q+a*nt.offset.x/u,H=et-a*nt.offset.y/u;this.paintChar(nt.fontChar,O,H,_,L)}}const st=b?rt*S-X*p:rt*S+X*p;R+=st,$&&o.restore()}b?e.y-=R:e.x+=R*g,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,a=s.font,o=s.fontSize,u=s.fontDirection,h=a.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*u,y=s.fontMatrix||Ad,b=t.length,v=s.textRenderingMode===Fe.INVISIBLE;let E,S,T,_;if(!(v||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),s.textMatrix&&e.transform(...s.textMatrix),e.translate(s.x,s.y+s.textRise),e.scale(g,u),E=0;E<b;++E){if(S=t[E],typeof S=="number"){_=h*S*o/1e3,this.ctx.translate(_,0),s.x+=_*g;continue}const L=(S.isSpace?p:0)+d,C=a.charProcOperatorList[S.operatorListId];C?this.contentVisible&&(this.save(),e.scale(o,o),e.transform(...y),this.executeOperatorList(C),this.restore()):St(`Type3 character "${S.operatorListId}" is not available.`);const D=[S.width,0];ft.applyTransform(D,y),T=D[0]*o+L,e.translate(T,0),s.x+=T*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,a,o,u){const h=new Path2D;h.rect(s,a,o-s,u-a),this.ctx.clip(h),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=this.baseTransform||ae(this.ctx),a={createCanvasGraphics:o=>new xa(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Jd(t,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=w_(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Vn(e),Ie.SHADING);const a=Vn(e);if(a){const{width:o,height:u}=e.canvas,h=wa.slice();ft.axialAlignedBoundingBox([0,0,o,u],a,h);const[d,p,g,y]=h;this.ctx.fillRect(d,p,g-d,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Kt("Should not call beginInlineImage")}beginImageData(){Kt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ae(this.ctx),e)){ft.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[s,a,o,u]=e,h=new Path2D;h.rect(s,a,o-s,u-a),this.ctx.clip(h),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||vc("TODO: Support non-isolated groups."),t.knockout&&St("Knockout groups not supported.");const s=ae(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=wa.slice();ft.axialAlignedBoundingBox(t.bbox,ae(e),a);const o=[0,0,e.canvas.width,e.canvas.height];a=ft.intersect(a,o)||[0,0,0,0];const u=Math.floor(a[0]),h=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-u,1),p=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,p),b=y.context;b.translate(-u,-h),b.transform(...s);let v=new Path2D;const[E,S,T,_]=t.bbox;if(v.rect(E,S,T-E,_-S),t.matrix){const L=new Path2D;L.addPath(v,new DOMMatrix(t.matrix)),v=L}b.clip(v),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:u,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,h),e.save()),Fr(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=ae(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const o=wa.slice();ft.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,o),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,a,o){if(this.#t(),Fl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],h=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=h,ft.singularValueDecompose2dScale(ae(this.ctx),gn);const{viewportScale:d}=this,p=Math.ceil(u*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(gn[0],0,0,-gn[1],0,h*gn[1]),Fl(this.ctx)}else{Fl(this.ctx),this.endPath();const d=new Path2D;d.rect(e[0],e[1],u,h),this.ctx.clip(d)}}this.current=new Yy(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,a=this._createMaskCanvas(t),o=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,a=0,o,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=ae(h);h.transform(e,s,a,o,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,y=u.length;g<y;g+=2){const b=ft.transform(d,[e,s,a,o,u[g],u[g+1]]);h.drawImage(p.canvas,b[4],b[5])}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const o of t){const{data:u,width:h,height:d,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=g.context;y.save();const b=this.getObject(u,o);$y(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?s.getPattern(y,this,Vn(e),Ie.FILL):s,y.fillRect(0,0,h,d),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),Hl(e,g.canvas,0,0,h,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,a){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){St("Dependent image isn't ready yet");return}const u=o.width,h=o.height,d=[];for(let p=0,g=a.length;p<g;p+=2)d.push({transform:[e,0,0,s,a[p],a[p+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,a),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,a=this.ctx;this.save();const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/e,-1/s);let u;if(t.bitmap)u=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)u=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;Xy(p,t),u=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(u,Vn(a));a.imageSmoothingEnabled=Ky(ae(a),t.interpolate),Hl(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const o=t.width,u=t.height,d=this.cachedCanvases.getCanvas("inlineImage",o,u).context;Xy(d,t),a=this.applyTransferMapsToCanvas(d)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),Hl(s,a,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(s||(this.pendingClip===Wy?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ae(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:a,d:o}=this.ctx.getTransform();let u,h;if(s===0&&a===0){const d=Math.abs(e),p=Math.abs(o);if(d===p)if(t===0)u=h=1/d;else{const g=d*t;u=h=g<1?1/g:1}else if(t===0)u=1/d,h=1/p;else{const g=d*t,y=p*t;u=g<1?1/g:1,h=y<1?1/y:1}}else{const d=Math.abs(e*o-s*a),p=Math.hypot(e,s),g=Math.hypot(a,o);if(t===0)u=g/d,h=p/d;else{const y=t*d;u=g>y?g/y:1,h=p>y?p/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:s,current:{lineWidth:a}}=this,[o,u]=this.getScaleForStroking();if(o===u){s.lineWidth=(a||1)*o,s.stroke(t);return}const h=s.getLineDash();e&&s.save(),s.scale(o,u),ad.a=1/o,ad.d=1/u;const d=new Path2D;if(d.addPath(t,ad),h.length>0){const p=Math.max(o,u);s.setLineDash(h.map(g=>g/p)),s.lineDashOffset/=p}s.lineWidth=a||1,s.stroke(d),e&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const l in to)xa.prototype[l]!==void 0&&(xa.prototype[to[l]]=xa.prototype[l]);class Zi{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class D_{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Sa=Symbol("INTERNAL");class O_{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:s,usage:a,rbGroups:o}){this.#t=!!(t&fn.DISPLAY),this.#e=!!(t&fn.PRINT),this.name=e,this.intent=s,this.usage=a,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,s=!1){t!==Sa&&Kt("Internal method `_setVisible` called."),this.#n=s,this.#i=e}}class N_{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=fn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const s of t.groups)this.#e.set(s.id,new O_(e,s));if(t.baseState==="OFF")for(const s of this.#e.values())s._setVisible(Sa,!1);for(const s of t.on)this.#e.get(s)._setVisible(Sa,!0);for(const s of t.off)this.#e.get(s)._setVisible(Sa,!1);this.#n=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let a=1;a<e;a++){const o=t[a];let u;if(Array.isArray(o))u=this.#a(o);else if(this.#e.has(o))u=this.#e.get(o).visible;else return St(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return vc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){const a=this.#e.get(t);if(!a){St(`Optional content group not found: ${t}`);return}if(s&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const u of o)u!==t&&this.#e.get(u)?._setVisible(Sa,!1,!0);a._setVisible(Sa,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let s;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const o=this.#e.get(a);if(o)switch(s){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new dv;for(const[e,s]of this.#e)t.update(`${e}:${s.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class k_{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ae(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:u,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=h,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),t.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Ae(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new P_(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new I_(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class P_{constructor(t,e,s=!1,a=null){this._stream=t,this._done=s||!1,this._filename=Sc(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class I_{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function z_(l){let t=!0,e=s("filename\\*","i").exec(l);if(e){e=e[1];let g=h(e);return g=unescape(g),g=d(g),g=p(g),o(g)}if(e=u(l),e){const g=p(e);return o(g)}if(e=s("filename","i").exec(l),e){e=e[1];let g=h(e);return g=p(g),o(g)}function s(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(g,{fatal:!0}),v=uo(y);y=b.decode(v),t=!1}catch{}}return y}function o(g){return t&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),t&&(g=a("iso-8859-1",g))),g}function u(g){const y=[];let b;const v=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(g))!==null;){let[,S,T,_]=b;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[T,_]}const E=[];for(let S=0;S<y.length&&S in y;++S){let[T,_]=y[S];_=h(_),T&&(_=unescape(_),S===0&&(_=d(_))),E.push(_)}return E.join("")}function h(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let b=0;b<y.length;++b){const v=y[b].indexOf('"');v!==-1&&(y[b]=y[b].slice(0,v),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const b=g.slice(0,y),E=g.slice(y+1).replace(/^[^']*'/,"");return a(b,E)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,v,E){if(v==="q"||v==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,T){return String.fromCharCode(parseInt(T,16))}),a(b,E);try{E=atob(E)}catch{}return a(b,E)})}return""}function Av(l,t){const e=new Headers;if(!l||!t||typeof t!="object")return e;for(const s in t){const a=t[s];a!==void 0&&e.append(s,a)}return e}function Ec(l){return URL.parse(l)?.origin??null}function Sv({responseHeaders:l,isHttp:t,rangeChunkSize:e,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||s||!t||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function Ev(l){const t=l.get("Content-Disposition");if(t){let e=z_(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Sc(e))return e}return null}function mo(l,t){return new eo(`Unexpected server response (${l}) while retrieving PDF "${t}".`,l,l===404||l===0&&t.startsWith("file:"))}function wv(l){return l===200||l===206}function _v(l,t,e){return{method:"GET",headers:l,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function xv(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(St(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class B_{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Av(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new H_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new F_(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class H_{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),a=e.url;fetch(a,_v(s,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Ec(o.url),!wv(o.status))throw mo(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:h,suggestedLength:d}=Sv({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=Ev(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Si("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:xv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class F_{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const u=a.url;fetch(u,_v(o,this._withCredentials,this._abortController)).then(h=>{const d=Ec(h.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!wv(h.status))throw mo(h.status,u);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:xv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const rd=200,od=206;function j_(l){const t=l.response;return typeof t!="string"?t:uo(t).buffer}class U_{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Av(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,u]of this.headers)e.setRequestHeader(o,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=od):a.expectedStatus=rd,e.responseType="arraybuffer",Ae(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){const s=this.pendingRequests[t];s&&s.onProgress?.(e)}onStateChange(t,e){const s=this.pendingRequests[t];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){s.onError(a.status);return}const o=a.status||rd;if(!(o===rd&&s.expectedStatus===od)&&o!==s.expectedStatus){s.onError(a.status);return}const h=j_(a);if(o===od){const d=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);p?s.onDone({begin:parseInt(p[1],10),chunk:h}):(St('Missing or invalid "Content-Range" header.'),s.onError(0))}else h?s.onDone({begin:0,chunk:h}):s.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class G_{constructor(t){this._source=t,this._manager=new U_(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new q_(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new V_(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class q_{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Ec(e.responseURL);const s=e.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[d,...p]=h.split(": ");return[d,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:u}=Sv({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=Ev(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=mo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class V_{constructor(t,e,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Ec(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=mo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Y_=/^[a-z][a-z0-9\-+.]+:/i;function X_(l){if(Y_.test(l))return new URL(l);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(l))}class $_{constructor(t){this.source=t,this.url=X_(t.url),Ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new K_(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new W_(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class K_{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=mo(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Si("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class W_{constructor(t,e,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const jr=Symbol("INITIAL_DATA");class Tv{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:jr}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const s=this.#t[t];if(!s||s.data===jr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=this.#t[t];return!!e&&e.data!==jr}delete(t){const e=this.#t[t];return!e||e.data===jr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const s=this.#e(t);s.data=e,s.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==jr&&(yield[t,e])}}}const Q_=1e5,Qy=30;let no=class Cn{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#l=0;#o=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#r=[];#p=null;#m=[];#g=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#S=new WeakMap;static#w=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:s}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=s.scale*In.pixelRatio,this.#d=s.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:u,pageY:h}=s.rawDims;this.#y=[1,0,0,-1,-u,h+o],this.#o=a,this.#l=o,Cn.#D(),Ji(e,s),this.#t.promise.finally(()=>{Cn.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Oe.platform;return Dt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:s})=>{if(s){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),Cn.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const s=t.scale*In.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,Ji(this.#c,{rotation:a})),s!==this.#u){e?.(),this.#u=s;const o={div:null,properties:null,ctx:Cn.#R(this.#a)};for(const u of this.#m)o.properties=this.#g.get(u),o.div=u,this.#E(o)}}cancel(){const t=new Si("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#r}#C(t){if(this.#n)return;this.#s.ctx??=Cn.#R(this.#a);const e=this.#m,s=this.#r;for(const a of t){if(e.length>Q_){St("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id!==null&&this.#e.setAttribute("id",`${a.id}`),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}s.push(a.str),this.#M(a)}}#M(t){const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);const a=ft.transform(this.#y,t.transform);let o=Math.atan2(a[1],a[0]);const u=this.#f[t.fontName];u.vertical&&(o+=Math.PI/2);let h=this.#i&&u.fontSubstitution||u.fontFamily;h=Cn.fontFamilyMap.get(h)||h;const d=Math.hypot(a[2],a[3]),p=d*Cn.#O(h,u,this.#a);let g,y;o===0?(g=a[4],y=a[5]-p):(g=a[4]+p*Math.sin(o),y=a[5]-p*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#c?(v.left=`${(100*g/this.#o).toFixed(2)}%`,v.top=`${(100*y/this.#l).toFixed(2)}%`):(v.left=`${b}${g.toFixed(2)}px)`,v.top=`${b}${y.toFixed(2)}px)`),v.fontSize=`${b}${(Cn.#w*d).toFixed(2)}px)`,v.fontFamily=h,s.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);S!==T&&Math.max(S,T)/Math.min(S,T)>1.5&&(E=!0)}if(E&&(s.canvasWidth=u.vertical?t.height:t.width),this.#g.set(e,s),this.#s.div=e,this.#s.properties=s,this.#E(this.#s),s.hasText&&this.#e.append(e),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#e.append(S)}}#E(t){const{div:e,properties:s,ctx:a}=t,{style:o}=e;let u="";if(Cn.#w>1&&(u=`scale(${1/Cn.#w})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=o,{canvasWidth:d,fontSize:p}=s;Cn.#T(a,p*this.#u,h);const{width:g}=a.measureText(e.textContent);g>0&&(u=`scaleX(${d*this.#u/g}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(o.transform=u)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#R(t=null){let e=this.#v.get(t||="");if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#T(t,e,s){const a=this.#S.get(t);e===a.size&&s===a.family||(t.font=`${e}px ${s}`,a.size=e,a.family=s)}static#D(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#O(t,e,s){const a=this.#b.get(t);if(a)return a;const o=this.#R(s);o.canvas.width=o.canvas.height=Qy,this.#T(o,Qy,t);const u=o.measureText(""),h=u.fontBoundingBoxAscent,d=Math.abs(u.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let p=.8;return h?p=h/(h+d):(Oe.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),this.#b.set(t,p),p}};class io{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function a(o){if(!o)return;let u=null;const h=o.name;if(h==="#text")u=o.value;else if(io.shouldBuildText(h))o?.attributes?.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&e.push({str:u}),!!o.children)for(const d of o.children)a(d)}return a(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Z_=100;function tf(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const t=new ef,{docId:e}=t,s=l.url?l_(l.url):null,a=l.data?c_(l.data):null,o=l.httpHeaders||null,u=l.withCredentials===!0,h=l.password??null,d=l.range instanceof nf?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:2**16;let g=l.worker instanceof ka?l.worker:null;const y=l.verbosity,b=typeof l.docBaseUrl=="string"&&!fo(l.docBaseUrl)?l.docBaseUrl:null,v=zl(l.cMapUrl),E=l.cMapPacked!==!1,S=l.CMapReaderFactory||(Ye?m_:Hy),T=zl(l.iccUrl),_=zl(l.standardFontDataUrl),L=l.StandardFontDataFactory||(Ye?y_:Fy),C=zl(l.wasmUrl),D=l.WasmFactory||(Ye?b_:jy),R=l.stopAtErrors!==!0,I=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,N=l.isEvalSupported!==!1,$=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!Ye,X=typeof l.isImageDecoderSupported=="boolean"?l.isImageDecoderSupported:!Ye&&(Oe.platform.isFirefox||!globalThis.chrome),it=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,nt=typeof l.disableFontFace=="boolean"?l.disableFontFace:Ye,Q=l.fontExtraProperties===!0,et=l.enableXfa===!0,rt=l.ownerDocument||globalThis.document,st=l.disableRange===!0,O=l.disableStream===!0,H=l.disableAutoFetch===!0,at=l.pdfBug===!0,Z=l.CanvasFactory||(Ye?g_:d_),x=l.FilterFactory||(Ye?p_:f_),j=l.enableHWA===!0,U=l.useWasm!==!1,V=d?d.length:l.length??NaN,tt=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!Ye&&!nt,lt=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:!!(S===Hy&&L===Fy&&D===jy&&v&&_&&C&&Vr(v,document.baseURI)&&Vr(_,document.baseURI)&&Vr(C,document.baseURI)),ot=null;qw(y);const ht={canvasFactory:new Z({ownerDocument:rt,enableHWA:j}),filterFactory:new x({docId:e,ownerDocument:rt}),cMapReaderFactory:lt?null:new S({baseUrl:v,isCompressed:E}),standardFontDataFactory:lt?null:new L({baseUrl:_}),wasmFactory:lt?null:new D({baseUrl:C})};g||(g=ka.create({verbosity:y,port:Zi.workerPort}),t._worker=g);const bt={docId:e,apiVersion:"5.3.31",data:a,password:h,disableAutoFetch:H,rangeChunkSize:p,length:V,docBaseUrl:b,enableXfa:et,evaluatorOptions:{maxImageSize:I,disableFontFace:nt,ignoreErrors:R,isEvalSupported:N,isOffscreenCanvasSupported:$,isImageDecoderSupported:X,canvasMaxAreaInBytes:it,fontExtraProperties:Q,useSystemFonts:tt,useWasm:U,useWorkerFetch:lt,cMapUrl:v,iccUrl:T,standardFontDataUrl:_,wasmUrl:C}},Pt={ownerDocument:rt,pdfBug:at,styleElement:ot,loadingParams:{disableAutoFetch:H,enableXfa:et}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const _t=g.messageHandler.sendWithPromise("GetDocRequest",bt,a?[a.buffer]:null);let zt;if(d)zt=new k_(d,{disableRange:st,disableStream:O});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Ht=Vr(s)?B_:Ye?$_:G_;zt=new Ht({url:s,length:V,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:st,disableStream:O})}return _t.then(Ht=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const qt=new Yr(e,Ht,g.port),Tt=new ex(qt,t,zt,Pt,ht);t._transport=Tt,qt.send("Ready",null)})}).catch(t._capability.reject),t}class ef{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ef.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let nf=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#a=[];constructor(t,e,s=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=a}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const s of this.#a)s(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const s of this.#i)s(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Kt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class J_{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class tx{#t=!1;constructor(t,e,s,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=a?new Iy:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new Tv,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}={}){return new ho({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:a=Qn.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(s,a,g,y),{renderingIntent:v,cacheKey:E}=b;this.#t=!1,h||=this._transport.getOptionalContentConfig(v);let S=this._intentStates.get(E);S||(S=Object.create(null),this._intentStates.set(E,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const T=!!(v&fn.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const _=D=>{S.renderTasks.delete(L),T&&(this.#t=!0),this.#e(),D?(L.capability.reject(D),this._abortOperatorList({intentState:S,reason:D instanceof Error?D:new Error(D)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new _a({callback:_,params:{canvasContext:t,viewport:e,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p});(S.renderTasks||=new Set).add(L);const C=L.task;return Promise.all([S.displayReadyCapability.promise,h]).then(([D,R])=>{if(this.destroyed){_();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:D,optionalContentConfig:R}),L.operatorListChanged()}).catch(_),C}getOperatorList({intent:t="display",annotationMode:e=Qn.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const u=this._transport.getRenderingIntent(t,e,s,a,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>io.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,a){function o(){u.read().then(function({value:d,done:p}){if(p){s(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},a)}const u=e.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Iy),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const s=this._intentStates.get(e);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let s=0,a=t.length;s<a;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:a}){const{map:o,transfer:u}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},u).getReader(),p=this._intentStates.get(e);p.streamReader=d;const g=()=>{d.read().then(({value:y,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();this.#e()}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof Ac){let a=Z_;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Si(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Wi,Nn,bi,ws,lc,_s,xs,Xe,Ql,Cv,Rv,Xr,Ra,Zl;const ie=class ie{constructor({name:t=null,port:e=null,verbosity:s=Vw()}={}){Gn(this,Xe);Gn(this,Wi,Promise.withResolvers());Gn(this,Nn,null);Gn(this,bi,null);Gn(this,ws,null);if(this.name=t,this.destroyed=!1,this.verbosity=s,e){if(ne(ie,xs).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ne(ie,xs).set(e,this),qn(this,Xe,Cv).call(this,e)}else qn(this,Xe,Rv).call(this)}get promise(){return ne(this,Wi).promise}get port(){return ne(this,bi)}get messageHandler(){return ne(this,Nn)}destroy(){this.destroyed=!0,ne(this,ws)?.terminate(),Je(this,ws,null),ne(ie,xs).delete(ne(this,bi)),Je(this,bi,null),ne(this,Nn)?.destroy(),Je(this,Nn,null)}static create(t){const e=ne(this,xs).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ie(t)}static get workerSrc(){if(Zi.workerSrc)return Zi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Dt(this,"_setupFakeWorkerGlobal",(async()=>ne(this,Ra,Zl)?ne(this,Ra,Zl):(await import(this.workerSrc)).WorkerMessageHandler)())}};Wi=new WeakMap,Nn=new WeakMap,bi=new WeakMap,ws=new WeakMap,lc=new WeakMap,_s=new WeakMap,xs=new WeakMap,Xe=new WeakSet,Ql=function(){ne(this,Wi).resolve(),ne(this,Nn).send("configure",{verbosity:this.verbosity})},Cv=function(t){Je(this,bi,t),Je(this,Nn,new Yr("main","worker",t)),ne(this,Nn).on("ready",()=>{}),qn(this,Xe,Ql).call(this)},Rv=function(){if(ne(ie,_s)||ne(ie,Ra,Zl)){qn(this,Xe,Xr).call(this);return}let{workerSrc:t}=ie;try{ie._isSameOrigin(window.location,t)||(t=ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Yr("main","worker",e),a=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?ne(this,Wi).reject(new Error("Worker was destroyed")):qn(this,Xe,Xr).call(this)},o=new AbortController;e.addEventListener("error",()=>{ne(this,ws)||a()},{signal:o.signal}),s.on("test",h=>{if(o.abort(),this.destroyed||!h){a();return}Je(this,Nn,s),Je(this,bi,e),Je(this,ws,e),qn(this,Xe,Ql).call(this)}),s.on("ready",h=>{if(o.abort(),this.destroyed){a();return}try{u()}catch{qn(this,Xe,Xr).call(this)}});const u=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};u();return}catch{vc("The worker has been disabled.")}qn(this,Xe,Xr).call(this)},Xr=function(){ne(ie,_s)||(St("Setting up fake worker."),Je(ie,_s,!0)),ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ne(this,Wi).reject(new Error("Worker was destroyed"));return}const e=new h_;Je(this,bi,e);const s=`fake${ty(ie,lc)._++}`,a=new Yr(s+"_worker",s,e);t.setup(a,e),Je(this,Nn,new Yr(s,s+"_worker",e)),qn(this,Xe,Ql).call(this)}).catch(t=>{ne(this,Wi).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ra=new WeakSet,Zl=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Gn(ie,Ra),Gn(ie,lc,0),Gn(ie,_s,!1),Gn(ie,xs,new WeakMap),Ye&&(Je(ie,_s,!0),Zi.workerSrc||="./pdf.worker.mjs"),ie._isSameOrigin=(t,e)=>{const s=URL.parse(t);if(!s?.origin||s.origin==="null")return!1;const a=new URL(e,s);return s.origin===a.origin},ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ie.fromPort=t=>{if(t_("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ie.create(t)};let ka=ie;class ex{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#a=null;constructor(t,e,s,a,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Tv,this.fontLoader=new r_({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const s=this.#t.get(t);if(s)return s;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Dt(this,"annotationStorage",new Wd)}getRenderingIntent(t,e=Qn.ENABLE,s=null,a=!1,o=!1){let u=fn.DISPLAY,h=Sd;switch(t){case"any":u=fn.ANY;break;case"display":break;case"print":u=fn.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const d=u&fn.PRINT&&s instanceof fv?s:this.annotationStorage;switch(e){case Qn.DISABLE:u+=fn.ANNOTATIONS_DISABLE;break;case Qn.ENABLE:break;case Qn.ENABLE_FORMS:u+=fn.ANNOTATIONS_FORMS;break;case Qn.ENABLE_STORAGE:u+=fn.ANNOTATIONS_STORAGE,h=d.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(u+=fn.IS_EDITING),o&&(u+=fn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,y=[u,h.hash,g];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of this.#e.values())t.push(s._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),no.cleanup(),this._networkStream?.cancelAllRequests(new Si("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,a)=>{Ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){a.close();return}Ae(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:u}=this._fullReader;return(!a||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{e.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:u}}),t.on("GetRangeReader",(s,a)=>{Ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:u,done:h}){if(h){a.close();return}Ae(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{a.error(u)})},a.onCancel=u=>{o.cancel(u),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new J_(s,this))}),t.on("DocException",s=>{e._capability.reject(tn(s))}),t.on("PasswordRequest",s=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw tn(s);const a=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(a,s.code)}catch(a){this.#a.reject(a)}return this.#a.promise}),t.on("DataLoaded",s=>{e.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;this.#e.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,a,o])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":if("error"in o){const p=o.error;St(`Error during font loading: ${p}`),this.commonObjs.resolve(s,p);break}const u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new o_(o,u);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:d}=o;Ae(d,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(s,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([s,a,o,u])=>{if(this.destroyed)return;const h=this.#e.get(a);if(!h.objs.has(s)){if(h._intentStates.size===0){u?.bitmap?.close();return}switch(o){case"Image":case"Pattern":h.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{this.destroyed||e.onProgress?.({loaded:s.loaded,total:s.total})}),t.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[s.type];if(!a)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=this.#n.get(e);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,t);const u=new tx(e,o,this,this._params.pdfBug);return this.#e.set(e,u),u});return this.#n.set(e,a),a}getPageIndex(t){return Ed(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new N_(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new D_(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),no.cleanup()}}cachedPageNumber(t){if(!Ed(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class nx{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class _a{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:s,commonObjs:a,annotationCanvasMap:o,operatorList:u,pageIndex:h,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:b=null}){this.callback=t,this.params=e,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new nx(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(_a.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_a.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:u}=this.params;this.gfx=new xa(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),_a.#e.delete(this._canvas),t||=new Ac(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_a.#e.delete(this._canvas),this.callback())))}}const Mv="5.3.31",Lv="47ad820d9";function Zy(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function Ur(l){return Math.max(0,Math.min(255,255*l))}class Jy{static CMYK_G([t,e,s,a]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ur(t),[t,t,t]}static G_HTML([t]){const e=Zy(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Ur)}static RGB_HTML(t){return`#${t.map(Zy).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,s+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,s,a]){return[Ur(1-Math.min(1,t+a)),Ur(1-Math.min(1,s+a)),Ur(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const a=1-t,o=1-e,u=1-s,h=Math.min(a,o,u);return["CMYK",a,o,u,h]}}class ix{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Kt("Abstract method `_createSVG` called.")}}class so extends ix{_createSVG(t){return document.createElementNS(mi,t)}}class sf{static setupStorage(t,e,s,a,o){const u=a.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),o==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{a.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),o==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const h of s.children)h.attributes.value===u.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:a,linkService:o}){const{attributes:u}=e,h=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${a}`);for(const[d,p]of Object.entries(u))if(p!=null)switch(d){case"class":p.length&&t.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,p)}h&&o.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){const e=t.annotationStorage,s=t.linkService,a=t.xfaHtml,o=t.intent||"display",u=document.createElement(a.name);a.attributes&&this.setAttributes({html:u,element:a,intent:o,linkService:s});const h=o!=="richText",d=t.div;if(d.append(u),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=y}h&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const y=document.createTextNode(a.value);u.append(y),h&&io.shouldBuildText(a.name)&&p.push(y)}return{textDivs:p}}const g=[[a,-1,u]];for(;g.length>0;){const[y,b,v]=g.at(-1);if(b+1===y.children.length){g.pop();continue}const E=y.children[++g.at(-1)[1]];if(E===null)continue;const{name:S}=E;if(S==="#text"){const _=document.createTextNode(E.value);p.push(_),v.append(_);continue}const T=E?.attributes?.xmlns?document.createElementNS(E.attributes.xmlns,S):document.createElement(S);if(v.append(T),E.attributes&&this.setAttributes({html:T,element:E,storage:e,intent:o,linkService:s}),E.children?.length>0)g.push([E,-1,T]);else if(E.value){const _=document.createTextNode(E.value);h&&io.shouldBuildText(S)&&p.push(_),T.append(_)}}for(const y of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const yo=1e3,sx=9,Rs=new WeakSet;class tb{static create(t){switch(t.data.annotationType){case he.LINK:return new Dv(t);case he.TEXT:return new ax(t);case he.WIDGET:switch(t.data.fieldType){case"Tx":return new rx(t);case"Btn":return t.data.radioButton?new Ov(t):t.data.checkBox?new lx(t):new cx(t);case"Ch":return new ux(t);case"Sig":return new ox(t)}return new Os(t);case he.POPUP:return new _d(t);case he.FREETEXT:return new Nv(t);case he.LINE:return new dx(t);case he.SQUARE:return new fx(t);case he.CIRCLE:return new px(t);case he.POLYLINE:return new kv(t);case he.CARET:return new mx(t);case he.INK:return new af(t);case he.POLYGON:return new gx(t);case he.HIGHLIGHT:return new Pv(t);case he.UNDERLINE:return new yx(t);case he.SQUIGGLY:return new bx(t);case he.STRIKEOUT:return new vx(t);case he.STAMP:return new Iv(t);case he.FILEATTACHMENT:return new Ax(t);default:return new pe(t)}}}class pe{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t?.str||e?.str||s?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pe._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:h,pageY:d}}}}=this;s?.splice(0,4,...t),e.left=`${100*(t[0]-h)/o}%`,e.top=`${100*(u-t[3]+d)/u}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/u}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:s,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Os||(o.tabIndex=yo);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof _d){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,o),o}const{width:h,height:d}=this;if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(S>0||T>0){const L=`calc(${S}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;u.borderRadius=L}else if(this instanceof Ov){const L=`calc(${h}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;u.borderRadius=L}switch(e.borderStyle.style){case Aa.SOLID:u.borderStyle="solid";break;case Aa.DASHED:u.borderStyle="dashed";break;case Aa.BEVELED:St("Unimplemented border style: beveled");break;case Aa.INSET:St("Unimplemented border style: inset");break;case Aa.UNDERLINE:u.borderBottomStyle="solid";break}const _=e.borderColor||null;_?(this.#e=!0,u.borderColor=ft.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):u.borderWidth=0}const p=ft.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:y,pageX:b,pageY:v}=a.rawDims;u.left=`${100*(p[0]-b)/g}%`,u.top=`${100*(p[1]-v)/y}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(u.width=`${100*h/g}%`,u.height=`${100*d/y}%`):this.setRotation(E,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:u}=this;t%180!==0&&([o,u]=[u,o]),e.style.width=`${100*o/s}%`,e.style.height=`${100*u/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,a)=>{const o=a.detail[e],u=o[0],h=o.slice(1);a.target.style[s]=Jy[`${u}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:Jy[`${u}_rgb`](h)})};return Dt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||s[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[a,o]of Object.entries(e)){const u=s[a];if(u){const h={detail:{[a]:o},target:t};u(h),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,a,o]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,T,_,L]=t.subarray(2,6);if(a===S&&o===T&&e===_&&s===L)return}const{style:u}=this.container;let h;if(this.#e){const{borderColor:S,borderWidth:T}=u;u.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const d=a-e,p=o-s,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=g.createElement("defs");y.append(b);const v=g.createElement("clipPath"),E=`clippath_${this.data.id}`;v.setAttribute("id",E),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let S=2,T=t.length;S<T;S+=8){const _=t[S],L=t[S+1],C=t[S+2],D=t[S+3],R=g.createElement("rect"),I=(C-e)/d,N=(o-L)/p,$=(_-C)/d,X=(L-D)/p;R.setAttribute("x",I),R.setAttribute("y",N),R.setAttribute("width",$),R.setAttribute("height",X),v.append(R),h?.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${N}" width="${$}" height="${X}"/>`)}this.#e&&(h.push("</g></svg>')"),u.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=this.#n=new _d({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Kt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:u,exportValues:h}of a){if(o===-1||u===e)continue;const d=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Rs.has(p)){St(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:d,domElement:p})}return s}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,u=a.getAttribute("data-element-id");u!==e&&Rs.has(a)&&s.push({id:u,exportValue:o,domElement:a})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Dv extends pe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action),a=!0):t.attachment?(this.#e(s,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(this.#n(s,t.setOCGState),a=!0):t.dest?(this._bindLink(s,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,s=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=s.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{s?.();const{fields:a,refs:o,include:u}=e,h=[];if(a.length!==0||o.length!==0){const g=new Set(o);for(const y of a){const b=this._fieldObjects[y]||[];for(const{id:v}of b)g.add(v)}for(const y of Object.values(this._fieldObjects))for(const b of y)g.has(b.id)===u&&h.push(b)}else for(const g of Object.values(this._fieldObjects))h.push(...g);const d=this.annotationStorage,p=[];for(const g of h){const{id:y}=g;switch(p.push(y),g.type){case"text":{const v=g.defaultValue||"";d.setValue(y,{value:v});break}case"checkbox":case"radiobutton":{const v=g.defaultValue===g.exportValues;d.setValue(y,{value:v});break}case"combobox":case"listbox":{const v=g.defaultValue||"";d.setValue(y,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!Rs.has(b)){St(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class ax extends pe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Os extends pe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Oe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,a,o){s.includes("mouse")?t.addEventListener(s,u=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(u)}})})}_setEventListeners(t,e,s,a){for(const[o,u]of s)(u==="Action"||this.data.actions?.[u])&&((u==="Focus"||u==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,u,a),u==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):u==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ft.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||sx,o=t.style;let u;const h=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(td*a))||1,y=p/g;u=Math.min(a,d(y/td))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);u=Math.min(a,d(p/td))}o.fontSize=`calc(${u}px * var(--total-scale-factor))`,o.color=ft.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class rx extends Os{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,a){const o=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),o.setValue(u.id,{[a]:s})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let h=a.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",h??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Rs.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=yo,this._setRequired(s,this.data.required),u&&(s.maxLength=u),s.addEventListener("input",g=>{t.setValue(e,{value:g.target.value}),this.setPropertyOnSiblings(s,"value",g.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";s.value=d.userValue=y,d.formattedValue=null});let p=g=>{const{formattedValue:y}=d;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",y=>{if(d.focused)return;const{target:b}=y;d.userValue&&(b.value=d.userValue),d.lastCommittedValue=b.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(v){d.userValue=v.detail.value??"",t.setValue(e,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:E}=v.detail;d.formattedValue=E,E!=null&&v.target!==document.activeElement&&(v.target.value=E),t.setValue(e,{formattedValue:E})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:E}=v.detail,{target:S}=v;if(E===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",E);let T=d.userValue;!T||T.length<=E||(T=T.slice(0,E),S.value=d.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),s.addEventListener("keydown",y=>{d.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(d.commitKey=3),b===-1)return;const{value:v}=y.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,s.addEventListener("blur",y=>{if(!d.focused||!y.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:b}=y.target;d.userValue=b,d.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),g(y)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",y=>{d.lastCommittedValue=null;const{data:b,target:v}=y,{value:E,selectionStart:S,selectionEnd:T}=v;let _=S,L=T;switch(y.inputType){case"deleteWordBackward":{const C=E.substring(0,S).match(/\w*[^\w]*$/);C&&(_-=C[0].length);break}case"deleteWordForward":{const C=E.substring(S).match(/^[^\w]*\w*/);C&&(L+=C[0].length);break}case"deleteContentBackward":S===T&&(_-=1);break;case"deleteContentForward":S===T&&(L+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,change:b||"",willCommit:!1,selStart:_,selEnd:L}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;s.classList.add("comb"),s.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ox extends Os{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class lx extends Os{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Rs.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=yo,o.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s)){const g=d&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:d})}),o.addEventListener("resetform",u=>{const h=e.defaultFieldValue||"Off";u.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ov extends Os{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(s,{value:a})),a)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const o=document.createElement("input");if(Rs.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=yo,o.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:d})}),o.addEventListener("resetform",u=>{const h=e.defaultFieldValue;u.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:p=>{const g=u===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const b=g&&y.id===s;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class cx extends Dv{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class ux extends Os{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Rs.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=yo;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,s.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),o=!1),a.append(y)}let u=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),u=()=>{g.remove(),a.removeEventListener("input",u),u=null},a.addEventListener("input",u)}const h=g=>{const y=g?"value":"textContent",{options:b,multiple:v}=a;return v?Array.prototype.filter.call(b,E=>E.selected).map(E=>E[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let d=h(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const y={value(b){u?.();const v=b.detail.value,E=new Set(Array.isArray(v)?v:[v]);for(const S of a.options)S.selected=E.has(S.value);t.setValue(e,{value:h(!0)}),d=h(!1)},multipleSelection(b){a.multiple=!0},remove(b){const v=a.options,E=b.detail.remove;v[E].selected=!1,a.remove(E),v.length>0&&Array.prototype.findIndex.call(v,T=>T.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),d=h(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=h(!1)},insert(b){const{index:v,displayValue:E,exportValue:S}=b.detail.insert,T=a.children[v],_=document.createElement("option");_.textContent=E,_.value=S,T?T.before(_):a.append(_),t.setValue(e,{value:h(!0),items:p(b)}),d=h(!1)},items(b){const{items:v}=b.detail;for(;a.length!==0;)a.remove(0);for(const E of v){const{displayValue:S,exportValue:T}=E,_=document.createElement("option");_.textContent=S,_.value=T,a.append(_)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),d=h(!1)},indices(b){const v=new Set(b.detail.indices);for(const E of b.target.options)E.selected=v.has(E.index);t.setValue(e,{value:h(!0)}),d=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,g)}),a.addEventListener("input",g=>{const y=h(!0),b=h(!1);t.setValue(e,{value:y}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class _d extends pe{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:pe._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new hx({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${Vd}${s}`).join(",")),this.container}}class hx{#t=this.#C.bind(this);#e=this.#T.bind(this);#n=this.#R.bind(this);#i=this.#E.bind(this);#a=null;#s=null;#l=null;#o=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#r=null;#p=null;#m=null;#g=null;#y=null;#b=!1;constructor({container:t,color:e,elements:s,titleObj:a,modificationDate:o,contentsObj:u,richText:h,parent:d,rect:p,parentRect:g,open:y}){this.#s=t,this.#g=a,this.#l=u,this.#m=h,this.#c=d,this.#a=e,this.#p=p,this.#d=g,this.#h=s,this.#o=Yd.toDateObject(o),this.trigger=s.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#i),b.addEventListener("mouseenter",this.#n),b.addEventListener("mouseleave",this.#e),b.classList.add("popupTriggerArea");for(const b of s)b.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,y&&this.#E()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const o=t.style.outlineColor=ft.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=this.#g,t.append(e),this.#o){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),e.append(o)}const a=this.#v;if(a)sf.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#l);t.append(o)}this.#s.append(t)}get#v(){const t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#S(){return this.#v?.attributes?.style?.fontSize||0}get#w(){return this.#v?.attributes?.style?.color||null}#x(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#w,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return s}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let o=0,u=a.length;o<u;++o){const h=a[o];s.append(document.createTextNode(h)),o<u-1&&s.append(document.createElement("br"))}return s}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#l,richText:this.#m},t&&(this.#r=null),e&&(this.#m=this.#x(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#l,richText:this.#m}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#r=null)}#M(){if(this.#r!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:a,pageY:o}}}=this.#c;let u=!!this.#d,h=u?this.#d:this.#p;for(const E of this.#h)if(!h||ft.intersect(E.data.rect,h)!==null){h=E.data.rect,u=!0;break}const d=ft.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=u?h[2]-h[0]+5:0,y=d[0]+g,b=d[1];this.#r=[100*(y-a)/e,100*(b-o)/s];const{style:v}=this.#s;v.left=`${this.#r[0]}%`,v.top=`${this.#r[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#R(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#T(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#M(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#T(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#s.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#R(),this.#b=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Nv extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class dx extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class fx extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),o=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:rect");return u.setAttribute("x",o/2),u.setAttribute("y",o/2),u.setAttribute("width",e-o),u.setAttribute("height",s-o),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class px extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),o=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:ellipse");return u.setAttribute("cx",e/2),u.setAttribute("cy",s/2),u.setAttribute("rx",e/2-o/2),u.setAttribute("ry",s/2-o/2),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class kv extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:s,popupRef:a},width:o,height:u}=this;if(!e)return this.container;const h=this.svgFactory.create(o,u,!0);let d=[];for(let g=0,y=e.length;g<y;g+=2){const b=e[g]-t[0],v=t[3]-e[g+1];d.push(`${b},${v}`)}d=d.join(" ");const p=this.#t=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class gx extends kv{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class mx extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class af extends pe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:s,borderStyle:a,popupRef:o}}=this,{transform:u,width:h,height:d}=this.#n(e,t),p=this.svgFactory.create(h,d,!0),g=this.#t=this.svgFactory.createElement("svg:g");p.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",u);for(let y=0,b=s.length;y<b;y++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",s[y].join(",")),g.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:s,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),s)for(let u=0,h=this.#e.length;u<h;u++)this.#e[u].setAttribute("points",s[u].join(","));if(a){const{transform:u,width:h,height:d}=this.#n(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${d}`),o.setAttribute("transform",u)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pv extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class yx extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class bx extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class vx extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Iv extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Ax extends pe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let s;e.hasAppearance||e.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#e.bind(this)),this.#t=s;const{isMac:a}=Oe.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let rf=class zv{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:a,page:o,viewport:u,structTreeLayer:h}){this.div=t,this.#t=e,this.#e=s,this.#i=h||null,this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e){const s=t.firstChild||t,a=s.id=`${Vd}${e}`,o=await this.#i?.getAriaAttributes(a);if(o)for(const[u,h]of o)s.setAttribute(u,h);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1)}async render(t){const{annotations:e}=t,s=this.div;Ji(s,this.viewport);const a=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new so,annotationStorage:t.annotationStorage||new Wd,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===he.POPUP;if(h){const g=a.get(u.id);if(!g)continue;o.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;o.data=u;const d=tb.create(o);if(!d.isRenderable)continue;if(!h&&u.popupRef){const g=a.get(u.popupRef);g?g.push(d):a.set(u.popupRef,[d])}const p=d.render();u.hidden&&(p.style.visibility="hidden"),await this.#a(p,u.id),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#s()}async addLinkAnnotations(t,e){const s={data:null,layer:this.div,linkService:e,svgFactory:new so,parent:this};for(const a of t){a.borderStyle||=zv._defaultBorderStyle,s.data=a;const o=tb.create(s);if(!o.isRenderable)continue;const u=o.render();await this.#a(u,a.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Ji(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,s]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):a.append(s);const u=this.#n.get(e);u&&(u._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,s),u._hasNoCanvas=!1):u.canvas=s)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Dt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Aa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const jl=/\r\n?|\n/g;class we extends pt{#t;#e="";#n=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=we.prototype,e=o=>o.isEmpty(),s=Ei.TRANSLATE_SMALL,a=Ei.TRANSLATE_BIG;return Dt(this,"_keyboardManager",new po([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||we._defaultColor||pt._defaultLineColor,this.#a=t.fontSize||we._defaultFontSize}static initialize(t,e){pt.initialize(t,e);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Nt.FREETEXT_SIZE:we._defaultFontSize=e;break;case Nt.FREETEXT_COLOR:we._defaultColor=e;break}}updateParams(t,e){switch(t){case Nt.FREETEXT_SIZE:this.#s(e);break;case Nt.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[Nt.FREETEXT_SIZE,we._defaultFontSize],[Nt.FREETEXT_COLOR,we._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Nt.FREETEXT_SIZE,this.#a],[Nt.FREETEXT_COLOR,this.#t]]}#s(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#a)*this.parentScale),this.#a=a,this.#h()},s=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){const e=a=>{this.#t=this.editorDiv.style.color=a},s=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-we._internalPadding*t,-(we._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const s of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(we.#c(s)),e=s);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,u=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=u,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/e):(this.width=s.height/t,this.height=s.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const s=a=>{if(this.#e=a,!a){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{s(e)},undo:()=>{s(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){we._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,g]=this.pageDimensions,[y,b]=this.pageTranslation;let v,E;switch(this.rotation){case 0:v=t+(u[0]-y)/p,E=e+this.height-(u[1]-b)/g;break;case 90:v=t+(u[0]-y)/p,E=e-(u[1]-b)/g,[h,d]=[d,-h];break;case 180:v=t-this.width+(u[0]-y)/p,E=e-(u[1]-b)/g,[h,d]=[-h,-d];break;case 270:v=t+(u[0]-y-this.height*g)/p,E=e+(u[1]-b-this.width*p)/g,[h,d]=[-d,h];break}this.setAt(v*a,E*o,h,d)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(jl,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:s}=e;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=we.#f(e.getData("text")||"").replaceAll(jl,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const u=o.getRangeAt(0);if(!a.includes(`
`)){u.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:d}=u,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const v=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(jl,"")),v!==this.editorDiv){let E=p;for(const S of this.editorDiv.childNodes){if(S===v){E=g;continue}E.push(we.#c(S))}}p.push(h.nodeValue.slice(0,d).replaceAll(jl,""))}else if(h===this.editorDiv){let v=p,E=0;for(const S of this.editorDiv.childNodes)E++===d&&(v=g),v.push(we.#c(S))}this.#e=`${p.join(`
`)}${a}${g.join(`
`)}`,this.#d();const y=new Range;let b=Math.sumPrecise(p.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const E=v.nodeValue.length;if(b<=E){y.setStart(v,b),y.setEnd(v,b);break}b-=E}o.removeAllRanges(),o.addRange(y)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,s){let a=null;if(t instanceof Nv){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:d,rotation:p,id:g,popupRef:y},textContent:b,textPosition:v,parent:{page:{pageNumber:E}}}=t;if(!b||b.length===0)return null;a=t={annotationType:At.FREETEXT,color:Array.from(h),fontSize:u,value:b.join(`
`),position:v,pageIndex:E-1,rect:d.slice(0),rotation:p,id:g,deleted:!1,popupRef:y}}const o=await super.deserialize(t,e,s);return o.#a=t.fontSize,o.#t=ft.makeHexColor(...t.color),o.#e=we.#f(t.value),o.annotationElementId=t.id||null,o._initialData=a,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=we._internalPadding*this.parentScale,s=this.getRect(e,e),a=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),o={annotationType:At.FREETEXT,color:a,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!this.#r(o)?null:(o.id=this.annotationElementId,o)}#r(t){const{value:e,fontSize:s,color:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==s||t.color.some((u,h)=>u!==a[h])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:s}=e;s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,e.replaceChildren();for(const o of this.#e.split(`
`)){const u=document.createElement("div");u.append(o?document.createTextNode(o):document.createElement("br")),e.append(u)}const a=we._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ct{static PRECISION=1e-4;toSVGPath(){Kt("Abstract method `toSVGPath` must be implemented.")}get box(){Kt("Abstract getter `box` must be implemented.")}serialize(t,e){Kt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,s,a,o,u){u||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=e+t[h]*a,u[h+1]=s+t[h+1]*o;return u}static _rescaleAndSwap(t,e,s,a,o,u){u||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=e+t[h+1]*a,u[h+1]=s+t[h]*o;return u}static _translate(t,e,s,a){a||=new Float32Array(t.length);for(let o=0,u=t.length;o<u;o+=2)a[o]=e+t[o],a[o+1]=s+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,s,a,o){switch(o){case 90:return[1-e/s,t/a];case 180:return[1-t/s,1-e/a];case 270:return[e/s,1-t/a];default:return[t/s,e/a]}}static _normalizePagePoint(t,e,s){switch(s){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,s,a,o,u){return[(t+5*s)/6,(e+5*a)/6,(5*s+o)/6,(5*a+u)/6,(s+o)/2,(a+u)/2]}}class Es{#t;#e=[];#n;#i;#a=[];#s=new Float32Array(18);#l;#o;#h;#c;#d;#u;#f=[];static#r=8;static#p=2;static#m=Es.#r+Es.#p;constructor({x:t,y:e},s,a,o,u,h=0){this.#t=s,this.#u=o*a,this.#i=u,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=h,this.#c=Es.#r*a,this.#h=Es.#m*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[s,a,o,u]=this.#t;return[(this.#l+(t[0]-e[0])/2-s)/o,(this.#o+(t[1]-e[1])/2-a)/u,(this.#l+(e[0]-t[0])/2-s)/o,(this.#o+(e[1]-t[1])/2-a)/u]}add({x:t,y:e}){this.#l=t,this.#o=e;const[s,a,o,u]=this.#t;let[h,d,p,g]=this.#s.subarray(8,12);const y=t-p,b=e-g,v=Math.hypot(y,b);if(v<this.#h)return!1;const E=v-this.#c,S=E/v,T=S*y,_=S*b;let L=h,C=d;h=p,d=g,p+=T,g+=_,this.#f?.push(t,e);const D=-_/E,R=T/E,I=D*this.#u,N=R*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([p+I,g+N],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([p-I,g-N],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([h+I,d+N],2),this.#a.push(NaN,NaN,NaN,NaN,(h+I-s)/o,(d+N-a)/u),this.#s.set([h-I,d-N],14),this.#e.push(NaN,NaN,NaN,NaN,(h-I-s)/o,(d-N-a)/u)),this.#s.set([L,C,h,d,p,g],6),!this.isEmpty()):(this.#s.set([L,C,h,d,p,g],6),Math.abs(Math.atan2(C-d,L-h)-Math.atan2(_,T))<Math.PI/2?([h,d,p,g]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+p)/2-s)/o,((d+g)/2-a)/u),[h,d,L,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((L+h)/2-s)/o,((C+d)/2-a)/u),!0):([L,C,h,d,p,g]=this.#s.subarray(0,6),this.#a.push(((L+5*h)/6-s)/o,((C+5*d)/6-a)/u,((5*h+p)/6-s)/o,((5*d+g)/6-a)/u,((h+p)/2-s)/o,((d+g)/2-a)/u),[p,g,h,d,L,C]=this.#s.subarray(12,18),this.#e.push(((L+5*h)/6-s)/o,((C+5*d)/6-a)/u,((5*h+p)/6-s)/o,((5*d+g)/6-a)/u,((h+p)/2-s)/o,((d+g)/2-a)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const s=[];s.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#v(s);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#b(s),s.join(" ")}#y(){const[t,e,s,a]=this.#t,[o,u,h,d]=this.#g();return`M${(this.#s[2]-t)/s} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/s} ${(this.#s[5]-e)/a} L${o} ${u} L${h} ${d} L${(this.#s[16]-t)/s} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/s} ${(this.#s[15]-e)/a} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,s,a,o]=this.#t,u=this.#s.subarray(4,6),h=this.#s.subarray(16,18),[d,p,g,y]=this.#g();t.push(`L${(u[0]-e)/a} ${(u[1]-s)/o} L${d} ${p} L${g} ${y} L${(h[0]-e)/a} ${(h[1]-s)/o}`)}newFreeDrawOutline(t,e,s,a,o,u){return new Bv(t,e,s,a,o,u)}getOutlines(){const t=this.#a,e=this.#e,s=this.#s,[a,o,u,h]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let y=0,b=d.length-2;y<b;y+=2)d[y]=(this.#f[y]-a)/u,d[y+1]=(this.#f[y+1]-o)/h;if(d[d.length-2]=(this.#l-a)/u,d[d.length-1]=(this.#o-o)/h,isNaN(s[6])&&!this.isEmpty())return this.#S(d);const p=new Float32Array(this.#a.length+24+this.#e.length);let g=t.length;for(let y=0;y<g;y+=2){if(isNaN(t[y])){p[y]=p[y+1]=NaN;continue}p[y]=t[y],p[y+1]=t[y+1]}g=this.#x(p,g);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[y+b],p[g+1]=e[y+b+1],g+=2}return this.#w(p,g),this.newFreeDrawOutline(p,d,this.#t,this.#d,this.#n,this.#i)}#S(t){const e=this.#s,[s,a,o,u]=this.#t,[h,d,p,g]=this.#g(),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-a)/u,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-a)/u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-a)/u,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-a)/u],0),this.newFreeDrawOutline(y,t,this.#t,this.#d,this.#n,this.#i)}#w(t,e){const s=this.#e;return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6}#x(t,e){const s=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[o,u,h,d]=this.#t,[p,g,y,b]=this.#g();return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/h,(s[1]-u)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(a[0]-o)/h,(a[1]-u)/d],e),e+=24}}class Bv extends ct{#t;#e=new Float32Array(4);#n;#i;#a;#s;#l;constructor(t,e,s,a,o,u){super(),this.#l=t,this.#a=e,this.#t=s,this.#s=a,this.#n=o,this.#i=u,this.lastPoint=[NaN,NaN],this.#o(u);const[h,d,p,g]=this.#e;for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-h)/p,t[y+1]=(t[y+1]-d)/g;for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-h)/p,e[y+1]=(e[y+1]-d)/g}toSVGPath(){const t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,s=this.#l.length;e<s;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,s,a],o){const u=s-t,h=a-e;let d,p;switch(o){case 0:d=ct._rescale(this.#l,t,a,u,-h),p=ct._rescale(this.#a,t,a,u,-h);break;case 90:d=ct._rescaleAndSwap(this.#l,t,e,u,h),p=ct._rescaleAndSwap(this.#a,t,e,u,h);break;case 180:d=ct._rescale(this.#l,s,e,-u,h),p=ct._rescale(this.#a,s,e,-u,h);break;case 270:d=ct._rescaleAndSwap(this.#l,s,a,-u,-h),p=ct._rescaleAndSwap(this.#a,s,a,-u,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}#o(t){const e=this.#l;let s=e[4],a=e[5];const o=[s,a,s,a];let u=s,h=a;const d=t?Math.max:Math.min;for(let g=6,y=e.length;g<y;g+=6){const b=e[g+4],v=e[g+5];if(isNaN(e[g]))ft.pointBoundingBox(b,v,o),h<v?(u=b,h=v):h===v&&(u=d(u,b));else{const E=[1/0,1/0,-1/0,-1/0];ft.bezierBoundingBox(s,a,...e.slice(g,g+6),E),ft.rectBoundingBox(...E,o),h<E[3]?(u=E[2],h=E[3]):h===E[3]&&(u=d(u,E[2]))}s=b,a=v}const p=this.#e;p[0]=o[0]-this.#n,p[1]=o[1]-this.#n,p[2]=o[2]-o[0]+2*this.#n,p[3]=o[3]-o[1]+2*this.#n,this.lastPoint=[u,h]}get box(){return this.#e}newOutliner(t,e,s,a,o,u=0){return new Es(t,e,s,a,o,u)}getNewOutline(t,e){const[s,a,o,u]=this.#e,[h,d,p,g]=this.#t,y=o*p,b=u*g,v=s*p+h,E=a*g+d,S=this.newOutliner({x:this.#a[0]*y+v,y:this.#a[1]*b+E},this.#t,this.#s,t,this.#i,e??this.#n);for(let T=2;T<this.#a.length;T+=2)S.add({x:this.#a[T]*y+v,y:this.#a[T+1]*b+E});return S.getOutlines()}}class xd{#t;#e;#n=[];#i=[];constructor(t,e=0,s=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],u=10**-4;for(const{x:v,y:E,width:S,height:T}of t){const _=Math.floor((v-e)/u)*u,L=Math.ceil((v+S+e)/u)*u,C=Math.floor((E-e)/u)*u,D=Math.ceil((E+T+e)/u)*u,R=[_,C,D,!0],I=[L,C,D,!1];this.#n.push(R,I),ft.rectBoundingBox(_,C,L,D,o)}const h=o[2]-o[0]+2*s,d=o[3]-o[1]+2*s,p=o[0]-s,g=o[1]-s,y=this.#n.at(a?-1:-2),b=[y[0],y[2]];for(const v of this.#n){const[E,S,T]=v;v[0]=(E-p)/h,v[1]=(S-g)/d,v[2]=(T-g)/d}this.#t=new Float32Array([p,g,h,d]),this.#e=b}getOutlines(){this.#n.sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#l(e)):(this.#o(e),t.push(...this.#h(e)));return this.#a(t)}#a(t){const e=[],s=new Set;for(const u of t){const[h,d,p]=u;e.push([h,d,u],[h,p,u])}e.sort((u,h)=>u[1]-h[1]||u[0]-h[0]);for(let u=0,h=e.length;u<h;u+=2){const d=e[u][2],p=e[u+1][2];d.push(p),p.push(d),s.add(d),s.add(p)}const a=[];let o;for(;s.size>0;){const u=s.values().next().value;let[h,d,p,g,y]=u;s.delete(u);let b=h,v=d;for(o=[h,p],a.push(o);;){let E;if(s.has(g))E=g;else if(s.has(y))E=y;else break;s.delete(E),[h,d,p,g,y]=E,b!==h&&(o.push(b,v,h,v===d?d:p),b=h),v=v===d?p:d}o.push(b,v)}return new Sx(a,this.#t,this.#e)}#s(t){const e=this.#i;let s=0,a=e.length-1;for(;s<=a;){const o=s+a>>1,u=e[o][0];if(u===t)return o;u<t?s=o+1:a=o-1}return a+1}#l([,t,e]){const s=this.#s(t);this.#i.splice(s,0,[t,e])}#o([,t,e]){const s=this.#s(t);for(let a=s;a<this.#i.length;a++){const[o,u]=this.#i[a];if(o!==t)break;if(o===t&&u===e){this.#i.splice(a,1);return}}for(let a=s-1;a>=0;a--){const[o,u]=this.#i[a];if(o!==t)break;if(o===t&&u===e){this.#i.splice(a,1);return}}}#h(t){const[e,s,a]=t,o=[[e,s,a]],u=this.#s(a);for(let h=0;h<u;h++){const[d,p]=this.#i[h];for(let g=0,y=o.length;g<y;g++){const[,b,v]=o[g];if(!(p<=b||v<=d)){if(b>=d){if(v>p)o[g][1]=p;else{if(y===1)return[];o.splice(g,1),g--,y--}continue}o[g][2]=d,v>p&&o.push([e,p,v])}}}return o}}class Sx extends ct{#t;#e;constructor(t,e,s){super(),this.#e=t,this.#t=e,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[s,a]=e;t.push(`M${s} ${a}`);for(let o=2;o<e.length;o+=2){const u=e[o],h=e[o+1];u===s?(t.push(`V${h}`),a=h):h===a&&(t.push(`H${u}`),s=u)}t.push("Z")}return t.join(" ")}serialize([t,e,s,a],o){const u=[],h=s-t,d=a-e;for(const p of this.#e){const g=new Array(p.length);for(let y=0;y<p.length;y+=2)g[y]=t+p[y]*h,g[y+1]=a-p[y+1]*d;u.push(g)}return u}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Td extends Es{newFreeDrawOutline(t,e,s,a,o,u){return new Ex(t,e,s,a,o,u)}}class Ex extends Bv{newOutliner(t,e,s,a,o,u=0){return new Td(t,e,s,a,o,u)}}class pn{#t=null;#e=null;#n;#i=null;#a=!1;#s=!1;#l=null;#o;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return Dt(this,"_keyboardManager",new po([[["Escape","mac+Escape"],pn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pn.prototype._moveToPrevious],[["Home","mac+Home"],pn.prototype._moveToBeginning],[["End","mac+End"],pn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#d=Nt.HIGHLIGHT_COLOR,this.#l=t):(this.#s=!0,this.#d=Nt.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",pn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const s=this.#e=document.createElement("span");return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=this.#n,t.append(s),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",Mn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,a]of this.#c.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=s,o.setAttribute("data-l10n-id",pn.#u[s]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=a,o.setAttribute("aria-selected",a===this.#n),o.addEventListener("click",this.#r.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#r(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#r(e,t)}_moveToNext(t){if(!this.#y){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){pn._keyboardManager.exec(this,t)}#m(t){if(this.#y){this.hideDropdown();return}if(this.#a=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#y){this.#l?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const s of this.#i.children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class de extends pt{#t=null;#e=0;#n;#i=null;#a=null;#s=null;#l=null;#o=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#r;#p=null;#m="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=de.prototype;return Dt(this,"_keyboardManager",new po([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||de._defaultColor,this.#g=t.thickness||de._defaultThickness,this.#r=t.opacity||de._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#v(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#l=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new xd(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new xd(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:s}=this.#s;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:s}){this.#c=t;const a=1.5;if(this.#s=t.getNewOutline(this.#g/2+a,.0025),e>=0)this.#d=e,this.#i=s,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:de.#E(this.#c.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:de.#E(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[o,u,h,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=u,this.width=h,this.height=d;break;case 90:{const[g,y]=this.parentDimensions;this.x=u,this.y=1-o,this.width=h*y/g,this.height=d*g/y;break}case 180:this.x=1-o,this.y=1-u,this.width=h,this.height=d;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-u,this.y=o,this.width=h*y/g,this.height=d*g/y;break}}const{lastPoint:p}=this.#s;this.#f=[(p[0]-o)/h,(p[1]-u)/d]}static initialize(t,e){pt.initialize(t,e),de._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Nt.HIGHLIGHT_DEFAULT_COLOR:de._defaultColor=e;break;case Nt.HIGHLIGHT_THICKNESS:de._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case Nt.HIGHLIGHT_COLOR:this.#S(e);break;case Nt.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Nt.HIGHLIGHT_DEFAULT_COLOR,de._defaultColor],[Nt.HIGHLIGHT_THICKNESS,de._defaultThickness]]}get propertiesToUpdate(){return[[Nt.HIGHLIGHT_COLOR,this.color||de._defaultColor],[Nt.HIGHLIGHT_THICKNESS,this.#g||de._defaultThickness],[Nt.HIGHLIGHT_FREE,this.#u]]}#S(t){const e=(o,u)=>{this.color=o,this.#r=u,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:o,"fill-opacity":u}}),this.#a?.updateColor(o)},s=this.color,a=this.#r;this.addCommands({cmd:e.bind(this,t,de._defaultOpacity),undo:e.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#w(t){const e=this.#g,s=a=>{this.#g=a,this.#x(a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new pn({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){if(!this.#u)return;this.#v({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#r},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#E([t,e,s,a],o){switch(o){case 90:return[1-e-a,t,a,s];case 180:return[1-t-s,1-e-a,s,a];case 270:return[e,1-t-s,a,s]}return[t,e,s,a]}rotate(t){const{drawLayer:e}=this.parent;let s;this.#u?(t=(t-this.rotation+360)%360,s=de.#E(this.#c.box,t)):s=de.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:s,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:de.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),hv(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){de._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#D(){return this.#u?this.rotation:0}#O(){if(this.#u)return null;const[t,e]=this.pageDimensions,[s,a]=this.pageTranslation,o=this.#n,u=new Float32Array(o.length*8);let h=0;for(const{x:d,y:p,width:g,height:y}of o){const b=d*t+s,v=(1-p)*e+a;u[h]=u[h+4]=b,u[h+1]=u[h+3]=v,u[h+2]=u[h+6]=b+g*t,u[h+5]=u[h+7]=v-y*e,h+=8}return u}#N(t){return this.#c.serialize(t,this.#D())}static startHighlighting(t,e,{target:s,x:a,y:o}){const{x:u,y:h,width:d,height:p}=s.getBoundingClientRect(),g=new AbortController,y=t.combinedSignal(g),b=v=>{g.abort(),this.#_(t,v)};window.addEventListener("blur",b,{signal:y}),window.addEventListener("pointerup",b,{signal:y}),window.addEventListener("pointerdown",fe,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Mn,{signal:y}),s.addEventListener("pointermove",this.#F.bind(this,t),{signal:y}),this._freeHighlight=new Td({x:a,y:o},[u,h,d,p],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#F(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,s){let a=null;if(t instanceof Pv){const{data:{quadPoints:E,rect:S,rotation:T,id:_,color:L,opacity:C,popupRef:D},parent:{page:{pageNumber:R}}}=t;a=t={annotationType:At.HIGHLIGHT,color:Array.from(L),opacity:C,quadPoints:E,boxes:null,pageIndex:R-1,rect:S.slice(0),rotation:T,id:_,deleted:!1,popupRef:D}}else if(t instanceof af){const{data:{inkLists:E,rect:S,rotation:T,id:_,color:L,borderStyle:{rawWidth:C},popupRef:D},parent:{page:{pageNumber:R}}}=t;a=t={annotationType:At.HIGHLIGHT,color:Array.from(L),thickness:C,inkLists:E,boxes:null,pageIndex:R-1,rect:S.slice(0),rotation:T,id:_,deleted:!1,popupRef:D}}const{color:o,quadPoints:u,inkLists:h,opacity:d}=t,p=await super.deserialize(t,e,s);p.color=ft.makeHexColor(...o),p.#r=d||1,h&&(p.#g=t.thickness),p.annotationElementId=t.id||null,p._initialData=a;const[g,y]=p.pageDimensions,[b,v]=p.pageTranslation;if(u){const E=p.#n=[];for(let S=0;S<u.length;S+=8)E.push({x:(u[S]-b)/g,y:1-(u[S+1]-v)/y,width:(u[S+2]-u[S])/g,height:(u[S+1]-u[S+5])/y});p.#b(),p.#M(),p.rotate(p.rotation)}else if(h){p.#u=!0;const E=h[0],S={x:E[0]-b,y:y-(E[1]-v)},T=new Td(S,[0,0,g,y],1,p.#g/2,!0,.001);for(let C=0,D=E.length;C<D;C+=2)S.x=E[C]-b,S.y=y-(E[C+1]-v),T.add(S);const{id:_,clipPathId:L}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);p.#v({highlightOutlines:T.getOutlines(),highlightId:_,clipPathId:L}),p.#M(),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),s=pt._colorManager.convert(this.color),a={annotationType:At.HIGHLIGHT,color:s,opacity:this.#r,thickness:this.#g,quadPoints:this.#O(),outlines:this.#N(e),pageIndex:this.pageIndex,rect:e,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#A(a)?null:(a.id=this.annotationElementId,a)}#A(t){const{color:e}=this._initialData;return t.color.some((s,a)=>s!==e[a])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Hv{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,s]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,s)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Kt("Not implemented")}}class yt extends pt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#a=null;static#s=NaN;static#l=null;static#o=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:s}){this.#t=t,this._drawingOptions||=s,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#m(t.box)}#d(t,e){const{id:s}=e.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(t,e){const s=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))s.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){Kt("Not implemented")}static get typesMap(){Kt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,e),this._currentParent&&(yt.#n.updateProperty(s,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)t.push([s,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[s,a]of this.constructor.typesMap)t.push([s,e[a]]);return t}_updateProperty(t,e,s){const a=this._drawingOptions,o=a[e],u=h=>{a.updateProperty(e,h);const d=this.#t.updateProperty(e,h);d&&this.#m(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:u.bind(this,s),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#r([t,e,s,a]){const{parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[e,1-t,s*(u/o),a*(o/u)];case 180:return[1-t,1-e,s,a];case 270:return[1-e,t,s*(u/o),a*(o/u)];default:return[t,e,s,a]}}#p(){const{x:t,y:e,width:s,height:a,parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[1-e,t,s*(o/u),a*(u/o)];case 180:return[1-t,1-e,s,a];case 270:return[e,1-t,s*(o/u),a*(u/o)];default:return[t,e,s,a]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#r(t),this.div){this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}this._onResized()}#g(){const{x:t,y:e,width:s,height:a,rotation:o,parentRotation:u,parentDimensions:[h,d]}=this;switch((o*4+u)/90){case 1:return[1-e-a,t,a,s];case 2:return[1-t-s,1-e-a,s,a];case 3:return[e,1-t-s,a,s];case 4:return[t,e-s*(h/d),a*(d/h),s*(h/d)];case 5:return[1-e,t,s*(h/d),a*(d/h)];case 6:return[1-t-a*(d/h),1-e,a*(d/h),s*(h/d)];case 7:return[e-s*(h/d),1-t-a*(d/h),s*(h/d),a*(d/h)];case 8:return[t-s,e-a,s,a];case 9:return[1-e,t-s,a,s];case 10:return[1-t,1-e,s,a];case 11:return[e-a,1-t,a,s];case 12:return[t-a*(d/h),e,a*(d/h),s*(h/d)];case 13:return[1-e-s*(h/d),t-a*(d/h),s*(h/d),a*(d/h)];case 14:return[1-t,1-e-s*(h/d),a*(d/h),s*(h/d)];case 15:return[e,1-t,s*(h/d),a*(d/h)];default:return[t,e,s,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[o,u]=this.parentDimensions;return this.setDims(this.width*o,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),s}static createDrawerInstance(t,e,s,a,o){Kt("Not implemented")}static startDrawing(t,e,s,a){const{target:o,offsetX:u,offsetY:h,pointerId:d,pointerType:p}=a;if(yt.#l&&yt.#l!==p)return;const{viewport:{rotation:g}}=t,{width:y,height:b}=o.getBoundingClientRect(),v=yt.#i=new AbortController,E=t.combinedSignal(v);if(yt.#s||=d,yt.#l??=p,window.addEventListener("pointerup",S=>{yt.#s===S.pointerId?this._endDraw(S):yt.#o?.delete(S.pointerId)},{signal:E}),window.addEventListener("pointercancel",S=>{yt.#s===S.pointerId?this._currentParent.endDrawingSession():yt.#o?.delete(S.pointerId)},{signal:E}),window.addEventListener("pointerdown",S=>{yt.#l===S.pointerType&&((yt.#o||=new Set).add(S.pointerId),yt.#n.isCancellable()&&(yt.#n.removeLastElement(),yt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Mn,{signal:E}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),o.addEventListener("touchmove",S=>{S.timeStamp===yt.#h&&fe(S)},{signal:E}),t.toggleDrawing(),e._editorUndoBar?.hide(),yt.#n){t.drawLayer.updateProperties(this._currentDrawId,yt.#n.startNew(u,h,y,b,g));return}e.updateUIForDefaultProperties(this),yt.#n=this.createDrawerInstance(u,h,y,b,g),yt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(yt.#a.toSVGProperties(),yt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(yt.#h=-1,!yt.#n)return;const{offsetX:e,offsetY:s,pointerId:a}=t;if(yt.#s===a){if(yt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,yt.#n.add(e,s)),yt.#h=t.timeStamp,fe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,yt.#n=null,yt.#a=null,yt.#l=null,yt.#h=NaN),yt.#i&&(yt.#i.abort(),yt.#i=null,yt.#s=NaN,yt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,yt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=yt.#n,a=this._currentDrawId,o=s.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,s.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:Nt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Nt.DRAW_STEP),!yt.#n.isEmpty()){const{pageDimensions:[s,a],scale:o}=e,u=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:yt.#n.getOutlines(s*o,a*o,o,this._INNER_MARGIN),drawingOptions:yt.#a,mustBeCommitted:!t});return this._cleanup(!0),u}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,s,a,o,u){Kt("Not implemented")}static async deserialize(t,e,s){const{rawDims:{pageWidth:a,pageHeight:o,pageX:u,pageY:h}}=e.viewport,d=this.deserializeDraw(u,h,a,o,this._INNER_MARGIN,t),p=await super.deserialize(t,e,s);return p.createDrawingOptions(t),p.#c({drawOutlines:d}),p.#f(),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[e,s]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,s,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class wx{#t=new Float64Array(6);#e;#n;#i;#a;#s;#l="";#o=0;#h=new bo;#c;#d;constructor(t,e,s,a,o,u){this.#c=s,this.#d=a,this.#i=o,this.#a=u,[t,e]=this.#u(t,e);const h=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:h,points:this.#s}],this.#t.set(h,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return ct._normalizePoint(t,e,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[s,a,o,u]=this.#t.subarray(2,6),h=t-o,d=e-u;return Math.hypot(this.#c*h,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(s)?(this.#t.set([o,u,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([s,a,o,u,t,e],0),this.#e.push(...ct.createBezierPoints(s,a,o,u,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const s=this.add(t,e);return s||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,s,a,o){this.#c=s,this.#d=a,this.#i=o,[t,e]=this.#u(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const h=this.#n.at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),this.#n.push({line:u,points:this.#s}),this.#t.set(u,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){const{line:s,points:a}=this.#n[t];this.#e=s,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const t=ct.svgRound(this.#e[4]),e=ct.svgRound(this.#e[5]);if(this.#s.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#s.length<=6){const a=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=ct.svgRound(this.#e[10]),o=ct.svgRound(this.#e[11]);return this.#l=`${this.#l} L ${a} ${o}`,this.#o=12,this.#l}const s=[];this.#o===0&&(s.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[u,h,d,p,g,y]=this.#e.slice(a,a+6).map(ct.svgRound);s.push(`C${u} ${h} ${d} ${p} ${g} ${y}`)}return this.#l+=s.join(" "),this.#o=this.#e.length,this.#l}getOutlines(t,e,s,a){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#h.build(this.#n,t,e,s,this.#i,this.#a,a),this.#t=null,this.#e=null,this.#n=null,this.#l=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class bo extends ct{#t;#e=0;#n;#i;#a;#s;#l;#o;#h;build(t,e,s,a,o,u,h){this.#a=e,this.#s=s,this.#l=a,this.#o=o,this.#h=u,this.#n=h??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ct.svgRound(e[4])} ${ct.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ct.svgRound(e[10])} ${ct.svgRound(e[11])}`);continue}for(let s=6,a=e.length;s<a;s+=6){const[o,u,h,d,p,g]=e.subarray(s,s+6).map(ct.svgRound);t.push(`C${o} ${u} ${h} ${d} ${p} ${g}`)}}return t.join("")}serialize([t,e,s,a],o){const u=[],h=[],[d,p,g,y]=this.#d();let b,v,E,S,T,_,L,C,D;switch(this.#o){case 0:D=ct._rescale,b=t,v=e+a,E=s,S=-a,T=t+d*s,_=e+(1-p-y)*a,L=t+(d+g)*s,C=e+(1-p)*a;break;case 90:D=ct._rescaleAndSwap,b=t,v=e,E=s,S=a,T=t+p*s,_=e+d*a,L=t+(p+y)*s,C=e+(d+g)*a;break;case 180:D=ct._rescale,b=t+s,v=e,E=-s,S=a,T=t+(1-d-g)*s,_=e+p*a,L=t+(1-d)*s,C=e+(p+y)*a;break;case 270:D=ct._rescaleAndSwap,b=t+s,v=e+a,E=-s,S=-a,T=t+(1-p-y)*s,_=e+(1-d-g)*a,L=t+(1-p)*s,C=e+(1-d)*a;break}for(const{line:R,points:I}of this.#i)u.push(D(R,b,v,E,S,o?new Array(R.length):null)),h.push(D(I,b,v,E,S,o?new Array(I.length):null));return{lines:u,points:h,rect:[T,_,L,C]}}static deserialize(t,e,s,a,o,{paths:{lines:u,points:h},rotation:d,thickness:p}){const g=[];let y,b,v,E,S;switch(d){case 0:S=ct._rescale,y=-t/s,b=e/a+1,v=1/s,E=-1/a;break;case 90:S=ct._rescaleAndSwap,y=-e/a,b=-t/s,v=1/a,E=1/s;break;case 180:S=ct._rescale,y=t/s+1,b=-e/a,v=-1/s,E=1/a;break;case 270:S=ct._rescaleAndSwap,y=e/a+1,b=t/s+1,v=-1/a,E=-1/s;break}if(!u){u=[];for(const _ of h){const L=_.length;if(L===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(L===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const C=new Float32Array(3*(L-2));u.push(C);let[D,R,I,N]=_.subarray(0,4);C.set([NaN,NaN,NaN,NaN,D,R],0);for(let $=4;$<L;$+=2){const X=_[$],it=_[$+1];C.set(ct.createBezierPoints(D,R,I,N,X,it),($-2)*3),[D,R,I,N]=[I,N,X,it]}}}for(let _=0,L=u.length;_<L;_++)g.push({line:S(u[_].map(C=>C??NaN),y,b,v,E),points:S(h[_].map(C=>C??NaN),y,b,v,E)});const T=new this.prototype.constructor;return T.build(g,s,a,1,d,p,o),T}#c(t=this.#h){const e=this.#n+t/2*this.#l;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,s,a]=this.#t,[o,u]=this.#c(0);return[t+o,e+u,s-2*o,a-2*u]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let h=4,d=a.length;h<d;h+=6)ft.pointBoundingBox(a[h],a[h+1],t);continue}let o=a[4],u=a[5];for(let h=6,d=a.length;h<d;h+=6){const[p,g,y,b,v,E]=a.subarray(h,h+6);ft.bezierBoundingBox(o,u,p,g,y,b,v,E,t),o=v,u=E}}const[e,s]=this.#c();t[0]=je(t[0]-e,0,1),t[1]=je(t[1]-s,0,1),t[2]=je(t[2]+e,0,1),t[3]=je(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,s]=this.#c();this.#h=t;const[a,o]=this.#c(),[u,h]=[a-e,o-s],d=this.#t;return d[0]-=u,d[1]-=h,d[2]+=2*u,d[3]+=2*h,d}updateParentDimensions([t,e],s){const[a,o]=this.#c();this.#a=t,this.#s=e,this.#l=s;const[u,h]=this.#c(),d=u-a,p=h-o,g=this.#t;return g[0]-=d,g[1]-=p,g[2]+=2*d,g[3]+=2*p,g}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ct.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let s=0,a=0,o=0,u=0,h=0,d=0;switch(this.#e){case 90:a=e/t,o=-t/e,h=t;break;case 180:s=-1,u=-1,h=t,d=e;break;case 270:a=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${s} ${a} ${o} ${u} ${ct.svgRound(h)} ${ct.svgRound(d)})`}getPathResizingSVGProperties([t,e,s,a]){const[o,u]=this.#c(),[h,d,p,g]=this.#t;if(Math.abs(p-o)<=ct.PRECISION||Math.abs(g-u)<=ct.PRECISION){const S=t+s/2-(h+p/2),T=e+a/2-(d+g/2);return{path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${T})`}}}const y=(s-2*o)/(p-2*o),b=(a-2*u)/(g-2*u),v=p/s,E=g/a;return{path:{"transform-origin":`${ct.svgRound(h)} ${ct.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${E}) translate(${ct.svgRound(o)} ${ct.svgRound(u)}) scale(${y} ${b}) translate(${ct.svgRound(-o)} ${ct.svgRound(-u)})`}}}getPathResizedSVGProperties([t,e,s,a]){const[o,u]=this.#c(),h=this.#t,[d,p,g,y]=h;if(h[0]=t,h[1]=e,h[2]=s,h[3]=a,Math.abs(g-o)<=ct.PRECISION||Math.abs(y-u)<=ct.PRECISION){const T=t+s/2-(d+g/2),_=e+a/2-(p+y/2);for(const{line:L,points:C}of this.#i)ct._translate(L,T,_,L),ct._translate(C,T,_,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(s-2*o)/(g-2*o),v=(a-2*u)/(y-2*u),E=-b*(d+o)+t+o,S=-v*(p+u)+e+u;if(b!==1||v!==1||E!==0||S!==0)for(const{line:T,points:_}of this.#i)ct._rescale(T,E,S,b,v,T),ct._rescale(_,E,S,b,v,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],s){const[a,o]=s,u=this.#t,h=t-u[0],d=e-u[1];if(this.#a===a&&this.#s===o)for(const{line:p,points:g}of this.#i)ct._translate(p,h,d,p),ct._translate(g,h,d,g);else{const p=this.#a/a,g=this.#s/o;this.#a=a,this.#s=o;for(const{line:y,points:b}of this.#i)ct._rescale(y,h,d,p,g,y),ct._rescale(b,h,d,p,g,b);u[2]*=p,u[3]*=g}return u[0]=t,u[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t[0])} ${ct.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class wc extends Hv{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new wc(this._viewParameters);return t.updateAll(this),t}}class of extends yt{static _type="ink";static _editorType=At.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new wc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Dt(this,"typesMap",new Map([[Nt.INK_THICKNESS,"stroke-width"],[Nt.INK_COLOR,"stroke"],[Nt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,s,a,o){return new wx(t,e,s,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,s,a,o,u){return bo.deserialize(t,e,s,a,o,u)}static async deserialize(t,e,s){let a=null;if(t instanceof af){const{data:{inkLists:u,rect:h,rotation:d,id:p,color:g,opacity:y,borderStyle:{rawWidth:b},popupRef:v},parent:{page:{pageNumber:E}}}=t;a=t={annotationType:At.INK,color:Array.from(g),thickness:b,opacity:y,paths:{points:u},boxes:null,pageIndex:E-1,rect:h.slice(0),rotation:d,id:p,deleted:!1,popupRef:v}}const o=await super.deserialize(t,e,s);return o.annotationElementId=t.id||null,o._initialData=a,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:s}=this;e.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:s}){this._drawingOptions=of.getDefaultDrawingOptions({stroke:ft.makeHexColor(...t),"stroke-width":e,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":u,"stroke-width":h}}=this,d={annotationType:At.INK,color:pt._colorManager.convert(o),opacity:u,thickness:h,paths:{lines:e,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(d.isCopy=!0,d):this.annotationElementId&&!this.#t(d)?null:(d.id=this.annotationElementId,d)}#t(t){const{color:e,thickness:s,opacity:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((u,h)=>u!==e[h])||t.thickness!==s||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){const{points:e,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class Cd extends bo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Ul=8,Gr=3;class As{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,s,a){return s-=t,a-=e,s===0?a>0?0:4:s===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,s,a,o,u,h){const d=this.#e(s,a,o,u);for(let p=0;p<8;p++){const g=(-p+d-h+16)%8,y=this.#n[2*g],b=this.#n[2*g+1];if(t[(s+y)*e+(a+b)]!==0)return g}return-1}static#a(t,e,s,a,o,u,h){const d=this.#e(s,a,o,u);for(let p=0;p<8;p++){const g=(p+d+h+16)%8,y=this.#n[2*g],b=this.#n[2*g+1];if(t[(s+y)*e+(a+b)]!==0)return g}return-1}static#s(t,e,s,a){const o=t.length,u=new Int32Array(o);for(let g=0;g<o;g++)u[g]=t[g]<=a?1:0;for(let g=1;g<s-1;g++)u[g*e]=u[g*e+e-1]=0;for(let g=0;g<e;g++)u[g]=u[e*s-1-g]=0;let h=1,d;const p=[];for(let g=1;g<s-1;g++){d=1;for(let y=1;y<e-1;y++){const b=g*e+y,v=u[b];if(v===0)continue;let E=g,S=y;if(v===1&&u[b-1]===0)h+=1,S-=1;else if(v>=1&&u[b+1]===0)h+=1,S+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const T=[y,g],_=S===y+1,L={isHole:_,points:T,id:h,parent:0};p.push(L);let C;for(const nt of p)if(nt.id===d){C=nt;break}C?C.isHole?L.parent=_?C.parent:d:L.parent=_?d:C.parent:L.parent=_?d:0;const D=this.#i(u,e,g,y,E,S,0);if(D===-1){u[b]=-h,u[b]!==1&&(d=Math.abs(u[b]));continue}let R=this.#n[2*D],I=this.#n[2*D+1];const N=g+R,$=y+I;E=N,S=$;let X=g,it=y;for(;;){const nt=this.#a(u,e,X,it,E,S,1);R=this.#n[2*nt],I=this.#n[2*nt+1];const Q=X+R,et=it+I;T.push(et,Q);const rt=X*e+it;if(u[rt+1]===0?u[rt]=-h:u[rt]===1&&(u[rt]=h),Q===g&&et===y&&X===N&&it===$){u[b]!==1&&(d=Math.abs(u[b]));break}else E=X,S=it,X=Q,it=et}}}return p}static#l(t,e,s,a){if(s-e<=4){for(let N=e;N<s-2;N+=2)a.push(t[N],t[N+1]);return}const o=t[e],u=t[e+1],h=t[s-4]-o,d=t[s-3]-u,p=Math.hypot(h,d),g=h/p,y=d/p,b=g*u-y*o,v=d/h,E=1/p,S=Math.atan(v),T=Math.cos(S),_=Math.sin(S),L=E*(Math.abs(T)+Math.abs(_)),C=E*(1-L+L**2),D=Math.max(Math.atan(Math.abs(_+T)*C),Math.atan(Math.abs(_-T)*C));let R=0,I=e;for(let N=e+2;N<s-2;N+=2){const $=Math.abs(b-g*t[N+1]+y*t[N]);$>R&&(I=N,R=$)}R>(p*D)**2?(this.#l(t,e,I+2,a),this.#l(t,I,s,a)):a.push(o,u)}static#o(t){const e=[],s=t.length;return this.#l(t,0,s,e),e.push(t[s-2],t[s-1]),e.length<=4?null:e}static#h(t,e,s,a,o,u){const h=new Float32Array(u**2),d=-2*a**2,p=u>>1;for(let S=0;S<u;S++){const T=(S-p)**2;for(let _=0;_<u;_++)h[S*u+_]=Math.exp((T+(_-p)**2)/d)}const g=new Float32Array(256),y=-2*o**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/y);const b=t.length,v=new Uint8Array(b),E=new Uint32Array(256);for(let S=0;S<s;S++)for(let T=0;T<e;T++){const _=S*e+T,L=t[_];let C=0,D=0;for(let I=0;I<u;I++){const N=S+I-p;if(!(N<0||N>=s))for(let $=0;$<u;$++){const X=T+$-p;if(X<0||X>=e)continue;const it=t[N*e+X],nt=h[I*u+$]*g[Math.abs(it-L)];C+=it*nt,D+=nt}}const R=v[_]=Math.round(C/D);E[R]++}return[v,E]}static#c(t){const e=new Uint32Array(256);for(const s of t)e[s]++;return e}static#d(t){const e=t.length,s=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let h=0,d=s.length;h<d;h++){if(t[(h<<2)+3]===0){a=s[h]=255;continue}const g=s[h]=t[h<<2];g>a&&(a=g),g<o&&(o=g)}const u=255/(a-o);for(let h=0;h<e;h++)s[h]=(s[h]-o)*u;return s}static#u(t){let e,s=-1/0,a=-1/0;const o=t.findIndex(d=>d!==0);let u=o,h=o;for(e=o;e<256;e++){const d=t[e];d>s&&(e-u>a&&(a=e-u,h=e-1),s=d,u=e)}for(e=h-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:s,height:a}=t,{maxDim:o}=this.#t;let u=s,h=a;if(s>o||a>o){let b=s,v=a,E=Math.log2(Math.max(s,a)/o);const S=Math.floor(E);E=E===S?S-1:S;for(let _=0;_<E;_++){u=Math.ceil(b/2),h=Math.ceil(v/2);const L=new OffscreenCanvas(u,h);L.getContext("2d").drawImage(t,0,0,b,v,0,0,u,h),b=u,v=h,t!==e&&t.close(),t=L.transferToImageBitmap()}const T=Math.min(o/u,o/h);u=Math.round(u*T),h=Math.round(h*T)}const p=new OffscreenCanvas(u,h).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,u,h);const g=p.getImageData(0,0,u,h).data;return[this.#d(g),u,h]}static extractContoursFromText(t,{fontFamily:e,fontStyle:s,fontWeight:a},o,u,h,d){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const y=200,b=g.font=`${s} ${a} ${y}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:E,actualBoundingBoxAscent:S,actualBoundingBoxDescent:T,fontBoundingBoxAscent:_,fontBoundingBoxDescent:L,width:C}=g.measureText(t),D=1.5,R=Math.ceil(Math.max(Math.abs(v)+Math.abs(E)||0,C)*D),I=Math.ceil(Math.max(Math.abs(S)+Math.abs(T)||y,Math.abs(_)+Math.abs(L)||y)*D);p=new OffscreenCanvas(R,I),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=b,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,R,I),g.fillStyle="black",g.fillText(t,R*(D-1)/2,I*(3-D)/2);const N=this.#d(g.getImageData(0,0,R,I).data),$=this.#c(N),X=this.#u($),it=this.#s(N,R,I,X);return this.processDrawnLines({lines:{curves:it,width:R,height:I},pageWidth:o,pageHeight:u,rotation:h,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,s,a,o){const[u,h,d]=this.#f(t),[p,g]=this.#h(u,h,d,Math.hypot(h,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),y=this.#u(g),b=this.#s(p,h,d,y);return this.processDrawnLines({lines:{curves:b,width:h,height:d},pageWidth:e,pageHeight:s,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:o,mustSmooth:u,areContours:h}){a%180!==0&&([e,s]=[s,e]);const{curves:d,width:p,height:g}=t,y=t.thickness??0,b=[],v=Math.min(e/p,s/g),E=v/e,S=v/s,T=[];for(const{points:L}of d){const C=u?this.#o(L):L;if(!C)continue;T.push(C);const D=C.length,R=new Float32Array(D),I=new Float32Array(3*(D===2?2:D-2));if(b.push({line:I,points:R}),D===2){R[0]=C[0]*E,R[1]=C[1]*S,I.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[N,$,X,it]=C;N*=E,$*=S,X*=E,it*=S,R.set([N,$,X,it],0),I.set([NaN,NaN,NaN,NaN,N,$],0);for(let nt=4;nt<D;nt+=2){const Q=R[nt]=C[nt]*E,et=R[nt+1]=C[nt+1]*S;I.set(ct.createBezierPoints(N,$,X,it,Q,et),(nt-2)*3),[N,$,X,it]=[X,it,Q,et]}}if(b.length===0)return null;const _=h?new Cd:new bo;return _.build(b,e,s,1,a,h?0:y,o),{outline:_,newCurves:T,areContours:h,thickness:y,width:p,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:s,width:a,height:o}){let u=1/0,h=-1/0,d=0;for(const C of t){d+=C.length;for(let D=2,R=C.length;D<R;D++){const I=C[D]-C[D-2];u=Math.min(u,I),h=Math.max(h,I)}}let p;u>=-128&&h<=127?p=Int8Array:u>=-32768&&h<=32767?p=Int16Array:p=Int32Array;const g=t.length,y=Ul+Gr*g,b=new Uint32Array(y);let v=0;b[v++]=y*Uint32Array.BYTES_PER_ELEMENT+(d-2*g)*p.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=a,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(s??0)),b[v++]=g,b[v++]=p.BYTES_PER_ELEMENT;for(const C of t)b[v++]=C.length-2,b[v++]=C[0],b[v++]=C[1];const E=new CompressionStream("deflate-raw"),S=E.writable.getWriter();await S.ready,S.write(b);const T=p.prototype.constructor;for(const C of t){const D=new T(C.length-2);for(let R=2,I=C.length;R<I;R++)D[R-2]=C[R]-C[R-2];S.write(D)}S.close();const _=await new Response(E.readable).arrayBuffer(),L=new Uint8Array(_);return ov(L)}static async decompressSignature(t){try{const e=Jw(t),{readable:s,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let u=null,h=0;for await(const C of s)u||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),u.set(C,h),h+=C.length;const d=new Uint32Array(u.buffer,0,u.length>>2),p=d[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=d[2],y=d[3],b=d[4]===0,v=d[5],E=d[6],S=d[7],T=[],_=(Ul+Gr*E)*Uint32Array.BYTES_PER_ELEMENT;let L;switch(S){case Int8Array.BYTES_PER_ELEMENT:L=new Int8Array(u.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:L=new Int16Array(u.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:L=new Int32Array(u.buffer,_);break}h=0;for(let C=0;C<E;C++){const D=d[Gr*C+Ul],R=new Float32Array(D+2);T.push(R);for(let I=0;I<Gr-1;I++)R[I]=d[Gr*C+Ul+I+1];for(let I=0;I<D;I++)R[I+2]=R[I]+L[h++]}return{areContours:b,thickness:v,outlines:T,width:g,height:y}}catch(e){return St(`decompressSignature: ${e}`),null}}}class lf extends Hv{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new lf;return t.updateAll(this),t}}class cf extends wc{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new cf(this._viewParameters);return t.updateAll(this),t}}class Xn extends yt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=At.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new lf,this._defaultDrawnSignatureOptions=new cf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Dt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:o,areContours:u,description:h,uuid:d,heightInPage:p}=this.#n,{rawDims:{pageWidth:g,pageHeight:y},rotation:b}=this.parent.viewport,v=As.processDrawnLines({lines:a,pageWidth:g,pageHeight:y,rotation:b,innerMargin:Xn._INNER_MARGIN,mustSmooth:o,areContours:u});this.addSignature(v,p,h,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:s,width:a,height:o}=this.#n,u=Math.max(a,o),h=As.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:s,width:a,height:o},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:h.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,s,a){const{x:o,y:u}=this,{outline:h}=this.#n=t;this.#t=h instanceof Cd,this.#e=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let d;this.#t?d=Xn.getDefaultDrawingOptions():(d=Xn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:d});const[p,g]=this.parentDimensions,[,y]=this.pageDimensions;let b=e/y;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(p*this.width,g*this.height),this.x=o,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return As.process(t,e,s,a,Xn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:s,pageHeight:a},rotation:o}=this.parent.viewport;return As.extractContoursFromText(t,e,s,a,o,Xn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return As.processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:Xn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Xn.getDefaultDrawingOptions():(this._drawingOptions=Xn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,u={annotationType:At.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:o,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.paths={lines:e,points:s},u.uuid=this.#i,u.isCopy=!0):u.lines=e,this.#e&&(u.accessibilityData={type:"Figure",alt:this.#e}),u}static deserializeDraw(t,e,s,a,o,u){return u.areContours?Cd.deserialize(t,e,s,a,o,u):bo.deserialize(t,e,s,a,o,u)}static async deserialize(t,e,s){const a=await super.deserialize(t,e,s);return a.#t=t.areContours,a.#e=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class _x extends pt{#t=null;#e=null;#n=null;#i=null;#a=null;#s="";#l=null;#o=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return oc.includes(t)}static paste(t,e){e.pasteEditor({mode:At.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:u}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:o,height:u,channels:a.length/(o*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#r(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#u(s,!0)).finally(()=>this.#f());return}if(this.#i){const s=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(a=>this.#u(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=oc.join(",");const e=this._uiManager._signal;this.#n=new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}s()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#l?.remove(),this.#l=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#r();return}super.rebuild(),this.div!==null&&(this.#e&&this.#l===null&&this.#r(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#a||this.#e||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#t?this.#p():this.#r()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#e=s,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:s}=this.#t;const[a,o]=this.pageDimensions,u=.75;if(this.width)e=this.width*a,s=this.height*o;else if(e>u*a||s>u*o){const g=Math.min(u*a/e,u*o/s);e*=g,s*=g}const[h,d]=this.parentDimensions;this.setDims(e*h/a,s*d/o),this._uiManager.enableWaiting(!1);const p=this.#l=document.createElement("canvas");p.setAttribute("role","img"),this.addContainer(p),this.width=e/a,this.height=s/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s)}copyCanvas(t,e,s=!1){t||(t=224);const{width:a,height:o}=this.#t,u=new In;let h=this.#t,d=a,p=o,g=null;if(e){if(a>e||o>e){const I=Math.min(e/a,e/o);d=Math.floor(a*I),p=Math.floor(o*I)}g=document.createElement("canvas");const b=g.width=Math.ceil(d*u.sx),v=g.height=Math.ceil(p*u.sy);this.#c||(h=this.#m(b,v));const E=g.getContext("2d");E.filter=this._uiManager.hcmFilter;let S="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",T="#42414d");const _=15,L=_*u.sx,C=_*u.sy,D=new OffscreenCanvas(L*2,C*2),R=D.getContext("2d");R.fillStyle=S,R.fillRect(0,0,L*2,C*2),R.fillStyle=T,R.fillRect(0,0,L,C),R.fillRect(L,C,L,C),E.fillStyle=E.createPattern(D,"repeat"),E.fillRect(0,0,b,v),E.drawImage(h,0,0,h.width,h.height,0,0,b,v)}let y=null;if(s){let b,v;if(u.symmetric&&h.width<t&&h.height<t)b=h.width,v=h.height;else if(h=this.#t,a>t||o>t){const T=Math.min(t/a,t/o);b=Math.floor(a*T),v=Math.floor(o*T),this.#c||(h=this.#m(b,v))}const S=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});S.drawImage(h,0,0,h.width,h.height,0,0,b,v),y={width:b,height:v,data:S.getImageData(0,0,b,v).data}}return{canvas:g,width:d,height:p,imageData:y}}#m(t,e){const{width:s,height:a}=this.#t;let o=s,u=a,h=this.#t;for(;o>2*t||u>2*e;){const d=o,p=u;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(o,u);g.getContext("2d").drawImage(h,0,0,d,p,0,0,o,u),h=g.transferToImageBitmap()}return h}#g(){const[t,e]=this.parentDimensions,{width:s,height:a}=this,o=new In,u=Math.ceil(s*t*o.sx),h=Math.ceil(a*e*o.sy),d=this.#l;if(!d||d.width===u&&d.height===h)return;d.width=u,d.height=h;const p=this.#c?this.#t:this.#m(u,h),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,u,h)}#y(t){if(t){if(this.#c){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,s]=this.pageDimensions,a=Math.round(this.width*e*Cs.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Cs.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(a,o);return u.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),u.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,s){let a=null,o=!1;if(t instanceof Iv){const{data:{rect:S,rotation:T,id:_,structParent:L,popupRef:C},container:D,parent:{page:{pageNumber:R}},canvas:I}=t;let N,$;I?(delete t.canvas,{id:N,bitmap:$}=s.imageManager.getFromCanvas(D.id,I),I.remove()):(o=!0,t._hasNoCanvas=!0);const X=(await e._structTree.getAriaAttributes(`${Vd}${_}`))?.get("aria-label")||"";a=t={annotationType:At.STAMP,bitmapId:N,bitmap:$,pageIndex:R-1,rect:S.slice(0),rotation:T,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:L,popupRef:C}}const u=await super.deserialize(t,e,s),{rect:h,bitmap:d,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:b}=t;o?(s.addMissingCanvas(t.id,u),u.#o=!0):g&&s.imageManager.isValidId(g)?(u.#e=g,d&&(u.#t=d)):u.#i=p,u.#c=y;const[v,E]=u.pageDimensions;return u.width=(h[2]-h[0])/v,u.height=(h[3]-h[1])/E,u.annotationElementId=t.id||null,b&&(u.altTextData=b),u._initialData=a,u.#d=!!a,u}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:At.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=this.#b(s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,e===null)return s;e.stamps||=new Map;const u=this.#c?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:u,serialized:s}),s.bitmap=this.#y(!1);else if(this.#c){const h=e.stamps.get(this.#e);u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=this.#y(!1))}return s}#b(t){const{pageIndex:e,accessibilityData:{altText:s}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Kn{#t;#e=!1;#n=null;#i=null;#a=null;#s=new Map;#l=!1;#o=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#r;static _initialized=!1;static#p=new Map([we,of,_x,de,Xn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:a,accessibilityManager:o,annotationLayer:u,drawLayer:h,textLayer:d,viewport:p,l10n:g}){const y=[...Kn.#p.values()];if(!Kn._initialized){Kn._initialized=!0;for(const b of y)b.initialize(g,t)}t.registerEditorTypes(y),this.#r=t,this.pageIndex=e,this.div=s,this.#t=o,this.#n=u,this.viewport=p,this.#u=d,this.drawLayer=h,this._structTree=a,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===At.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#v(),t){case At.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of Kn.#p.values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}cleanUndoStack(t){this.#r.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of this.#s.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const s of e){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}this.#h=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of this.#s.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const o of a){const{id:u}=o.data;if(this.#r.isDeletedAnnotationElement(u))continue;let h=e.get(u);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(u),h&&(this.#r.addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const a of Kn.#p.values())s.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#r.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#r.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:s}=Oe.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),de.startHighlighting(this,this.#r.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#r.isDeletedAnnotationElement(e)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#g(){return Kn.#p.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#y(t){const e=this.#g;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#r.updateMode(t.mode);const{offsetX:s,offsetY:a}=this.#b(),o=this.getNextId(),u=this.#y({parent:this,id:o,x:s,y:a,uiManager:this.#r,isCentered:!0,...e});u&&this.add(u)}async deserialize(t){return await Kn.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,e,s={}){const a=this.getNextId(),o=this.#y({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:e,...s});return o&&this.add(o),o}#b(){const{x:t,y:e,width:s,height:a}=this.div.getBoundingClientRect(),o=Math.max(0,t),u=Math.max(0,e),h=Math.min(window.innerWidth,t+s),d=Math.min(window.innerHeight,e+a),p=(o+h)/2-t,g=(u+d)/2-e,[y,b]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#b(),!0,t)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:e}=Oe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#l||(this.#l=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const s=this.#r.getMode();if(s===At.STAMP||s===At.SIGNATURE){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#r.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:e}=Oe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const s=this.#r.getActive();this.#e=!s||s.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#r,!1,t);return}this.#r.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#r.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#g.startDrawing(this,this.#r,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#r.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#g.endDrawing(t)):null}findNewParent(t,e,s){const a=this.#r.findParent(e,s);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#v(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ji(this.div,t);for(const e of this.#r.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#v();const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Ji(this.div,{rotation:s}),e!==s)for(const a of this.#s.values())a.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#r.viewParameters.realScale}}class Le{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Dt(this,"_svgFactory",new so)}static#a(t,[e,s,a,o]){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*a}%`,u.height=`${100*o}%`}#s(){const t=Le._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){const s=Le._svgFactory.createElement("clipPath");t.append(s);const a=`clip_${e}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const o=Le._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[s,a]of Object.entries(e))a===null?t.removeAttribute(s):t.setAttribute(s,a)}draw(t,e=!1,s=!1){const a=Le.#i++,o=this.#s(),u=Le._svgFactory.createElement("defs");o.append(u);const h=Le._svgFactory.createElement("path");u.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(a,h);const p=s?this.#l(u,d):null,g=Le._svgFactory.createElement("use");return o.append(g),g.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const s=Le.#i++,a=this.#s(),o=Le._svgFactory.createElement("defs");a.append(o);const u=Le._svgFactory.createElement("path");o.append(u);const h=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const y=Le._svgFactory.createElement("mask");o.append(y),d=`mask_p${this.pageIndex}_${s}`,y.setAttribute("id",d),y.setAttribute("maskUnits","objectBoundingBox");const b=Le._svgFactory.createElement("rect");y.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Le._svgFactory.createElement("use");y.append(v),v.setAttribute("href",`#${h}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=Le._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${h}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return a.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(s,a),s}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:s,bbox:a,rootClass:o,path:u}=e,h=typeof t=="number"?this.#e.get(t):t;if(h){if(s&&this.#o(h,s),a&&Le.#a(h,a),o){const{classList:d}=h;for(const[p,g]of Object.entries(o))d.toggle(p,g)}if(u){const p=h.firstChild.firstChild;this.#o(p,u)}}}updateParent(t,e){if(e===this)return;const s=this.#e.get(t);s&&(e.#t.append(s),this.#e.delete(t),e.#e.set(t,s))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:xd};globalThis.pdfjsLib={AbortException:Si,AnnotationEditorLayer:Kn,AnnotationEditorParamsType:Nt,AnnotationEditorType:At,AnnotationEditorUIManager:Ei,AnnotationLayer:rf,AnnotationMode:Qn,AnnotationType:he,build:Lv,ColorPicker:pn,createValidAbsoluteUrl:Ud,DOMSVGFactory:so,DrawLayer:Le,FeatureTest:Oe,fetchData:Ba,getDocument:tf,getFilenameFromUrl:lv,getPdfFilenameFromUrl:cv,getUuid:qd,getXfaPageViewport:uv,GlobalWorkerOptions:Zi,ImageKind:Kr,InvalidPDFException:rc,isDataScheme:fo,isPdfFile:Sc,isValidExplicitDest:pv,MathClamp:je,noContextMenu:Mn,normalizeUnicode:rv,OPS:to,OutputScale:In,PasswordResponses:sv,PDFDataRangeTransport:nf,PDFDateString:Yd,PDFWorker:ka,PermissionFlag:iv,PixelsPerInch:Cs,RenderingCancelledException:Ac,ResponseException:eo,setLayerDimensions:Ji,shadow:Dt,SignatureExtractor:As,stopEvent:fe,SupportedImageMimeTypes:oc,TextLayer:no,TouchManager:go,updateUrlHash:Gd,Util:ft,VerbosityLevel:co,version:Mv,XfaLayer:sf};const xx=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Si,AnnotationEditorLayer:Kn,AnnotationEditorParamsType:Nt,AnnotationEditorType:At,AnnotationEditorUIManager:Ei,AnnotationLayer:rf,AnnotationMode:Qn,AnnotationType:he,ColorPicker:pn,DOMSVGFactory:so,DrawLayer:Le,FeatureTest:Oe,GlobalWorkerOptions:Zi,ImageKind:Kr,InvalidPDFException:rc,MathClamp:je,OPS:to,OutputScale:In,PDFDataRangeTransport:nf,PDFDateString:Yd,PDFWorker:ka,PasswordResponses:sv,PermissionFlag:iv,PixelsPerInch:Cs,RenderingCancelledException:Ac,ResponseException:eo,SignatureExtractor:As,SupportedImageMimeTypes:oc,TextLayer:no,TouchManager:go,Util:ft,VerbosityLevel:co,XfaLayer:sf,build:Lv,createValidAbsoluteUrl:Ud,fetchData:Ba,getDocument:tf,getFilenameFromUrl:lv,getPdfFilenameFromUrl:cv,getUuid:qd,getXfaPageViewport:uv,isDataScheme:fo,isPdfFile:Sc,isValidExplicitDest:pv,noContextMenu:Mn,normalizeUnicode:rv,setLayerDimensions:Ji,shadow:Dt,stopEvent:fe,updateUrlHash:Gd,version:Mv},Symbol.toStringTag,{value:"Module"})),Tx=["onCopy","onCut","onPaste"],Cx=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Rx=["onFocus","onBlur"],Mx=["onInput","onInvalid","onReset","onSubmit"],Lx=["onLoad","onError"],Dx=["onKeyDown","onKeyPress","onKeyUp"],Ox=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Nx=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],kx=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Px=["onSelect"],Ix=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],zx=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Bx=["onScroll"],Hx=["onWheel"],Fx=["onAnimationStart","onAnimationEnd","onAnimationIteration"],jx=["onTransitionEnd"],Ux=["onToggle"],Gx=["onChange"],qx=[...Tx,...Cx,...Rx,...Mx,...Lx,...Dx,...Ox,...Nx,...kx,...Px,...Ix,...zx,...Bx,...Hx,...Fx,...jx,...Gx,...Ux];function Fv(l,t){const e={};for(const s of qx){const a=l[s];a&&(t?e[s]=o=>a(o,t(s)):e[s]=a)}return e}function vo(l){let t=!1;return{promise:new Promise((s,a)=>{l.then(o=>!t&&s(o)).catch(o=>!t&&a(o))}),cancel(){t=!0}}}function jv(l){var t,e,s="";if(typeof l=="string"||typeof l=="number")s+=l;else if(typeof l=="object")if(Array.isArray(l)){var a=l.length;for(t=0;t<a;t++)l[t]&&(e=jv(l[t]))&&(s&&(s+=" "),s+=e)}else for(e in l)l[e]&&(s&&(s+=" "),s+=e);return s}function _c(){for(var l,t,e=0,s="",a=arguments.length;e<a;e++)(l=arguments[e])&&(t=jv(l))&&(s&&(s+=" "),s+=t);return s}var Vx="Invariant failed";function Qt(l,t){if(!l)throw new Error(Vx)}var ld,eb;function Yx(){if(eb)return ld;eb=1;var l=function(){};return ld=l,ld}var Xx=Yx();const Ue=Ld(Xx);var nb=Object.prototype.hasOwnProperty;function ib(l,t,e){for(e of l.keys())if(Ta(e,t))return e}function Ta(l,t){var e,s,a;if(l===t)return!0;if(l&&t&&(e=l.constructor)===t.constructor){if(e===Date)return l.getTime()===t.getTime();if(e===RegExp)return l.toString()===t.toString();if(e===Array){if((s=l.length)===t.length)for(;s--&&Ta(l[s],t[s]););return s===-1}if(e===Set){if(l.size!==t.size)return!1;for(s of l)if(a=s,a&&typeof a=="object"&&(a=ib(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(l.size!==t.size)return!1;for(s of l)if(a=s[0],a&&typeof a=="object"&&(a=ib(t,a),!a)||!Ta(s[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)l=new Uint8Array(l),t=new Uint8Array(t);else if(e===DataView){if((s=l.byteLength)===t.byteLength)for(;s--&&l.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(l)){if((s=l.byteLength)===t.byteLength)for(;s--&&l[s]===t[s];);return s===-1}if(!e||typeof l=="object"){s=0;for(e in l)if(nb.call(l,e)&&++s&&!nb.call(t,e)||!(e in t)||!Ta(l[e],t[e]))return!1;return Object.keys(t).length===s}}return l!==l&&t!==t}const Uv=P.createContext(null);function Ca({children:l,type:t}){return Y.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:l})}const $x="noopener noreferrer nofollow";class Kx{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Qt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Qt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Qt(this.pdfDocument),Qt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Qt(Array.isArray(e));const s=e[0];new Promise(a=>{Qt(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{a(o)}).catch(()=>{Qt(!1)}):typeof s=="number"?a(s):Qt(!1)}).then(a=>{const o=a+1;Qt(this.pdfViewer),Qt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Qt(this.pdfViewer),Qt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||$x,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const sb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},xc=typeof window<"u",Gv=xc&&window.location.protocol==="file:";function Wx(l){return typeof l<"u"}function vs(l){return Wx(l)&&l!==null}function Qx(l){return typeof l=="string"}function Zx(l){return l instanceof ArrayBuffer}function Jx(l){return Qt(xc),l instanceof Blob}function Rd(l){return Qx(l)&&/^data:/.test(l)}function ab(l){Qt(Rd(l));const[t="",e=""]=l.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function tT(){return xc&&window.devicePixelRatio||1}const qv="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function rb(){Ue(!Gv,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${qv}`)}function eT(){Ue(!Gv,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${qv}`)}function Ms(l){l?.cancel&&l.cancel()}function Md(l,t){return Object.defineProperty(l,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(l,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(l,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(l,"originalHeight",{get(){return this.view[3]},configurable:!0}),l}function nT(l){return l.name==="RenderingCancelledException"}function iT(l){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:o}=a.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(l)})}function sT(l,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return l}}function Pa(){return P.useReducer(sT,{value:void 0,error:void 0})}var ob=function(l,t){var e={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(e[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(l);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(l,s[a])&&(e[s[a]]=l[s[a]]);return e};const{PDFDataRangeTransport:aT}=xx,rT=(l,t)=>{switch(t){case sb.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");l(e);break}case sb.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");l(e);break}}};function lb(l){return typeof l=="object"&&l!==null&&("data"in l||"range"in l||"url"in l)}const oT=P.forwardRef(function(t,e){var{children:s,className:a,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:h,file:d,inputRef:p,imageResourcesPath:g,loading:y="Loading PDF",noData:b="No PDF file specified.",onItemClick:v,onLoadError:E,onLoadProgress:S,onLoadSuccess:T,onPassword:_=rT,onSourceError:L,onSourceSuccess:C,options:D,renderMode:R,rotate:I,scale:N}=t,$=ob(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[X,it]=Pa(),{value:nt,error:Q}=X,[et,rt]=Pa(),{value:st,error:O}=et,H=P.useRef(new Kx),at=P.useRef([]),Z=P.useRef(void 0),x=P.useRef(void 0);d&&d!==Z.current&&lb(d)&&(Ue(!Ta(d,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=d),D&&D!==x.current&&(Ue(!Ta(D,x.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),x.current=D);const j=P.useRef({scrollPageIntoView:Tt=>{const{dest:Et,pageNumber:Ot,pageIndex:It=Ot-1}=Tt;if(v){v({dest:Et,pageIndex:It,pageNumber:Ot});return}const Vt=at.current[It];if(Vt){Vt.scrollIntoView();return}Ue(!1,`An internal link leading to page ${Ot} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(e,()=>({linkService:H,pages:at,viewer:j}),[]);function U(){C&&C()}function V(){Q&&(Ue(!1,Q.toString()),L&&L(Q))}function tt(){it({type:"RESET"})}P.useEffect(tt,[d,it]);const lt=P.useCallback(async()=>{if(!d)return null;if(typeof d=="string")return Rd(d)?{data:ab(d)}:(rb(),{url:d});if(d instanceof aT)return{range:d};if(Zx(d))return{data:d};if(xc&&Jx(d))return{data:await iT(d)};if(Qt(typeof d=="object"),Qt(lb(d)),"url"in d&&typeof d.url=="string"){if(Rd(d.url)){const{url:Tt}=d,Et=ob(d,["url"]),Ot=ab(Tt);return Object.assign({data:Ot},Et)}rb()}return d},[d]);P.useEffect(()=>{const Tt=vo(lt());return Tt.promise.then(Et=>{it({type:"RESOLVE",value:Et})}).catch(Et=>{it({type:"REJECT",error:Et})}),()=>{Ms(Tt)}},[lt,it]),P.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){V();return}U()}},[nt]);function ot(){st&&(T&&T(st),at.current=new Array(st.numPages),H.current.setDocument(st))}function ht(){O&&(Ue(!1,O.toString()),E&&E(O))}P.useEffect(function(){rt({type:"RESET"})},[rt,nt]),P.useEffect(function(){if(!nt)return;const Et=D?Object.assign(Object.assign({},nt),D):nt,Ot=tf(Et);S&&(Ot.onProgress=S),_&&(Ot.onPassword=_);const It=Ot,Vt=It.promise.then(nn=>{rt({type:"RESOLVE",value:nn})}).catch(nn=>{It.destroyed||rt({type:"REJECT",error:nn})});return()=>{Vt.finally(()=>It.destroy())}},[D,rt,nt]),P.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){ht();return}ot()}},[st]),P.useEffect(function(){H.current.setViewer(j.current),H.current.setExternalLinkRel(u),H.current.setExternalLinkTarget(h)},[u,h]);const bt=P.useCallback((Tt,Et)=>{at.current[Tt]=Et},[]),Pt=P.useCallback(Tt=>{delete at.current[Tt]},[]),_t=P.useMemo(()=>({imageResourcesPath:g,linkService:H.current,onItemClick:v,pdf:st,registerPage:bt,renderMode:R,rotate:I,scale:N,unregisterPage:Pt}),[g,v,st,bt,R,I,N,Pt]),zt=P.useMemo(()=>Fv($,()=>st),[$,st]);function Ht(){return Y.jsx(Uv.Provider,{value:_t,children:s})}function qt(){return d?st==null?Y.jsx(Ca,{type:"loading",children:typeof y=="function"?y():y}):st===!1?Y.jsx(Ca,{type:"error",children:typeof o=="function"?o():o}):Ht():Y.jsx(Ca,{type:"no-data",children:typeof b=="function"?b():b})}return Y.jsx("div",Object.assign({className:_c("react-pdf__Document",a),ref:p},zt,{children:qt()}))});function Vv(){return P.useContext(Uv)}function Yv(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];var e=l.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){for(var u=0,h=e;u<h.length;u++){var d=h[u];typeof d=="function"?d(o):d&&(d.current=o)}}}const Xv=P.createContext(null),$v={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},lT=/^H(\d+)$/;function cT(l){return l in $v}function Tc(l){return"children"in l}function Kv(l){return Tc(l)?l.children.length===1&&0 in l.children&&"id"in l.children[0]:!1}function uT(l){const t={};if(Tc(l)){const{role:e}=l,s=e.match(lT);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(cT(e)){const a=$v[e];a&&(t.role=a)}}return t}function Wv(l){const t={};if(Tc(l)){if(l.alt!==void 0&&(t["aria-label"]=l.alt),l.lang!==void 0&&(t.lang=l.lang),Kv(l)){const[e]=l.children;if(e){const s=Wv(e);return Object.assign(Object.assign({},t),s)}}}else"id"in l&&(t["aria-owns"]=l.id);return t}function hT(l){return l?Object.assign(Object.assign({},uT(l)),Wv(l)):null}function Qv({className:l,node:t}){const e=P.useMemo(()=>hT(t),[t]),s=P.useMemo(()=>!Tc(t)||Kv(t)?null:t.children.map((a,o)=>Y.jsx(Qv,{node:a},o)),[t]);return Y.jsx("span",Object.assign({className:l},e,{children:s}))}function Cc(){return P.useContext(Xv)}function dT(){const l=Cc();Qt(l);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=l,[s,a]=Pa(),{value:o,error:u}=s,{customTextRenderer:h,page:d}=l;function p(){o&&e&&e(o)}function g(){u&&(Ue(!1,u.toString()),t&&t(u))}return P.useEffect(function(){a({type:"RESET"})},[a,d]),P.useEffect(function(){if(h||!d)return;const b=vo(d.getStructTree()),v=b;return b.promise.then(E=>{a({type:"RESOLVE",value:E})}).catch(E=>{a({type:"REJECT",error:E})}),()=>Ms(v)},[h,d,a]),P.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?Y.jsx(Qv,{className:"react-pdf__Page__structTree structTree",node:o}):null}const cb=Qn;function fT(l){const t=Cc();Qt(t);const e=Object.assign(Object.assign({},t),l),{_className:s,canvasBackground:a,devicePixelRatio:o=tT(),onRenderError:u,onRenderSuccess:h,page:d,renderForms:p,renderTextLayer:g,rotate:y,scale:b}=e,{canvasRef:v}=l;Qt(d);const E=P.useRef(null);function S(){d&&h&&h(Md(d,b))}function T(D){nT(D)||(Ue(!1,D.toString()),u&&u(D))}const _=P.useMemo(()=>d.getViewport({scale:b*o,rotation:y}),[o,d,y,b]),L=P.useMemo(()=>d.getViewport({scale:b,rotation:y}),[d,y,b]);P.useEffect(function(){if(!d)return;d.cleanup();const{current:R}=E;if(!R)return;R.width=_.width,R.height=_.height,R.style.width=`${Math.floor(L.width)}px`,R.style.height=`${Math.floor(L.height)}px`,R.style.visibility="hidden";const I={annotationMode:p?cb.ENABLE_FORMS:cb.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:_};a&&(I.background=a);const N=d.render(I),$=N;return N.promise.then(()=>{R.style.visibility="",S()}).catch(T),()=>Ms($)},[a,d,p,_,L]);const C=P.useCallback(()=>{const{current:D}=E;D&&(D.width=0,D.height=0)},[]);return P.useEffect(()=>C,[C]),Y.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:Yv(v,E),style:{display:"block",userSelect:"none"},children:g?Y.jsx(dT,{}):null})}function pT(l){return"str"in l}function gT(){const l=Cc();Qt(l);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:a,onRenderTextLayerSuccess:o,page:u,pageIndex:h,pageNumber:d,rotate:p,scale:g}=l;Qt(u);const[y,b]=Pa(),{value:v,error:E}=y,S=P.useRef(null);Ue(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){v&&s&&s(v)}function _(){E&&(Ue(!1,E.toString()),e&&e(E))}P.useEffect(function(){b({type:"RESET"})},[u,b]),P.useEffect(function(){if(!u)return;const $=vo(u.getTextContent()),X=$;return $.promise.then(it=>{b({type:"RESOLVE",value:it})}).catch(it=>{b({type:"REJECT",error:it})}),()=>Ms(X)},[u,b]),P.useEffect(()=>{if(v!==void 0){if(v===!1){_();return}T()}},[v]);const L=P.useCallback(()=>{o&&o()},[o]),C=P.useCallback(N=>{Ue(!1,N.toString()),a&&a(N)},[a]);function D(){const N=S.current;N&&N.classList.add("selecting")}function R(){const N=S.current;N&&N.classList.remove("selecting")}const I=P.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);return P.useLayoutEffect(function(){if(!u||!v)return;const{current:$}=S;if(!$)return;$.innerHTML="";const X=u.streamTextContent({includeMarkedContent:!0}),it={container:$,textContentSource:X,viewport:I},nt=new no(it),Q=nt;return nt.render().then(()=>{const et=document.createElement("div");et.className="endOfContent",$.append(et);const rt=$.querySelectorAll('[role="presentation"]');if(t){let st=0;v.items.forEach((O,H)=>{if(!pT(O))return;const at=rt[st];if(!at)return;const Z=t(Object.assign({pageIndex:h,pageNumber:d,itemIndex:H},O));at.innerHTML=Z,st+=O.str&&O.hasEOL?2:1})}L()}).catch(C),()=>Ms(Q)},[t,C,L,u,h,d,v,I]),Y.jsx("div",{className:_c("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:D,ref:S})}function mT(){const l=Vv(),t=Cc();Qt(t);const e=Object.assign(Object.assign({},l),t),{imageResourcesPath:s,linkService:a,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:p,pdf:g,renderForms:y,rotate:b,scale:v=1}=e;Qt(g),Qt(p),Qt(a);const[E,S]=Pa(),{value:T,error:_}=E,L=P.useRef(null);Ue(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){T&&u&&u(T)}function D(){_&&(Ue(!1,_.toString()),o&&o(_))}P.useEffect(function(){S({type:"RESET"})},[S,p]),P.useEffect(function(){if(!p)return;const X=vo(p.getAnnotations()),it=X;return X.promise.then(nt=>{S({type:"RESOLVE",value:nt})}).catch(nt=>{S({type:"REJECT",error:nt})}),()=>{Ms(it)}},[S,p]),P.useEffect(()=>{if(T!==void 0){if(T===!1){D();return}C()}},[T]);function R(){d&&d()}function I($){Ue(!1,`${$}`),h&&h($)}const N=P.useMemo(()=>p.getViewport({scale:v,rotation:b}),[p,b,v]);return P.useEffect(function(){if(!g||!p||!a||!T)return;const{current:X}=L;if(!X)return;const it=N.clone({dontFlip:!0}),nt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:p,structTreeLayer:null,viewport:it},Q={annotations:T,annotationStorage:g.annotationStorage,div:X,imageResourcesPath:s,linkService:a,page:p,renderForms:y,viewport:it};X.innerHTML="";try{new rf(nt).render(Q),R()}catch(et){I(et)}return()=>{}},[T,s,a,p,g,y,N]),Y.jsx("div",{className:_c("react-pdf__Page__annotations","annotationLayer"),ref:L})}var yT=function(l,t){var e={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(e[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(l);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(l,s[a])&&(e[s[a]]=l[s[a]]);return e};const ub=1;function hb(l){const t=Vv(),e=Object.assign(Object.assign({},t),l),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:o,canvasRef:u,children:h,className:d,customRenderer:p,customTextRenderer:g,devicePixelRatio:y,error:b="Failed to load the page.",height:v,inputRef:E,loading:S="Loading page",noData:T="No page specified.",onGetAnnotationsError:_,onGetAnnotationsSuccess:L,onGetStructTreeError:C,onGetStructTreeSuccess:D,onGetTextError:R,onGetTextSuccess:I,onLoadError:N,onLoadSuccess:$,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:it,onRenderError:nt,onRenderSuccess:Q,onRenderTextLayerError:et,onRenderTextLayerSuccess:rt,pageIndex:st,pageNumber:O,pdf:H,registerPage:at,renderAnnotationLayer:Z=!0,renderForms:x=!1,renderMode:j="canvas",renderTextLayer:U=!0,rotate:V,scale:tt=ub,unregisterPage:lt,width:ot}=e,ht=yT(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[bt,Pt]=Pa(),{value:_t,error:zt}=bt,Ht=P.useRef(null);Qt(H);const qt=vs(O)?O-1:st??null,Tt=O??(vs(st)?st+1:null),Et=V??(_t?_t.rotate:null),Ot=P.useMemo(()=>{if(!_t)return null;let ge=1;const sn=tt??ub;if(ot||v){const xe=_t.getViewport({scale:1,rotation:Et});ot?ge=ot/xe.width:v&&(ge=v/xe.height)}return sn*ge},[v,_t,Et,tt,ot]);P.useEffect(function(){return()=>{vs(qt)&&a&&lt&&lt(qt)}},[a,H,qt,lt]);function It(){if($){if(!_t||!Ot)return;$(Md(_t,Ot))}if(a&&at){if(!vs(qt)||!Ht.current)return;at(qt,Ht.current)}}function Vt(){zt&&(Ue(!1,zt.toString()),N&&N(zt))}P.useEffect(function(){Pt({type:"RESET"})},[Pt,H,qt]),P.useEffect(function(){if(!H||!Tt)return;const sn=vo(H.getPage(Tt)),xe=sn;return sn.promise.then(Fa=>{Pt({type:"RESOLVE",value:Fa})}).catch(Fa=>{Pt({type:"REJECT",error:Fa})}),()=>Ms(xe)},[Pt,H,Tt]),P.useEffect(()=>{if(_t!==void 0){if(_t===!1){Vt();return}It()}},[_t,Ot]);const nn=P.useMemo(()=>_t&&vs(qt)&&Tt&&vs(Et)&&vs(Ot)?{_className:s,canvasBackground:o,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:_,onGetAnnotationsSuccess:L,onGetStructTreeError:C,onGetStructTreeSuccess:D,onGetTextError:R,onGetTextSuccess:I,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:it,onRenderError:nt,onRenderSuccess:Q,onRenderTextLayerError:et,onRenderTextLayerSuccess:rt,page:_t,pageIndex:qt,pageNumber:Tt,renderForms:x,renderTextLayer:U,rotate:Et,scale:Ot}:null,[s,o,g,y,_,L,C,D,R,I,X,it,nt,Q,et,rt,_t,qt,Tt,x,U,Et,Ot]),_i=P.useMemo(()=>Fv(ht,()=>_t&&(Ot?Md(_t,Ot):void 0)),[ht,_t,Ot]),_e=`${qt}@${Ot}/${Et}`;function mn(){switch(j){case"custom":return Qt(p),Y.jsx(p,{},`${_e}_custom`);case"none":return null;case"canvas":default:return Y.jsx(fT,{canvasRef:u},`${_e}_canvas`)}}function Jn(){return U?Y.jsx(gT,{},`${_e}_text`):null}function Ha(){return Z?Y.jsx(mT,{},`${_e}_annotations`):null}function Rc(){return Y.jsxs(Xv.Provider,{value:nn,children:[mn(),Jn(),Ha(),h]})}function ts(){return Tt?H===null||_t===void 0||_t===null?Y.jsx(Ca,{type:"loading",children:typeof S=="function"?S():S}):H===!1||_t===!1?Y.jsx(Ca,{type:"error",children:typeof b=="function"?b():b}):Rc():Y.jsx(Ca,{type:"no-data",children:typeof T=="function"?T():T})}return Y.jsx("div",Object.assign({className:_c(s,d),"data-page-number":Tt,ref:Yv(E,Ht),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ot}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},_i,{children:ts()}))}eT();Zi.workerSrc="pdf.worker.mjs";const bT="/vitrine_criativa/assets/pdf.worker.min-BFAMBS4k.mjs";function vT({pdfFile:l,setShowModal:t}){Zi.workerSrc=bT;const[e,s]=P.useState(null),[a,o]=P.useState(1),[u,h]=P.useState(!1),[d,p]=P.useState("next");function g({numPages:b}){s(b),o(1)}function y(b,v){p(v),h(!0),setTimeout(()=>{o(b),h(!1)},250)}return Y.jsx(Iw,{onClick:()=>t(!1),children:Y.jsxs(zw,{onClick:b=>b.stopPropagation(),children:[Y.jsx(Bw,{onClick:()=>t(!1)}),l&&Y.jsxs(Y.Fragment,{children:[Y.jsx(Hw,{children:Y.jsx(oT,{file:l,onLoadSuccess:g,children:Y.jsxs(Fw,{children:[Y.jsx(Ny,{className:`left ${d==="prev"&&u?"flip-left":""}`,children:a>1&&Y.jsx(hb,{pageNumber:a-1})}),Y.jsx(Ny,{className:`right ${d==="next"&&u?"flip-right":""}`,children:Y.jsx(hb,{pageNumber:a})})]})})}),Y.jsxs(jw,{children:[Y.jsx("button",{onClick:()=>y(Math.max(a-2,1),"prev"),disabled:a<=1||u,children:"Anterior"}),Y.jsxs(Uw,{children:["Pgina ",a," de ",e]}),Y.jsx("button",{onClick:()=>y(Math.min(a+2,e),"next"),disabled:a>=e||u,children:"Prxima"})]})]})]})})}function AT(){const{id:l}=t1(),{state:t}=wi(),[e,s]=P.useState(!1),a=`/vitrine_criativa/livros/${l}.pdf`;return Y.jsxs(ww,{style:{textAlign:"center",padding:"20px"},children:[e&&Y.jsx(vT,{pdfFile:a,setShowModal:s}),Y.jsx("h2",{children:Y.jsxs("span",{children:[t?.titulo," "]})}),Y.jsxs(_w,{children:[Y.jsxs(xw,{children:[Y.jsx("img",{src:t?.img,alt:""}),Y.jsxs("h2",{children:[Y.jsx("span",{children:"Autor:"})," ",t?.autor]})]}),Y.jsxs(Tw,{children:[Y.jsxs("p",{children:[Y.jsx("span",{children:"Descrio : "}),t?.descricao]}),Y.jsx("button",{onClick:()=>s(!0),children:"Abrir Livro"})]})]})]})}const ST=te.div`
  position: fixed;
  min-height: 80px;
  top: 0;
  z-index: 99;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
  padding-right: 50px;
  background-color: ${l=>l.$changeBackground?"#000":"transparent"};
  transition: background-color 0.5s ease-in-out;

  @media (max-width: 768px) {
    width: 100%;
    padding: 15px;
  }
`,ET=te.ul`
  list-style: none;
  display: flex;
  gap: 50px;
  @media (max-width: 768px) {
    gap: 20px;
    justify-content: flex-start;
  
  }

`,va=te.li`
  font-weight: 600;
  cursor: pointer;
  font-size: 25px;
  position: relative;
  a {
    color: #fff;
    text-decoration: none;
  }
  &::after {
    content: '';
    height: 3px;
    width: ${l=>l.$isActive?"100%":"0"};
    background-color: #4d7cfe;
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    transition: width 0.4s ease-in-out;
  }
  &:hover::after {
    width: 100%;
  }

   @media (max-width: 768px) {
    font-size: 15px;
    font-weight: 400;
   }
`;function wT(){const[l,t]=P.useState(!1),{pathname:e}=wi();return window.onscroll=()=>{!l&&window.pageYOffset>80&&t(!0),l&&window.pageYOffset<=80&&t(!1)},Y.jsx(ST,{$changeBackground:l,children:Y.jsxs(ET,{children:[Y.jsx(va,{$isActive:e==="/",children:Y.jsx(Ki,{to:"/",children:"Home"})}),Y.jsx(va,{$isActive:e.includes("/poesias"),children:Y.jsx(Ki,{to:"/poesias",children:"Poesias"})}),Y.jsx(va,{$isActive:e.includes("/livros"),children:Y.jsx(Ki,{to:"/livros",children:"Livros"})}),Y.jsx(va,{$isActive:e.includes("/desenhos"),children:Y.jsx(Ki,{to:"/desenhos",children:"Desenhos"})}),Y.jsx(va,{$isActive:e.includes("/games"),children:Y.jsx(Ki,{to:"/games",children:"Games"})}),Y.jsx(va,{$isActive:e.includes("/creditos"),children:Y.jsx(Ki,{to:"/creditos",children:"Creditos"})})]})})}function _T(){return Y.jsxs(Y.Fragment,{children:[Y.jsx(wT,{}),Y.jsx(p1,{})]})}function xT(){return Y.jsxs(Y.Fragment,{children:[Y.jsx(K1,{}),Y.jsx(m1,{children:Y.jsxs(gi,{element:Y.jsx(_T,{}),children:[Y.jsx(gi,{path:"/",element:Y.jsx(ZE,{})}),Y.jsx(gi,{path:"/poesias",element:Y.jsx(aw,{})}),Y.jsx(gi,{path:"/livros",element:Y.jsx(mw,{})}),Y.jsx(gi,{path:"/desenhos",element:Y.jsx(bw,{})}),Y.jsx(gi,{path:"/games",element:Y.jsx(Aw,{})}),Y.jsx(gi,{path:"/creditos",element:Y.jsx(Ew,{})}),Y.jsx(gi,{path:"/view/:id",element:Y.jsx(AT,{})})]})})]})}const TT=WE`
  
    *{
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        outline: none;
        text-decoration: none;
        font-family: "Montserrat", sans-serif;
        color: #fff;
    }
    body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'Playfair Display', serif;
        color: white;
        overflow-x: hidden;  
    }
    #galaxy {

        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: black;
        z-index: -1;

        }

`;ES.createRoot(document.getElementById("root")).render(Y.jsxs(P.StrictMode,{children:[Y.jsx(H1,{children:Y.jsx(xT,{})}),Y.jsx(TT,{})]}));
