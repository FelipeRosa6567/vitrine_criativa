var c0=l=>{throw TypeError(l)};var qh=(l,t,e)=>t.has(l)||c0("Cannot "+e);var ne=(l,t,e)=>(qh(l,t,"read from private field"),e?e.call(l):t.get(l)),Gn=(l,t,e)=>t.has(l)?c0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),Je=(l,t,e,s)=>(qh(l,t,"write to private field"),s?s.call(l,e):t.set(l,e),e),qn=(l,t,e)=>(qh(l,t,"access private method"),e);var u0=(l,t,e,s)=>({set _(a){Je(l,t,a,e)},get _(){return ne(l,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function zd(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Vh={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function _1(){if(h0)return Fr;h0=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:l,type:s,key:u,ref:a!==void 0?a:null,props:o}}return Fr.Fragment=t,Fr.jsx=e,Fr.jsxs=e,Fr}var d0;function w1(){return d0||(d0=1,Vh.exports=_1()),Vh.exports}var F=w1(),Yh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function E1(){if(f0)return wt;f0=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function T(x,U,G){this.props=x,this.context=U,this.refs=_,this.updater=G||v}T.prototype.isReactComponent={},T.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},T.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function w(){}w.prototype=T.prototype;function O(x,U,G){this.props=x,this.context=U,this.refs=_,this.updater=G||v}var C=O.prototype=new w;C.constructor=O,S(C,T.prototype),C.isPureReactComponent=!0;var L=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function N(x,U,G,Y,tt,lt){return G=lt.ref,{$$typeof:l,type:x,key:U,ref:G!==void 0?G:null,props:lt}}function $(x,U){return N(x.type,U,void 0,void 0,void 0,x.props)}function X(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function it(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(G){return U[G]})}var nt=/\/+/g;function Q(x,U){return typeof x=="object"&&x!==null&&x.key!=null?it(""+x.key):U.toString(36)}function et(){}function rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(et,et):(x.status="pending",x.then(function(U){x.status==="pending"&&(x.status="fulfilled",x.value=U)},function(U){x.status==="pending"&&(x.status="rejected",x.reason=U)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function st(x,U,G,Y,tt){var lt=typeof x;(lt==="undefined"||lt==="boolean")&&(x=null);var ot=!1;if(x===null)ot=!0;else switch(lt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(x.$$typeof){case l:case t:ot=!0;break;case g:return ot=x._init,st(ot(x._payload),U,G,Y,tt)}}if(ot)return tt=tt(x),ot=Y===""?"."+Q(x,0):Y,L(tt)?(G="",ot!=null&&(G=ot.replace(nt,"$&/")+"/"),st(tt,U,G,"",function(Pt){return Pt})):tt!=null&&(X(tt)&&(tt=$(tt,G+(tt.key==null||x&&x.key===tt.key?"":(""+tt.key).replace(nt,"$&/")+"/")+ot)),U.push(tt)),1;ot=0;var ht=Y===""?".":Y+":";if(L(x))for(var bt=0;bt<x.length;bt++)Y=x[bt],lt=ht+Q(Y,bt),ot+=st(Y,U,G,lt,tt);else if(bt=b(x),typeof bt=="function")for(x=bt.call(x),bt=0;!(Y=x.next()).done;)Y=Y.value,lt=ht+Q(Y,bt++),ot+=st(Y,U,G,lt,tt);else if(lt==="object"){if(typeof x.then=="function")return st(rt(x),U,G,Y,tt);throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ot}function D(x,U,G){if(x==null)return x;var Y=[],tt=0;return st(x,Y,"","",function(lt){return U.call(G,lt,tt++)}),Y}function B(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(G){(x._status===0||x._status===-1)&&(x._status=1,x._result=G)},function(G){(x._status===0||x._status===-1)&&(x._status=2,x._result=G)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var at=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Z(){}return wt.Children={map:D,forEach:function(x,U,G){D(x,function(){U.apply(this,arguments)},G)},count:function(x){var U=0;return D(x,function(){U++}),U},toArray:function(x){return D(x,function(U){return U})||[]},only:function(x){if(!X(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},wt.Component=T,wt.Fragment=e,wt.Profiler=a,wt.PureComponent=O,wt.StrictMode=s,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,wt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},wt.cache=function(x){return function(){return x.apply(null,arguments)}},wt.cloneElement=function(x,U,G){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Y=S({},x.props),tt=x.key,lt=void 0;if(U!=null)for(ot in U.ref!==void 0&&(lt=void 0),U.key!==void 0&&(tt=""+U.key),U)!j.call(U,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&U.ref===void 0||(Y[ot]=U[ot]);var ot=arguments.length-2;if(ot===1)Y.children=G;else if(1<ot){for(var ht=Array(ot),bt=0;bt<ot;bt++)ht[bt]=arguments[bt+2];Y.children=ht}return N(x.type,tt,void 0,void 0,lt,Y)},wt.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},wt.createElement=function(x,U,G){var Y,tt={},lt=null;if(U!=null)for(Y in U.key!==void 0&&(lt=""+U.key),U)j.call(U,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(tt[Y]=U[Y]);var ot=arguments.length-2;if(ot===1)tt.children=G;else if(1<ot){for(var ht=Array(ot),bt=0;bt<ot;bt++)ht[bt]=arguments[bt+2];tt.children=ht}if(x&&x.defaultProps)for(Y in ot=x.defaultProps,ot)tt[Y]===void 0&&(tt[Y]=ot[Y]);return N(x,lt,void 0,void 0,null,tt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(x){return{$$typeof:h,render:x}},wt.isValidElement=X,wt.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:B}},wt.memo=function(x,U){return{$$typeof:p,type:x,compare:U===void 0?null:U}},wt.startTransition=function(x){var U=R.T,G={};R.T=G;try{var Y=x(),tt=R.S;tt!==null&&tt(G,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Z,at)}catch(lt){at(lt)}finally{R.T=U}},wt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},wt.use=function(x){return R.H.use(x)},wt.useActionState=function(x,U,G){return R.H.useActionState(x,U,G)},wt.useCallback=function(x,U){return R.H.useCallback(x,U)},wt.useContext=function(x){return R.H.useContext(x)},wt.useDebugValue=function(){},wt.useDeferredValue=function(x,U){return R.H.useDeferredValue(x,U)},wt.useEffect=function(x,U,G){var Y=R.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(x,U)},wt.useId=function(){return R.H.useId()},wt.useImperativeHandle=function(x,U,G){return R.H.useImperativeHandle(x,U,G)},wt.useInsertionEffect=function(x,U){return R.H.useInsertionEffect(x,U)},wt.useLayoutEffect=function(x,U){return R.H.useLayoutEffect(x,U)},wt.useMemo=function(x,U){return R.H.useMemo(x,U)},wt.useOptimistic=function(x,U){return R.H.useOptimistic(x,U)},wt.useReducer=function(x,U,G){return R.H.useReducer(x,U,G)},wt.useRef=function(x){return R.H.useRef(x)},wt.useState=function(x){return R.H.useState(x)},wt.useSyncExternalStore=function(x,U,G){return R.H.useSyncExternalStore(x,U,G)},wt.useTransition=function(){return R.H.useTransition()},wt.version="19.1.1",wt}var p0;function fc(){return p0||(p0=1,Yh.exports=E1()),Yh.exports}var P=fc();const Ge=zd(P);var Xh={exports:{}},Ir={},$h={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function x1(){return g0||(g0=1,function(l){function t(D,B){var at=D.length;D.push(B);t:for(;0<at;){var Z=at-1>>>1,x=D[Z];if(0<a(x,B))D[Z]=B,D[at]=x,at=Z;else break t}}function e(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var B=D[0],at=D.pop();if(at!==B){D[0]=at;t:for(var Z=0,x=D.length,U=x>>>1;Z<U;){var G=2*(Z+1)-1,Y=D[G],tt=G+1,lt=D[tt];if(0>a(Y,at))tt<x&&0>a(lt,Y)?(D[Z]=lt,D[tt]=at,Z=tt):(D[Z]=Y,D[G]=at,Z=G);else if(tt<x&&0>a(lt,at))D[Z]=lt,D[tt]=at,Z=tt;else break t}}return B}function a(D,B){var at=D.sortIndex-B.sortIndex;return at!==0?at:D.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();l.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,y=null,b=3,v=!1,S=!1,_=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function L(D){for(var B=e(p);B!==null;){if(B.callback===null)s(p);else if(B.startTime<=D)s(p),B.sortIndex=B.expirationTime,t(d,B);else break;B=e(p)}}function R(D){if(_=!1,L(D),!S)if(e(d)!==null)S=!0,j||(j=!0,Q());else{var B=e(p);B!==null&&st(R,B.startTime-D)}}var j=!1,N=-1,$=5,X=-1;function it(){return T?!0:!(l.unstable_now()-X<$)}function nt(){if(T=!1,j){var D=l.unstable_now();X=D;var B=!0;try{t:{S=!1,_&&(_=!1,O(N),N=-1),v=!0;var at=b;try{e:{for(L(D),y=e(d);y!==null&&!(y.expirationTime>D&&it());){var Z=y.callback;if(typeof Z=="function"){y.callback=null,b=y.priorityLevel;var x=Z(y.expirationTime<=D);if(D=l.unstable_now(),typeof x=="function"){y.callback=x,L(D),B=!0;break e}y===e(d)&&s(d),L(D)}else s(d);y=e(d)}if(y!==null)B=!0;else{var U=e(p);U!==null&&st(R,U.startTime-D),B=!1}}break t}finally{y=null,b=at,v=!1}B=void 0}}finally{B?Q():j=!1}}}var Q;if(typeof C=="function")Q=function(){C(nt)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,rt=et.port2;et.port1.onmessage=nt,Q=function(){rt.postMessage(null)}}else Q=function(){w(nt,0)};function st(D,B){N=w(function(){D(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(D){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var at=b;b=B;try{return D()}finally{b=at}},l.unstable_requestPaint=function(){T=!0},l.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var at=b;b=D;try{return B()}finally{b=at}},l.unstable_scheduleCallback=function(D,B,at){var Z=l.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Z+at:Z):at=Z,D){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=at+x,D={id:g++,callback:B,priorityLevel:D,startTime:at,expirationTime:x,sortIndex:-1},at>Z?(D.sortIndex=at,t(p,D),e(d)===null&&D===e(p)&&(_?(O(N),N=-1):_=!0,st(R,at-Z))):(D.sortIndex=x,t(d,D),S||v||(S=!0,j||(j=!0,Q()))),D},l.unstable_shouldYield=it,l.unstable_wrapCallback=function(D){var B=b;return function(){var at=b;b=B;try{return D.apply(this,arguments)}finally{b=at}}}}(Kh)),Kh}var m0;function T1(){return m0||(m0=1,$h.exports=x1()),$h.exports}var Wh={exports:{}},Ie={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function C1(){if(y0)return Ie;y0=1;var l=fc();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var u=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ie.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,g)},Ie.flushSync=function(d){var p=u.T,g=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=g,s.d.f()}},Ie.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},Ie.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ie.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):g==="script"&&s.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ie.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},Ie.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);s.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ie.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},Ie.requestFormReset=function(d){s.d.r(d)},Ie.unstable_batchedUpdates=function(d,p){return d(p)},Ie.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},Ie.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ie.version="19.1.1",Ie}var b0;function R1(){if(b0)return Wh.exports;b0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Wh.exports=C1(),Wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function M1(){if(v0)return Ir;v0=1;var l=T1(),t=fc(),e=R1();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(s(188))}function d(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(s(188));return i!==n?null:n}for(var r=n,c=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){r=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return h(f),n;if(m===c)return h(f),i;m=m.sibling}throw Error(s(188))}if(r.return!==c.return)r=f,c=m;else{for(var A=!1,E=f.child;E;){if(E===r){A=!0,r=f,c=m;break}if(E===c){A=!0,c=f,r=m;break}E=E.sibling}if(!A){for(E=m.child;E;){if(E===r){A=!0,r=m,c=f;break}if(E===c){A=!0,c=m,r=f;break}E=E.sibling}if(!A)throw Error(s(189))}}if(r.alternate!==c)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=nt&&n[nt]||n["@@iterator"],typeof n=="function"?n:null)}var et=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===et?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case C:return(n.displayName||"Context")+".Provider";case O:return(n._context.displayName||"Context")+".Consumer";case L:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return i=n.displayName||null,i!==null?i:rt(n.type)||"Memo";case $:i=n._payload,n=n._init;try{return rt(n(i))}catch{}}return null}var st=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Z=[],x=-1;function U(n){return{current:n}}function G(n){0>x||(n.current=Z[x],Z[x]=null,x--)}function Y(n,i){x++,Z[x]=n.current,n.current=i}var tt=U(null),lt=U(null),ot=U(null),ht=U(null);function bt(n,i){switch(Y(ot,i),Y(lt,n),Y(tt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?zm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=zm(i),n=Fm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(tt),Y(tt,n)}function Pt(){G(tt),G(lt),G(ot)}function Et(n){n.memoizedState!==null&&Y(ht,n);var i=tt.current,r=Fm(i,n.type);i!==r&&(Y(lt,n),Y(tt,r))}function zt(n){lt.current===n&&(G(tt),G(lt)),ht.current===n&&(G(ht),Nr._currentValue=at)}var Bt=Object.prototype.hasOwnProperty,Vt=l.unstable_scheduleCallback,Tt=l.unstable_cancelCallback,_t=l.unstable_shouldYield,Dt=l.unstable_requestPaint,jt=l.unstable_now,Yt=l.unstable_getCurrentPriorityLevel,nn=l.unstable_ImmediatePriority,Ei=l.unstable_UserBlockingPriority,Ee=l.unstable_NormalPriority,mn=l.unstable_LowPriority,ti=l.unstable_IdlePriority,Ba=l.log,Dc=l.unstable_setDisableYieldValue,ts=null,ge=null;function sn(n){if(typeof Ba=="function"&&Dc(n),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(ts,n)}catch{}}var xe=Math.clz32?Math.clz32:lv,Ha=Math.log,ov=Math.LN2;function lv(n){return n>>>=0,n===0?32:31-(Ha(n)/ov|0)|0}var Ao=256,So=4194304;function es(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _o(n,i,r){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?f=es(c):(A&=E,A!==0?f=es(A):r||(r=E&~n,r!==0&&(f=es(r))))):(E=c&~m,E!==0?f=es(E):A!==0?f=es(A):r||(r=c&~n,r!==0&&(f=es(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function Ua(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function cv(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(){var n=Ao;return Ao<<=1,(Ao&4194048)===0&&(Ao=256),n}function Sf(){var n=So;return So<<=1,(So&62914560)===0&&(So=4194304),n}function Nc(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function Ga(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function uv(n,i,r,c,f,m){var A=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var E=n.entanglements,M=n.expirationTimes,H=n.hiddenUpdates;for(r=A&~r;0<r;){var K=31-xe(r),J=1<<K;E[K]=0,M[K]=-1;var q=H[K];if(q!==null)for(H[K]=null,K=0;K<q.length;K++){var V=q[K];V!==null&&(V.lane&=-536870913)}r&=~J}c!==0&&_f(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(A&~i))}function _f(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-xe(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|r&4194090}function wf(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var c=31-xe(r),f=1<<c;f&i|n[c]&i&&(n[c]|=i),r&=~f}}function kc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Pc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ef(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:i0(n.type))}function hv(n,i){var r=B.p;try{return B.p=n,i()}finally{B.p=r}}var xi=Math.random().toString(36).slice(2),ze="__reactFiber$"+xi,$e="__reactProps$"+xi,Ns="__reactContainer$"+xi,jc="__reactEvents$"+xi,dv="__reactListeners$"+xi,fv="__reactHandles$"+xi,xf="__reactResources$"+xi,qa="__reactMarker$"+xi;function zc(n){delete n[ze],delete n[$e],delete n[jc],delete n[dv],delete n[fv]}function ks(n){var i=n[ze];if(i)return i;for(var r=n.parentNode;r;){if(i=r[Ns]||r[ze]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Um(n);n!==null;){if(r=n[ze])return r;n=Um(n)}return i}n=r,r=n.parentNode}return null}function Ps(n){if(n=n[ze]||n[Ns]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Va(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function js(n){var i=n[xf];return i||(i=n[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(n){n[qa]=!0}var Tf=new Set,Cf={};function ns(n,i){zs(n,i),zs(n+"Capture",i)}function zs(n,i){for(Cf[n]=i,n=0;n<i.length;n++)Tf.add(i[n])}var pv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},Mf={};function gv(n){return Bt.call(Mf,n)?!0:Bt.call(Rf,n)?!1:pv.test(n)?Mf[n]=!0:(Rf[n]=!0,!1)}function wo(n,i,r){if(gv(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Eo(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function ei(n,i,r,c){if(c===null)n.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+c)}}var Fc,Of;function Fs(n){if(Fc===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Fc=i&&i[1]||"",Of=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fc+n+Of}var Ic=!1;function Bc(n,i){if(!n||Ic)return"";Ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var q=V}Reflect.construct(n,[],J)}else{try{J.call()}catch(V){q=V}n.call(J.prototype)}}else{try{throw Error()}catch(V){q=V}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&q&&typeof V.stack=="string")return[V.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),A=m[0],E=m[1];if(A&&E){var M=A.split(`
`),H=E.split(`
`);for(f=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(c===M.length||f===H.length)for(c=M.length-1,f=H.length-1;1<=c&&0<=f&&M[c]!==H[f];)f--;for(;1<=c&&0<=f;c--,f--)if(M[c]!==H[f]){if(c!==1||f!==1)do if(c--,f--,0>f||M[c]!==H[f]){var K=`
`+M[c].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=c&&0<=f);break}}}finally{Ic=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Fs(r):""}function mv(n){switch(n.tag){case 26:case 27:case 5:return Fs(n.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 15:return Bc(n.type,!1);case 11:return Bc(n.type.render,!1);case 1:return Bc(n.type,!0);case 31:return Fs("Activity");default:return""}}function Lf(n){try{var i="";do i+=mv(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function yn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Df(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yv(n){var i=Df(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(A){c=""+A,m.call(this,A)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function xo(n){n._valueTracker||(n._valueTracker=yv(n))}function Nf(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),c="";return n&&(c=Df(n)?n.checked?"true":"false":n.value),n=c,n!==r?(i.setValue(n),!0):!1}function To(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bv=/[\n"\\]/g;function bn(n){return n.replace(bv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hc(n,i,r,c,f,m,A,E){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),i!=null?A==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+yn(i)):n.value!==""+yn(i)&&(n.value=""+yn(i)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),i!=null?Uc(n,A,yn(i)):r!=null?Uc(n,A,yn(r)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+yn(E):n.removeAttribute("name")}function kf(n,i,r,c,f,m,A,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+yn(r):"",i=i!=null?""+yn(i):r,E||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=E?n.checked:!!c,n.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function Uc(n,i,r){i==="number"&&To(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Is(n,i,r,c){if(n=n.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<n.length;r++)f=i.hasOwnProperty("$"+n[r].value),n[r].selected!==f&&(n[r].selected=f),f&&c&&(n[r].defaultSelected=!0)}else{for(r=""+yn(r),i=null,f=0;f<n.length;f++){if(n[f].value===r){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Pf(n,i,r){if(i!=null&&(i=""+yn(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+yn(r):""}function jf(n,i,r,c){if(i==null){if(c!=null){if(r!=null)throw Error(s(92));if(st(c)){if(1<c.length)throw Error(s(93));c=c[0]}r=c}r==null&&(r=""),i=r}r=yn(i),n.defaultValue=r,c=n.textContent,c===r&&c!==""&&c!==null&&(n.value=c)}function Bs(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var vv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zf(n,i,r){var c=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,r):typeof r!="number"||r===0||vv.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Ff(n,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&r[f]!==c&&zf(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&zf(n,m,i[m])}function Gc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(n){return Sv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var qc=null;function Vc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hs=null,Us=null;function If(n){var i=Ps(n);if(i&&(n=i.stateNode)){var r=n[$e]||null;t:switch(n=i.stateNode,i.type){case"input":if(Hc(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var c=r[i];if(c!==n&&c.form===n.form){var f=c[$e]||null;if(!f)throw Error(s(90));Hc(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)c=r[i],c.form===n.form&&Nf(c)}break t;case"textarea":Pf(n,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&Is(n,!!r.multiple,i,!1)}}}var Yc=!1;function Bf(n,i,r){if(Yc)return n(i,r);Yc=!0;try{var c=n(i);return c}finally{if(Yc=!1,(Hs!==null||Us!==null)&&(dl(),Hs&&(i=Hs,n=Us,Us=Hs=null,If(i),n)))for(i=0;i<n.length;i++)If(n[i])}}function Ya(n,i){var r=n.stateNode;if(r===null)return null;var c=r[$e]||null;if(c===null)return null;r=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(ni)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Xc=!1}var Ti=null,$c=null,Ro=null;function Hf(){if(Ro)return Ro;var n,i=$c,r=i.length,c,f="value"in Ti?Ti.value:Ti.textContent,m=f.length;for(n=0;n<r&&i[n]===f[n];n++);var A=r-n;for(c=1;c<=A&&i[r-c]===f[m-c];c++);return Ro=f.slice(n,1<c?1-c:void 0)}function Mo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Oo(){return!0}function Uf(){return!1}function Ke(n){function i(r,c,f,m,A){this._reactName=r,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(r=n[E],this[E]=r?r(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Oo:Uf,this.isPropagationStopped=Uf,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),i}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=Ke(is),$a=g({},is,{view:0,detail:0}),_v=Ke($a),Kc,Wc,Ka,Do=g({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ka&&(Ka&&n.type==="mousemove"?(Kc=n.screenX-Ka.screenX,Wc=n.screenY-Ka.screenY):Wc=Kc=0,Ka=n),Kc)},movementY:function(n){return"movementY"in n?n.movementY:Wc}}),Gf=Ke(Do),wv=g({},Do,{dataTransfer:0}),Ev=Ke(wv),xv=g({},$a,{relatedTarget:0}),Qc=Ke(xv),Tv=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=Ke(Tv),Rv=g({},is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Mv=Ke(Rv),Ov=g({},is,{data:0}),qf=Ke(Ov),Lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kv(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Nv[n])?!!i[n]:!1}function Zc(){return kv}var Pv=g({},$a,{key:function(n){if(n.key){var i=Lv[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Mo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Dv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(n){return n.type==="keypress"?Mo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),jv=Ke(Pv),zv=g({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=Ke(zv),Fv=g({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),Iv=Ke(Fv),Bv=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hv=Ke(Bv),Uv=g({},Do,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gv=Ke(Uv),qv=g({},is,{newState:0,oldState:0}),Vv=Ke(qv),Yv=[9,13,27,32],Jc=ni&&"CompositionEvent"in window,Wa=null;ni&&"documentMode"in document&&(Wa=document.documentMode);var Xv=ni&&"TextEvent"in window&&!Wa,Yf=ni&&(!Jc||Wa&&8<Wa&&11>=Wa),Xf=" ",$f=!1;function Kf(n,i){switch(n){case"keyup":return Yv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gs=!1;function $v(n,i){switch(n){case"compositionend":return Wf(i);case"keypress":return i.which!==32?null:($f=!0,Xf);case"textInput":return n=i.data,n===Xf&&$f?null:n;default:return null}}function Kv(n,i){if(Gs)return n==="compositionend"||!Jc&&Kf(n,i)?(n=Hf(),Ro=$c=Ti=null,Gs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yf&&i.locale!=="ko"?null:i.data;default:return null}}var Wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Wv[n.type]:i==="textarea"}function Zf(n,i,r,c){Hs?Us?Us.push(c):Us=[c]:Hs=c,i=bl(i,"onChange"),0<i.length&&(r=new Lo("onChange","change",null,r,c),n.push({event:r,listeners:i}))}var Qa=null,Za=null;function Qv(n){Dm(n,0)}function No(n){var i=Va(n);if(Nf(i))return n}function Jf(n,i){if(n==="change")return i}var tp=!1;if(ni){var tu;if(ni){var eu="oninput"in document;if(!eu){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),eu=typeof ep.oninput=="function"}tu=eu}else tu=!1;tp=tu&&(!document.documentMode||9<document.documentMode)}function np(){Qa&&(Qa.detachEvent("onpropertychange",ip),Za=Qa=null)}function ip(n){if(n.propertyName==="value"&&No(Za)){var i=[];Zf(i,Za,n,Vc(n)),Bf(Qv,i)}}function Zv(n,i,r){n==="focusin"?(np(),Qa=i,Za=r,Qa.attachEvent("onpropertychange",ip)):n==="focusout"&&np()}function Jv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return No(Za)}function tA(n,i){if(n==="click")return No(i)}function eA(n,i){if(n==="input"||n==="change")return No(i)}function nA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var an=typeof Object.is=="function"?Object.is:nA;function Ja(n,i){if(an(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),c=Object.keys(i);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var f=r[c];if(!Bt.call(i,f)||!an(n[f],i[f]))return!1}return!0}function sp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ap(n,i){var r=sp(n);n=0;for(var c;r;){if(r.nodeType===3){if(c=n+r.textContent.length,n<=i&&c>=i)return{node:r,offset:i-n};n=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sp(r)}}function rp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?rp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function op(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=To(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=To(n.document)}return i}function nu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var iA=ni&&"documentMode"in document&&11>=document.documentMode,qs=null,iu=null,tr=null,su=!1;function lp(n,i,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;su||qs==null||qs!==To(c)||(c=qs,"selectionStart"in c&&nu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tr&&Ja(tr,c)||(tr=c,c=bl(iu,"onSelect"),0<c.length&&(i=new Lo("onSelect","select",null,i,r),n.push({event:i,listeners:c}),i.target=qs)))}function ss(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Vs={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},au={},cp={};ni&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function as(n){if(au[n])return au[n];if(!Vs[n])return n;var i=Vs[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in cp)return au[n]=i[r];return n}var up=as("animationend"),hp=as("animationiteration"),dp=as("animationstart"),sA=as("transitionrun"),aA=as("transitionstart"),rA=as("transitioncancel"),fp=as("transitionend"),pp=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function On(n,i){pp.set(n,i),ns(i,[n])}var gp=new WeakMap;function vn(n,i){if(typeof n=="object"&&n!==null){var r=gp.get(n);return r!==void 0?r:(i={value:n,source:i,stack:Lf(i)},gp.set(n,i),i)}return{value:n,source:i,stack:Lf(i)}}var An=[],Ys=0,ou=0;function ko(){for(var n=Ys,i=ou=Ys=0;i<n;){var r=An[i];An[i++]=null;var c=An[i];An[i++]=null;var f=An[i];An[i++]=null;var m=An[i];if(An[i++]=null,c!==null&&f!==null){var A=c.pending;A===null?f.next=f:(f.next=A.next,A.next=f),c.pending=f}m!==0&&mp(r,f,m)}}function Po(n,i,r,c){An[Ys++]=n,An[Ys++]=i,An[Ys++]=r,An[Ys++]=c,ou|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function lu(n,i,r,c){return Po(n,i,r,c),jo(n)}function Xs(n,i){return Po(n,null,null,i),jo(n)}function mp(n,i,r){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r);for(var f=!1,m=n.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-xe(r),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=r|536870912),m):null}function jo(n){if(50<xr)throw xr=0,ph=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var $s={};function oA(n,i,r,c){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(n,i,r,c){return new oA(n,i,r,c)}function cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ii(n,i){var r=n.alternate;return r===null?(r=rn(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function yp(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function zo(n,i,r,c,f,m){var A=0;if(c=n,typeof n=="function")cu(n)&&(A=1);else if(typeof n=="string")A=c1(n,r,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case X:return n=rn(31,r,i,f),n.elementType=X,n.lanes=m,n;case S:return rs(r.children,f,m,i);case _:A=8,f|=24;break;case T:return n=rn(12,r,i,f|2),n.elementType=T,n.lanes=m,n;case R:return n=rn(13,r,i,f),n.elementType=R,n.lanes=m,n;case j:return n=rn(19,r,i,f),n.elementType=j,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case C:A=10;break t;case O:A=9;break t;case L:A=11;break t;case N:A=14;break t;case $:A=16,c=null;break t}A=29,r=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=rn(A,r,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function rs(n,i,r,c){return n=rn(7,n,c,i),n.lanes=r,n}function uu(n,i,r){return n=rn(6,n,null,i),n.lanes=r,n}function hu(n,i,r){return i=rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ks=[],Ws=0,Fo=null,Io=0,Sn=[],_n=0,os=null,si=1,ai="";function ls(n,i){Ks[Ws++]=Io,Ks[Ws++]=Fo,Fo=n,Io=i}function bp(n,i,r){Sn[_n++]=si,Sn[_n++]=ai,Sn[_n++]=os,os=n;var c=si;n=ai;var f=32-xe(c)-1;c&=~(1<<f),r+=1;var m=32-xe(i)+f;if(30<m){var A=f-f%5;m=(c&(1<<A)-1).toString(32),c>>=A,f-=A,si=1<<32-xe(i)+f|r<<f|c,ai=m+n}else si=1<<m|r<<f|c,ai=n}function du(n){n.return!==null&&(ls(n,1),bp(n,1,0))}function fu(n){for(;n===Fo;)Fo=Ks[--Ws],Ks[Ws]=null,Io=Ks[--Ws],Ks[Ws]=null;for(;n===os;)os=Sn[--_n],Sn[_n]=null,ai=Sn[--_n],Sn[_n]=null,si=Sn[--_n],Sn[_n]=null}var Ve=null,oe=null,Ht=!1,cs=null,Fn=!1,pu=Error(s(519));function us(n){var i=Error(s(418,""));throw ir(vn(i,n)),pu}function vp(n){var i=n.stateNode,r=n.type,c=n.memoizedProps;switch(i[ze]=n,i[$e]=c,r){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(r=0;r<Cr.length;r++)Ot(Cr[r],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),kf(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),xo(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),jf(i,c.value,c.defaultValue,c.children),xo(i)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||c.suppressHydrationWarning===!0||jm(i.textContent,r)?(c.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),c.onScroll!=null&&Ot("scroll",i),c.onScrollEnd!=null&&Ot("scrollend",i),c.onClick!=null&&(i.onclick=vl),i=!0):i=!1,i||us(n)}function Ap(n){for(Ve=n.return;Ve;)switch(Ve.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ve=Ve.return}}function er(n){if(n!==Ve)return!1;if(!Ht)return Ap(n),Ht=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Oh(n.type,n.memoizedProps)),r=!r),r&&oe&&us(n),Ap(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){oe=Dn(n.nextSibling);break t}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}oe=null}}else i===27?(i=oe,Ui(n.type)?(n=kh,kh=null,oe=n):oe=i):oe=Ve?Dn(n.stateNode.nextSibling):null;return!0}function nr(){oe=Ve=null,Ht=!1}function Sp(){var n=cs;return n!==null&&(Ze===null?Ze=n:Ze.push.apply(Ze,n),cs=null),n}function ir(n){cs===null?cs=[n]:cs.push(n)}var gu=U(null),hs=null,ri=null;function Ci(n,i,r){Y(gu,i._currentValue),i._currentValue=r}function oi(n){n._currentValue=gu.current,G(gu)}function mu(n,i,r){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===r)break;n=n.return}}function yu(n,i,r,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var A=f.child;m=m.firstContext;t:for(;m!==null;){var E=m;m=f;for(var M=0;M<i.length;M++)if(E.context===i[M]){m.lanes|=r,E=m.alternate,E!==null&&(E.lanes|=r),mu(m.return,r,n),c||(A=null);break t}m=E.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(s(341));A.lanes|=r,m=A.alternate,m!==null&&(m.lanes|=r),mu(A,r,n),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===n){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function sr(n,i,r,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var E=f.type;an(f.pendingProps.value,A.value)||(n!==null?n.push(E):n=[E])}}else if(f===ht.current){if(A=f.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Nr):n=[Nr])}f=f.return}n!==null&&yu(i,n,r,c),i.flags|=262144}function Bo(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ds(n){hs=n,ri=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Fe(n){return _p(hs,n)}function Ho(n,i){return hs===null&&ds(n),_p(n,i)}function _p(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ri===null){if(n===null)throw Error(s(308));ri=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ri=ri.next=i;return r}var lA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},cA=l.unstable_scheduleCallback,uA=l.unstable_NormalPriority,Se={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new lA,data:new Map,refCount:0}}function ar(n){n.refCount--,n.refCount===0&&cA(uA,function(){n.controller.abort()})}var rr=null,vu=0,Qs=0,Zs=null;function hA(n,i){if(rr===null){var r=rr=[];vu=0,Qs=Sh(),Zs={status:"pending",value:void 0,then:function(c){r.push(c)}}}return vu++,i.then(wp,wp),i}function wp(){if(--vu===0&&rr!==null){Zs!==null&&(Zs.status="fulfilled");var n=rr;rr=null,Qs=0,Zs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function dA(n,i){var r=[],c={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),c}var Ep=D.S;D.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&hA(n,i),Ep!==null&&Ep(n,i)};var fs=U(null);function Au(){var n=fs.current;return n!==null?n:Jt.pooledCache}function Uo(n,i){i===null?Y(fs,fs.current):Y(fs,i.pool)}function xp(){var n=Au();return n===null?null:{parent:Se._currentValue,pool:n}}var or=Error(s(460)),Tp=Error(s(474)),Go=Error(s(542)),Su={then:function(){}};function Cp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qo(){}function Rp(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(qo,qo),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Op(n),n;default:if(typeof i.status=="string")i.then(qo,qo);else{if(n=Jt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Op(n),n}throw lr=i,or}}var lr=null;function Mp(){if(lr===null)throw Error(s(459));var n=lr;return lr=null,n}function Op(n){if(n===or||n===Go)throw Error(s(483))}var Ri=!1;function _u(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Oi(n,i,r){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Gt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=jo(n),mp(n,null,r),i}return Po(n,c,i,r),jo(n)}function cr(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,wf(n,r)}}function Eu(n,i){var r=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var A={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=A:m=m.next=A,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var xu=!1;function ur(){if(xu){var n=Zs;if(n!==null)throw n}}function hr(n,i,r,c){xu=!1;var f=n.updateQueue;Ri=!1;var m=f.firstBaseUpdate,A=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var M=E,H=M.next;M.next=null,A===null?m=H:A.next=H,A=M;var K=n.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==A&&(E===null?K.firstBaseUpdate=H:E.next=H,K.lastBaseUpdate=M))}if(m!==null){var J=f.baseState;A=0,K=H=M=null,E=m;do{var q=E.lane&-536870913,V=q!==E.lane;if(V?(kt&q)===q:(c&q)===q){q!==0&&q===Qs&&(xu=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=n,gt=E;q=i;var Kt=r;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){J=vt.call(Kt,J,q);break t}J=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,q=typeof vt=="function"?vt.call(Kt,J,q):vt,q==null)break t;J=g({},J,q);break t;case 2:Ri=!0}}q=E.callback,q!==null&&(n.flags|=64,V&&(n.flags|=8192),V=f.callbacks,V===null?f.callbacks=[q]:V.push(q))}else V={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(H=K=V,M=J):K=K.next=V,A|=q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;V=E,E=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);K===null&&(M=J),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=K,m===null&&(f.shared.lanes=0),Fi|=A,n.lanes=A,n.memoizedState=J}}function Lp(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Dp(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Lp(r[n],i)}var Js=U(null),Vo=U(0);function Np(n,i){n=pi,Y(Vo,n),Y(Js,i),pi=n|i.baseLanes}function Tu(){Y(Vo,pi),Y(Js,Js.current)}function Cu(){pi=Vo.current,G(Js),G(Vo)}var Li=0,Ct=null,Xt=null,me=null,Yo=!1,ta=!1,ps=!1,Xo=0,dr=0,ea=null,fA=0;function ce(){throw Error(s(321))}function Ru(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!an(n[r],i[r]))return!1;return!0}function Mu(n,i,r,c,f,m){return Li=m,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=n===null||n.memoizedState===null?mg:yg,ps=!1,m=r(c,f),ps=!1,ta&&(m=Pp(i,r,c,f)),kp(n),m}function kp(n){D.H=Jo;var i=Xt!==null&&Xt.next!==null;if(Li=0,me=Xt=Ct=null,Yo=!1,dr=0,ea=null,i)throw Error(s(300));n===null||Ce||(n=n.dependencies,n!==null&&Bo(n)&&(Ce=!0))}function Pp(n,i,r,c){Ct=n;var f=0;do{if(ta&&(ea=null),dr=0,ta=!1,25<=f)throw Error(s(301));if(f+=1,me=Xt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}D.H=AA,m=i(r,c)}while(ta);return m}function pA(){var n=D.H,i=n.useState()[0];return i=typeof i.then=="function"?fr(i):i,n=n.useState()[0],(Xt!==null?Xt.memoizedState:null)!==n&&(Ct.flags|=1024),i}function Ou(){var n=Xo!==0;return Xo=0,n}function Lu(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Du(n){if(Yo){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yo=!1}Li=0,me=Xt=Ct=null,ta=!1,dr=Xo=0,ea=null}function We(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Ct.memoizedState=me=n:me=me.next=n,me}function ye(){if(Xt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var i=me===null?Ct.memoizedState:me.next;if(i!==null)me=i,Xt=n;else{if(n===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},me===null?Ct.memoizedState=me=n:me=me.next=n}return me}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fr(n){var i=dr;return dr+=1,ea===null&&(ea=[]),n=Rp(ea,n,i),i=Ct,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?mg:yg),n}function $o(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return fr(n);if(n.$$typeof===C)return Fe(n)}throw Error(s(438,String(n)))}function ku(n){var i=null,r=Ct.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Nu(),Ct.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),c=0;c<n;c++)r[c]=it;return i.index++,r}function li(n,i){return typeof i=="function"?i(n):i}function Ko(n){var i=ye();return Pu(i,Xt,n)}function Pu(n,i,r){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var A=f.next;f.next=m.next,m.next=A}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var E=A=null,M=null,H=i,K=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(kt&J)===J:(Li&J)===J){var q=H.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Qs&&(K=!0);else if((Li&q)===q){H=H.next,q===Qs&&(K=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(E=M=J,A=m):M=M.next=J,Ct.lanes|=q,Fi|=q;J=H.action,ps&&r(m,J),m=H.hasEagerState?H.eagerState:r(m,J)}else q={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(E=M=q,A=m):M=M.next=q,Ct.lanes|=J,Fi|=J;H=H.next}while(H!==null&&H!==i);if(M===null?A=m:M.next=E,!an(m,n.memoizedState)&&(Ce=!0,K&&(r=Zs,r!==null)))throw r;n.memoizedState=m,n.baseState=A,n.baseQueue=M,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function ju(n){var i=ye(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var c=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var A=f=f.next;do m=n(m,A.action),A=A.next;while(A!==f);an(m,i.memoizedState)||(Ce=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,c]}function jp(n,i,r){var c=Ct,f=ye(),m=Ht;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=i();var A=!an((Xt||f).memoizedState,r);A&&(f.memoizedState=r,Ce=!0),f=f.queue;var E=Ip.bind(null,c,f,n);if(pr(2048,8,E,[n]),f.getSnapshot!==i||A||me!==null&&me.memoizedState.tag&1){if(c.flags|=2048,na(9,Wo(),Fp.bind(null,c,f,r,i),null),Jt===null)throw Error(s(349));m||(Li&124)!==0||zp(c,i,r)}return r}function zp(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=Ct.updateQueue,i===null?(i=Nu(),Ct.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function Fp(n,i,r,c){i.value=r,i.getSnapshot=c,Bp(i)&&Hp(n)}function Ip(n,i,r){return r(function(){Bp(i)&&Hp(n)})}function Bp(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!an(n,r)}catch{return!0}}function Hp(n){var i=Xs(n,2);i!==null&&hn(i,n,2)}function zu(n){var i=We();if(typeof n=="function"){var r=n;if(n=r(),ps){sn(!0);try{r()}finally{sn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},i}function Up(n,i,r,c){return n.baseState=r,Pu(n,Xt,typeof c=="function"?c:li)}function gA(n,i,r,c,f){if(Zo(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};D.T!==null?r(!0):m.isTransition=!1,c(m),r=i.pending,r===null?(m.next=i.pending=m,Gp(i,m)):(m.next=r.next,i.pending=r.next=m)}}function Gp(n,i){var r=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=D.T,A={};D.T=A;try{var E=r(f,c),M=D.S;M!==null&&M(A,E),qp(n,i,E)}catch(H){Fu(n,i,H)}finally{D.T=m}}else try{m=r(f,c),qp(n,i,m)}catch(H){Fu(n,i,H)}}function qp(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){Vp(n,i,c)},function(c){return Fu(n,i,c)}):Vp(n,i,r)}function Vp(n,i,r){i.status="fulfilled",i.value=r,Yp(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Gp(n,r)))}function Fu(n,i,r){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=r,Yp(i),i=i.next;while(i!==c)}n.action=null}function Yp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Xp(n,i){return i}function $p(n,i){if(Ht){var r=Jt.formState;if(r!==null){t:{var c=Ct;if(Ht){if(oe){e:{for(var f=oe,m=Fn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Dn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){oe=Dn(f.nextSibling),c=f.data==="F!";break t}}us(c)}c=!1}c&&(i=r[0])}}return r=We(),r.memoizedState=r.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:i},r.queue=c,r=fg.bind(null,Ct,c),c.dispatch=r,c=zu(!1),m=Gu.bind(null,Ct,!1,c.queue),c=We(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,r=gA.bind(null,Ct,f,m,r),f.dispatch=r,c.memoizedState=n,[i,r,!1]}function Kp(n){var i=ye();return Wp(i,Xt,n)}function Wp(n,i,r){if(i=Pu(n,i,Xp)[0],n=Ko(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=fr(i)}catch(A){throw A===or?Go:A}else c=i;i=ye();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(Ct.flags|=2048,na(9,Wo(),mA.bind(null,f,r),null)),[c,m,n]}function mA(n,i){n.action=i}function Qp(n){var i=ye(),r=Xt;if(r!==null)return Wp(i,r,n);ye(),i=i.memoizedState,r=ye();var c=r.queue.dispatch;return r.memoizedState=n,[i,c,!1]}function na(n,i,r,c){return n={tag:n,create:r,deps:c,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=Nu(),Ct.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(c=r.next,r.next=n,n.next=c,i.lastEffect=n),n}function Wo(){return{destroy:void 0,resource:void 0}}function Zp(){return ye().memoizedState}function Qo(n,i,r,c){var f=We();c=c===void 0?null:c,Ct.flags|=n,f.memoizedState=na(1|i,Wo(),r,c)}function pr(n,i,r,c){var f=ye();c=c===void 0?null:c;var m=f.memoizedState.inst;Xt!==null&&c!==null&&Ru(c,Xt.memoizedState.deps)?f.memoizedState=na(i,m,r,c):(Ct.flags|=n,f.memoizedState=na(1|i,m,r,c))}function Jp(n,i){Qo(8390656,8,n,i)}function tg(n,i){pr(2048,8,n,i)}function eg(n,i){return pr(4,2,n,i)}function ng(n,i){return pr(4,4,n,i)}function ig(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function sg(n,i,r){r=r!=null?r.concat([n]):null,pr(4,4,ig.bind(null,i,n),r)}function Iu(){}function ag(n,i){var r=ye();i=i===void 0?null:i;var c=r.memoizedState;return i!==null&&Ru(i,c[1])?c[0]:(r.memoizedState=[n,i],n)}function rg(n,i){var r=ye();i=i===void 0?null:i;var c=r.memoizedState;if(i!==null&&Ru(i,c[1]))return c[0];if(c=n(),ps){sn(!0);try{n()}finally{sn(!1)}}return r.memoizedState=[c,i],c}function Bu(n,i,r){return r===void 0||(Li&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=cm(),Ct.lanes|=n,Fi|=n,r)}function og(n,i,r,c){return an(r,i)?r:Js.current!==null?(n=Bu(n,r,c),an(n,i)||(Ce=!0),n):(Li&42)===0?(Ce=!0,n.memoizedState=r):(n=cm(),Ct.lanes|=n,Fi|=n,i)}function lg(n,i,r,c,f){var m=B.p;B.p=m!==0&&8>m?m:8;var A=D.T,E={};D.T=E,Gu(n,!1,i,r);try{var M=f(),H=D.S;if(H!==null&&H(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=dA(M,c);gr(n,i,K,un(n))}else gr(n,i,c,un(n))}catch(J){gr(n,i,{then:function(){},status:"rejected",reason:J},un())}finally{B.p=m,D.T=A}}function yA(){}function Hu(n,i,r,c){if(n.tag!==5)throw Error(s(476));var f=cg(n).queue;lg(n,f,i,at,r===null?yA:function(){return ug(n),r(c)})}function cg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:at},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ug(n){var i=cg(n).next.queue;gr(n,i,{},un())}function Uu(){return Fe(Nr)}function hg(){return ye().memoizedState}function dg(){return ye().memoizedState}function bA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=un();n=Mi(r);var c=Oi(i,n,r);c!==null&&(hn(c,i,r),cr(c,i,r)),i={cache:bu()},n.payload=i;return}i=i.return}}function vA(n,i,r){var c=un();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(n)?pg(i,r):(r=lu(n,i,r,c),r!==null&&(hn(r,n,c),gg(r,i,c)))}function fg(n,i,r){var c=un();gr(n,i,r,c)}function gr(n,i,r,c){var f={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zo(n))pg(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var A=i.lastRenderedState,E=m(A,r);if(f.hasEagerState=!0,f.eagerState=E,an(E,A))return Po(n,i,f,0),Jt===null&&ko(),!1}catch{}finally{}if(r=lu(n,i,f,c),r!==null)return hn(r,n,c),gg(r,i,c),!0}return!1}function Gu(n,i,r,c){if(c={lane:2,revertLane:Sh(),action:c,hasEagerState:!1,eagerState:null,next:null},Zo(n)){if(i)throw Error(s(479))}else i=lu(n,r,c,2),i!==null&&hn(i,n,2)}function Zo(n){var i=n.alternate;return n===Ct||i!==null&&i===Ct}function pg(n,i){ta=Yo=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function gg(n,i,r){if((r&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,r|=c,i.lanes=r,wf(n,r)}}var Jo={readContext:Fe,use:$o,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},mg={readContext:Fe,use:$o,useCallback:function(n,i){return We().memoizedState=[n,i===void 0?null:i],n},useContext:Fe,useEffect:Jp,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Qo(4194308,4,ig.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Qo(4194308,4,n,i)},useInsertionEffect:function(n,i){Qo(4,2,n,i)},useMemo:function(n,i){var r=We();i=i===void 0?null:i;var c=n();if(ps){sn(!0);try{n()}finally{sn(!1)}}return r.memoizedState=[c,i],c},useReducer:function(n,i,r){var c=We();if(r!==void 0){var f=r(i);if(ps){sn(!0);try{r(i)}finally{sn(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=vA.bind(null,Ct,n),[c.memoizedState,n]},useRef:function(n){var i=We();return n={current:n},i.memoizedState=n},useState:function(n){n=zu(n);var i=n.queue,r=fg.bind(null,Ct,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:Iu,useDeferredValue:function(n,i){var r=We();return Bu(r,n,i)},useTransition:function(){var n=zu(!1);return n=lg.bind(null,Ct,n.queue,!0,!1),We().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var c=Ct,f=We();if(Ht){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Jt===null)throw Error(s(349));(kt&124)!==0||zp(c,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,Jp(Ip.bind(null,c,m,n),[n]),c.flags|=2048,na(9,Wo(),Fp.bind(null,c,m,r,i),null),r},useId:function(){var n=We(),i=Jt.identifierPrefix;if(Ht){var r=ai,c=si;r=(c&~(1<<32-xe(c)-1)).toString(32)+r,i=""+i+"R"+r,r=Xo++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=fA++,i=""+i+"r"+r.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Uu,useFormState:$p,useActionState:$p,useOptimistic:function(n){var i=We();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Gu.bind(null,Ct,!0,r),r.dispatch=i,[n,i]},useMemoCache:ku,useCacheRefresh:function(){return We().memoizedState=bA.bind(null,Ct)}},yg={readContext:Fe,use:$o,useCallback:ag,useContext:Fe,useEffect:tg,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:rg,useReducer:Ko,useRef:Zp,useState:function(){return Ko(li)},useDebugValue:Iu,useDeferredValue:function(n,i){var r=ye();return og(r,Xt.memoizedState,n,i)},useTransition:function(){var n=Ko(li)[0],i=ye().memoizedState;return[typeof n=="boolean"?n:fr(n),i]},useSyncExternalStore:jp,useId:hg,useHostTransitionStatus:Uu,useFormState:Kp,useActionState:Kp,useOptimistic:function(n,i){var r=ye();return Up(r,Xt,n,i)},useMemoCache:ku,useCacheRefresh:dg},AA={readContext:Fe,use:$o,useCallback:ag,useContext:Fe,useEffect:tg,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:rg,useReducer:ju,useRef:Zp,useState:function(){return ju(li)},useDebugValue:Iu,useDeferredValue:function(n,i){var r=ye();return Xt===null?Bu(r,n,i):og(r,Xt.memoizedState,n,i)},useTransition:function(){var n=ju(li)[0],i=ye().memoizedState;return[typeof n=="boolean"?n:fr(n),i]},useSyncExternalStore:jp,useId:hg,useHostTransitionStatus:Uu,useFormState:Qp,useActionState:Qp,useOptimistic:function(n,i){var r=ye();return Xt!==null?Up(r,Xt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:ku,useCacheRefresh:dg},ia=null,mr=0;function tl(n){var i=mr;return mr+=1,ia===null&&(ia=[]),Rp(ia,n,i)}function yr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function el(n,i){throw i.$$typeof===y?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function bg(n){var i=n._init;return i(n._payload)}function vg(n){function i(z,k){if(n){var I=z.deletions;I===null?(z.deletions=[k],z.flags|=16):I.push(k)}}function r(z,k){if(!n)return null;for(;k!==null;)i(z,k),k=k.sibling;return null}function c(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=ii(z,k),z.index=0,z.sibling=null,z}function m(z,k,I){return z.index=I,n?(I=z.alternate,I!==null?(I=I.index,I<k?(z.flags|=67108866,k):I):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function A(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function E(z,k,I,W){return k===null||k.tag!==6?(k=uu(I,z.mode,W),k.return=z,k):(k=f(k,I),k.return=z,k)}function M(z,k,I,W){var ut=I.type;return ut===S?K(z,k,I.props.children,W,I.key):k!==null&&(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===$&&bg(ut)===k.type)?(k=f(k,I.props),yr(k,I),k.return=z,k):(k=zo(I.type,I.key,I.props,null,z.mode,W),yr(k,I),k.return=z,k)}function H(z,k,I,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=hu(I,z.mode,W),k.return=z,k):(k=f(k,I.children||[]),k.return=z,k)}function K(z,k,I,W,ut){return k===null||k.tag!==7?(k=rs(I,z.mode,W,ut),k.return=z,k):(k=f(k,I),k.return=z,k)}function J(z,k,I){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=uu(""+k,z.mode,I),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return I=zo(k.type,k.key,k.props,null,z.mode,I),yr(I,k),I.return=z,I;case v:return k=hu(k,z.mode,I),k.return=z,k;case $:var W=k._init;return k=W(k._payload),J(z,k,I)}if(st(k)||Q(k))return k=rs(k,z.mode,I,null),k.return=z,k;if(typeof k.then=="function")return J(z,tl(k),I);if(k.$$typeof===C)return J(z,Ho(z,k),I);el(z,k)}return null}function q(z,k,I,W){var ut=k!==null?k.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ut!==null?null:E(z,k,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return I.key===ut?M(z,k,I,W):null;case v:return I.key===ut?H(z,k,I,W):null;case $:return ut=I._init,I=ut(I._payload),q(z,k,I,W)}if(st(I)||Q(I))return ut!==null?null:K(z,k,I,W,null);if(typeof I.then=="function")return q(z,k,tl(I),W);if(I.$$typeof===C)return q(z,k,Ho(z,I),W);el(z,I)}return null}function V(z,k,I,W,ut){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(I)||null,E(k,z,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return z=z.get(W.key===null?I:W.key)||null,M(k,z,W,ut);case v:return z=z.get(W.key===null?I:W.key)||null,H(k,z,W,ut);case $:var Rt=W._init;return W=Rt(W._payload),V(z,k,I,W,ut)}if(st(W)||Q(W))return z=z.get(I)||null,K(k,z,W,ut,null);if(typeof W.then=="function")return V(z,k,I,tl(W),ut);if(W.$$typeof===C)return V(z,k,I,Ho(k,W),ut);el(k,W)}return null}function vt(z,k,I,W){for(var ut=null,Rt=null,dt=k,mt=k=0,Me=null;dt!==null&&mt<I.length;mt++){dt.index>mt?(Me=dt,dt=null):Me=dt.sibling;var Ft=q(z,dt,I[mt],W);if(Ft===null){dt===null&&(dt=Me);break}n&&dt&&Ft.alternate===null&&i(z,dt),k=m(Ft,k,mt),Rt===null?ut=Ft:Rt.sibling=Ft,Rt=Ft,dt=Me}if(mt===I.length)return r(z,dt),Ht&&ls(z,mt),ut;if(dt===null){for(;mt<I.length;mt++)dt=J(z,I[mt],W),dt!==null&&(k=m(dt,k,mt),Rt===null?ut=dt:Rt.sibling=dt,Rt=dt);return Ht&&ls(z,mt),ut}for(dt=c(dt);mt<I.length;mt++)Me=V(dt,z,mt,I[mt],W),Me!==null&&(n&&Me.alternate!==null&&dt.delete(Me.key===null?mt:Me.key),k=m(Me,k,mt),Rt===null?ut=Me:Rt.sibling=Me,Rt=Me);return n&&dt.forEach(function(Xi){return i(z,Xi)}),Ht&&ls(z,mt),ut}function gt(z,k,I,W){if(I==null)throw Error(s(151));for(var ut=null,Rt=null,dt=k,mt=k=0,Me=null,Ft=I.next();dt!==null&&!Ft.done;mt++,Ft=I.next()){dt.index>mt?(Me=dt,dt=null):Me=dt.sibling;var Xi=q(z,dt,Ft.value,W);if(Xi===null){dt===null&&(dt=Me);break}n&&dt&&Xi.alternate===null&&i(z,dt),k=m(Xi,k,mt),Rt===null?ut=Xi:Rt.sibling=Xi,Rt=Xi,dt=Me}if(Ft.done)return r(z,dt),Ht&&ls(z,mt),ut;if(dt===null){for(;!Ft.done;mt++,Ft=I.next())Ft=J(z,Ft.value,W),Ft!==null&&(k=m(Ft,k,mt),Rt===null?ut=Ft:Rt.sibling=Ft,Rt=Ft);return Ht&&ls(z,mt),ut}for(dt=c(dt);!Ft.done;mt++,Ft=I.next())Ft=V(dt,z,mt,Ft.value,W),Ft!==null&&(n&&Ft.alternate!==null&&dt.delete(Ft.key===null?mt:Ft.key),k=m(Ft,k,mt),Rt===null?ut=Ft:Rt.sibling=Ft,Rt=Ft);return n&&dt.forEach(function(S1){return i(z,S1)}),Ht&&ls(z,mt),ut}function Kt(z,k,I,W){if(typeof I=="object"&&I!==null&&I.type===S&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case b:t:{for(var ut=I.key;k!==null;){if(k.key===ut){if(ut=I.type,ut===S){if(k.tag===7){r(z,k.sibling),W=f(k,I.props.children),W.return=z,z=W;break t}}else if(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===$&&bg(ut)===k.type){r(z,k.sibling),W=f(k,I.props),yr(W,I),W.return=z,z=W;break t}r(z,k);break}else i(z,k);k=k.sibling}I.type===S?(W=rs(I.props.children,z.mode,W,I.key),W.return=z,z=W):(W=zo(I.type,I.key,I.props,null,z.mode,W),yr(W,I),W.return=z,z=W)}return A(z);case v:t:{for(ut=I.key;k!==null;){if(k.key===ut)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){r(z,k.sibling),W=f(k,I.children||[]),W.return=z,z=W;break t}else{r(z,k);break}else i(z,k);k=k.sibling}W=hu(I,z.mode,W),W.return=z,z=W}return A(z);case $:return ut=I._init,I=ut(I._payload),Kt(z,k,I,W)}if(st(I))return vt(z,k,I,W);if(Q(I)){if(ut=Q(I),typeof ut!="function")throw Error(s(150));return I=ut.call(I),gt(z,k,I,W)}if(typeof I.then=="function")return Kt(z,k,tl(I),W);if(I.$$typeof===C)return Kt(z,k,Ho(z,I),W);el(z,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,k!==null&&k.tag===6?(r(z,k.sibling),W=f(k,I),W.return=z,z=W):(r(z,k),W=uu(I,z.mode,W),W.return=z,z=W),A(z)):r(z,k)}return function(z,k,I,W){try{mr=0;var ut=Kt(z,k,I,W);return ia=null,ut}catch(dt){if(dt===or||dt===Go)throw dt;var Rt=rn(29,dt,null,z.mode);return Rt.lanes=W,Rt.return=z,Rt}finally{}}}var sa=vg(!0),Ag=vg(!1),wn=U(null),In=null;function Di(n){var i=n.alternate;Y(_e,_e.current&1),Y(wn,n),In===null&&(i===null||Js.current!==null||i.memoizedState!==null)&&(In=n)}function Sg(n){if(n.tag===22){if(Y(_e,_e.current),Y(wn,n),In===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(In=n)}}else Ni()}function Ni(){Y(_e,_e.current),Y(wn,wn.current)}function ci(n){G(wn),In===n&&(In=null),G(_e)}var _e=U(0);function nl(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Nh(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qu(n,i,r,c){i=n.memoizedState,r=r(c,i),r=r==null?i:g({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Vu={enqueueSetState:function(n,i,r){n=n._reactInternals;var c=un(),f=Mi(c);f.payload=i,r!=null&&(f.callback=r),i=Oi(n,f,c),i!==null&&(hn(i,n,c),cr(i,n,c))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var c=un(),f=Mi(c);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Oi(n,f,c),i!==null&&(hn(i,n,c),cr(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=un(),c=Mi(r);c.tag=2,i!=null&&(c.callback=i),i=Oi(n,c,r),i!==null&&(hn(i,n,r),cr(i,n,r))}};function _g(n,i,r,c,f,m,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,A):i.prototype&&i.prototype.isPureReactComponent?!Ja(r,c)||!Ja(f,m):!0}function wg(n,i,r,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,c),i.state!==n&&Vu.enqueueReplaceState(i,i.state,null)}function gs(n,i){var r=i;if("ref"in i){r={};for(var c in i)c!=="ref"&&(r[c]=i[c])}if(n=n.defaultProps){r===i&&(r=g({},r));for(var f in n)r[f]===void 0&&(r[f]=n[f])}return r}var il=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Eg(n){il(n)}function xg(n){console.error(n)}function Tg(n){il(n)}function sl(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Cg(n,i,r){try{var c=n.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yu(n,i,r){return r=Mi(r),r.tag=3,r.payload={element:null},r.callback=function(){sl(n,i)},r}function Rg(n){return n=Mi(n),n.tag=3,n}function Mg(n,i,r,c){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){Cg(i,r,c)}}var A=r.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Cg(i,r,c),typeof f!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function SA(n,i,r,c,f){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=r.alternate,i!==null&&sr(i,r,f,!0),r=wn.current,r!==null){switch(r.tag){case 13:return In===null?mh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=f,c===Su?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([c]):i.add(c),bh(n,c,f)),!1;case 22:return r.flags|=65536,c===Su?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([c]):r.add(c)),bh(n,c,f)),!1}throw Error(s(435,r.tag))}return bh(n,c,f),mh(),!1}if(Ht)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==pu&&(n=Error(s(422),{cause:c}),ir(vn(n,r)))):(c!==pu&&(i=Error(s(423),{cause:c}),ir(vn(i,r))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=vn(c,r),f=Yu(n.stateNode,c,f),Eu(n,f),le!==4&&(le=2)),!1;var m=Error(s(520),{cause:c});if(m=vn(m,r),Er===null?Er=[m]:Er.push(m),le!==4&&(le=2),i===null)return!0;c=vn(c,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=f&-f,r.lanes|=n,n=Yu(r.stateNode,c,n),Eu(r,n),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ii===null||!Ii.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Rg(f),Mg(f,n,r,c),Eu(r,f),!1}r=r.return}while(r!==null);return!1}var Og=Error(s(461)),Ce=!1;function Ne(n,i,r,c){i.child=n===null?Ag(i,null,r,c):sa(i,n.child,r,c)}function Lg(n,i,r,c,f){r=r.render;var m=i.ref;if("ref"in c){var A={};for(var E in c)E!=="ref"&&(A[E]=c[E])}else A=c;return ds(i),c=Mu(n,i,r,A,m,f),E=Ou(),n!==null&&!Ce?(Lu(n,i,f),ui(n,i,f)):(Ht&&E&&du(i),i.flags|=1,Ne(n,i,c,f),i.child)}function Dg(n,i,r,c,f){if(n===null){var m=r.type;return typeof m=="function"&&!cu(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Ng(n,i,m,c,f)):(n=zo(r.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!th(n,f)){var A=m.memoizedProps;if(r=r.compare,r=r!==null?r:Ja,r(A,c)&&n.ref===i.ref)return ui(n,i,f)}return i.flags|=1,n=ii(m,c),n.ref=i.ref,n.return=i,i.child=n}function Ng(n,i,r,c,f){if(n!==null){var m=n.memoizedProps;if(Ja(m,c)&&n.ref===i.ref)if(Ce=!1,i.pendingProps=c=m,th(n,f))(n.flags&131072)!==0&&(Ce=!0);else return i.lanes=n.lanes,ui(n,i,f)}return Xu(n,i,r,c,f)}function kg(n,i,r){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|r:r,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return Pg(n,i,c,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uo(i,m!==null?m.cachePool:null),m!==null?Np(i,m):Tu(),Sg(i);else return i.lanes=i.childLanes=536870912,Pg(n,i,m!==null?m.baseLanes|r:r,r)}else m!==null?(Uo(i,m.cachePool),Np(i,m),Ni(),i.memoizedState=null):(n!==null&&Uo(i,null),Tu(),Ni());return Ne(n,i,f,r),i.child}function Pg(n,i,r,c){var f=Au();return f=f===null?null:{parent:Se._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},n!==null&&Uo(i,null),Tu(),Sg(i),n!==null&&sr(n,i,c,!0),null}function al(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Xu(n,i,r,c,f){return ds(i),r=Mu(n,i,r,c,void 0,f),c=Ou(),n!==null&&!Ce?(Lu(n,i,f),ui(n,i,f)):(Ht&&c&&du(i),i.flags|=1,Ne(n,i,r,f),i.child)}function jg(n,i,r,c,f,m){return ds(i),i.updateQueue=null,r=Pp(i,c,r,f),kp(n),c=Ou(),n!==null&&!Ce?(Lu(n,i,m),ui(n,i,m)):(Ht&&c&&du(i),i.flags|=1,Ne(n,i,r,m),i.child)}function zg(n,i,r,c,f){if(ds(i),i.stateNode===null){var m=$s,A=r.contextType;typeof A=="object"&&A!==null&&(m=Fe(A)),m=new r(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Vu,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},_u(i),A=r.contextType,m.context=typeof A=="object"&&A!==null?Fe(A):$s,m.state=i.memoizedState,A=r.getDerivedStateFromProps,typeof A=="function"&&(qu(i,r,A,c),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&Vu.enqueueReplaceState(m,m.state,null),hr(i,c,m,f),ur(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var E=i.memoizedProps,M=gs(r,E);m.props=M;var H=m.context,K=r.contextType;A=$s,typeof K=="object"&&K!==null&&(A=Fe(K));var J=r.getDerivedStateFromProps;K=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||H!==A)&&wg(i,m,c,A),Ri=!1;var q=i.memoizedState;m.state=q,hr(i,c,m,f),ur(),H=i.memoizedState,E||q!==H||Ri?(typeof J=="function"&&(qu(i,r,J,c),H=i.memoizedState),(M=Ri||_g(i,r,M,c,q,H,A))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=H),m.props=c,m.state=H,m.context=A,c=M):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,wu(n,i),A=i.memoizedProps,K=gs(r,A),m.props=K,J=i.pendingProps,q=m.context,H=r.contextType,M=$s,typeof H=="object"&&H!==null&&(M=Fe(H)),E=r.getDerivedStateFromProps,(H=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==J||q!==M)&&wg(i,m,c,M),Ri=!1,q=i.memoizedState,m.state=q,hr(i,c,m,f),ur();var V=i.memoizedState;A!==J||q!==V||Ri||n!==null&&n.dependencies!==null&&Bo(n.dependencies)?(typeof E=="function"&&(qu(i,r,E,c),V=i.memoizedState),(K=Ri||_g(i,r,K,c,q,V,M)||n!==null&&n.dependencies!==null&&Bo(n.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,V,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,V,M)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=V),m.props=c,m.state=V,m.context=M,c=K):(typeof m.componentDidUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,al(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=sa(i,n.child,null,f),i.child=sa(i,null,r,f)):Ne(n,i,r,f),i.memoizedState=m.state,n=i.child):n=ui(n,i,f),n}function Fg(n,i,r,c){return nr(),i.flags|=256,Ne(n,i,r,c),i.child}var $u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ku(n){return{baseLanes:n,cachePool:xp()}}function Wu(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=En),n}function Ig(n,i,r){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,A;if((A=m)||(A=n!==null&&n.memoizedState===null?!1:(_e.current&2)!==0),A&&(f=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ht){if(f?Di(i):Ni(),Ht){var E=oe,M;if(M=E){t:{for(M=E,E=Fn;M.nodeType!==8;){if(!E){E=null;break t}if(M=Dn(M.nextSibling),M===null){E=null;break t}}E=M}E!==null?(i.memoizedState={dehydrated:E,treeContext:os!==null?{id:si,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},M=rn(18,null,null,0),M.stateNode=E,M.return=i,i.child=M,Ve=i,oe=null,M=!0):M=!1}M||us(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Nh(E)?i.lanes=32:i.lanes=536870912,null;ci(i)}return E=c.children,c=c.fallback,f?(Ni(),f=i.mode,E=rl({mode:"hidden",children:E},f),c=rs(c,f,r,null),E.return=i,c.return=i,E.sibling=c,i.child=E,f=i.child,f.memoizedState=Ku(r),f.childLanes=Wu(n,A,r),i.memoizedState=$u,c):(Di(i),Qu(i,E))}if(M=n.memoizedState,M!==null&&(E=M.dehydrated,E!==null)){if(m)i.flags&256?(Di(i),i.flags&=-257,i=Zu(n,i,r)):i.memoizedState!==null?(Ni(),i.child=n.child,i.flags|=128,i=null):(Ni(),f=c.fallback,E=i.mode,c=rl({mode:"visible",children:c.children},E),f=rs(f,E,r,null),f.flags|=2,c.return=i,f.return=i,c.sibling=f,i.child=c,sa(i,n.child,null,r),c=i.child,c.memoizedState=Ku(r),c.childLanes=Wu(n,A,r),i.memoizedState=$u,i=f);else if(Di(i),Nh(E)){if(A=E.nextSibling&&E.nextSibling.dataset,A)var H=A.dgst;A=H,c=Error(s(419)),c.stack="",c.digest=A,ir({value:c,source:null,stack:null}),i=Zu(n,i,r)}else if(Ce||sr(n,i,r,!1),A=(r&n.childLanes)!==0,Ce||A){if(A=Jt,A!==null&&(c=r&-r,c=(c&42)!==0?1:kc(c),c=(c&(A.suspendedLanes|r))!==0?0:c,c!==0&&c!==M.retryLane))throw M.retryLane=c,Xs(n,c),hn(A,n,c),Og;E.data==="$?"||mh(),i=Zu(n,i,r)}else E.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,oe=Dn(E.nextSibling),Ve=i,Ht=!0,cs=null,Fn=!1,n!==null&&(Sn[_n++]=si,Sn[_n++]=ai,Sn[_n++]=os,si=n.id,ai=n.overflow,os=i),i=Qu(i,c.children),i.flags|=4096);return i}return f?(Ni(),f=c.fallback,E=i.mode,M=n.child,H=M.sibling,c=ii(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,H!==null?f=ii(H,f):(f=rs(f,E,r,null),f.flags|=2),f.return=i,c.return=i,c.sibling=f,i.child=c,c=f,f=i.child,E=n.child.memoizedState,E===null?E=Ku(r):(M=E.cachePool,M!==null?(H=Se._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=xp(),E={baseLanes:E.baseLanes|r,cachePool:M}),f.memoizedState=E,f.childLanes=Wu(n,A,r),i.memoizedState=$u,c):(Di(i),r=n.child,n=r.sibling,r=ii(r,{mode:"visible",children:c.children}),r.return=i,r.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=r,i.memoizedState=null,r)}function Qu(n,i){return i=rl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rl(n,i){return n=rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Zu(n,i,r){return sa(i,n.child,null,r),n=Qu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Bg(n,i,r){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),mu(n.return,i,r)}function Ju(n,i,r,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=r,m.tailMode=f)}function Hg(n,i,r){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(Ne(n,i,c.children,r),c=_e.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bg(n,r,i);else if(n.tag===19)Bg(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(Y(_e,c),f){case"forwards":for(r=i.child,f=null;r!==null;)n=r.alternate,n!==null&&nl(n)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Ju(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&nl(n)===null){i.child=f;break}n=f.sibling,f.sibling=r,r=f,f=n}Ju(i,!0,r,null,m);break;case"together":Ju(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ui(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),Fi|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(sr(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,r=ii(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=ii(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function th(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Bo(n)))}function _A(n,i,r){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Ci(i,Se,n.memoizedState.cache),nr();break;case 27:case 5:Et(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Ci(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Di(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Ig(n,i,r):(Di(i),n=ui(n,i,r),n!==null?n.sibling:null);Di(i);break;case 19:var f=(n.flags&128)!==0;if(c=(r&i.childLanes)!==0,c||(sr(n,i,r,!1),c=(r&i.childLanes)!==0),f){if(c)return Hg(n,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(_e,_e.current),c)break;return null;case 22:case 23:return i.lanes=0,kg(n,i,r);case 24:Ci(i,Se,n.memoizedState.cache)}return ui(n,i,r)}function Ug(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ce=!0;else{if(!th(n,r)&&(i.flags&128)===0)return Ce=!1,_A(n,i,r);Ce=(n.flags&131072)!==0}else Ce=!1,Ht&&(i.flags&1048576)!==0&&bp(i,Io,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var c=i.elementType,f=c._init;if(c=f(c._payload),i.type=c,typeof c=="function")cu(c)?(n=gs(c,n),i.tag=1,i=zg(null,i,c,n,r)):(i.tag=0,i=Xu(null,i,c,n,r));else{if(c!=null){if(f=c.$$typeof,f===L){i.tag=11,i=Lg(null,i,c,n,r);break t}else if(f===N){i.tag=14,i=Dg(null,i,c,n,r);break t}}throw i=rt(c)||c,Error(s(306,i,""))}}return i;case 0:return Xu(n,i,i.type,i.pendingProps,r);case 1:return c=i.type,f=gs(c,i.pendingProps),zg(n,i,c,f,r);case 3:t:{if(bt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,wu(n,i),hr(i,c,null,r);var A=i.memoizedState;if(c=A.cache,Ci(i,Se,c),c!==m.cache&&yu(i,[Se],r,!0),ur(),c=A.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Fg(n,i,c,r);break t}else if(c!==f){f=vn(Error(s(424)),i),ir(f),i=Fg(n,i,c,r);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(oe=Dn(n.firstChild),Ve=i,Ht=!0,cs=null,Fn=!0,r=Ag(i,null,c,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nr(),c===f){i=ui(n,i,r);break t}Ne(n,i,c,r)}i=i.child}return i;case 26:return al(n,i),n===null?(r=Ym(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ht||(r=i.type,n=i.pendingProps,c=Al(ot.current).createElement(r),c[ze]=i,c[$e]=n,Pe(c,r,n),Te(c),i.stateNode=c):i.memoizedState=Ym(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Et(i),n===null&&Ht&&(c=i.stateNode=Gm(i.type,i.pendingProps,ot.current),Ve=i,Fn=!0,f=oe,Ui(i.type)?(kh=f,oe=Dn(c.firstChild)):oe=f),Ne(n,i,i.pendingProps.children,r),al(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ht&&((f=c=oe)&&(c=WA(c,i.type,i.pendingProps,Fn),c!==null?(i.stateNode=c,Ve=i,oe=Dn(c.firstChild),Fn=!1,f=!0):f=!1),f||us(i)),Et(i),f=i.type,m=i.pendingProps,A=n!==null?n.memoizedProps:null,c=m.children,Oh(f,m)?c=null:A!==null&&Oh(f,A)&&(i.flags|=32),i.memoizedState!==null&&(f=Mu(n,i,pA,null,null,r),Nr._currentValue=f),al(n,i),Ne(n,i,c,r),i.child;case 6:return n===null&&Ht&&((n=r=oe)&&(r=QA(r,i.pendingProps,Fn),r!==null?(i.stateNode=r,Ve=i,oe=null,n=!0):n=!1),n||us(i)),null;case 13:return Ig(n,i,r);case 4:return bt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=sa(i,null,c,r):Ne(n,i,c,r),i.child;case 11:return Lg(n,i,i.type,i.pendingProps,r);case 7:return Ne(n,i,i.pendingProps,r),i.child;case 8:return Ne(n,i,i.pendingProps.children,r),i.child;case 12:return Ne(n,i,i.pendingProps.children,r),i.child;case 10:return c=i.pendingProps,Ci(i,i.type,c.value),Ne(n,i,c.children,r),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,ds(i),f=Fe(f),c=c(f),i.flags|=1,Ne(n,i,c,r),i.child;case 14:return Dg(n,i,i.type,i.pendingProps,r);case 15:return Ng(n,i,i.type,i.pendingProps,r);case 19:return Hg(n,i,r);case 31:return c=i.pendingProps,r=i.mode,c={mode:c.mode,children:c.children},n===null?(r=rl(c,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=ii(n.child,c),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return kg(n,i,r);case 24:return ds(i),c=Fe(Se),n===null?(f=Au(),f===null&&(f=Jt,m=bu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:c,cache:f},_u(i),Ci(i,Se,f)):((n.lanes&r)!==0&&(wu(n,i),hr(i,null,null,r),ur()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ci(i,Se,c)):(c=m.cache,Ci(i,Se,c),c!==f.cache&&yu(i,[Se],r,!0))),Ne(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hi(n){n.flags|=4}function Gg(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Qm(i)){if(i=wn.current,i!==null&&((kt&4194048)===kt?In!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==In))throw lr=Su,Tp;n.flags|=8192}}function ol(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Sf():536870912,n.lanes|=i,la|=i)}function br(n,i){if(!Ht)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function se(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,c=0;if(i)for(var f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)r|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=r,i}function wA(n,i,r){var c=i.pendingProps;switch(fu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return r=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),oi(Se),Pt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(er(i)?hi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sp())),se(i),null;case 26:return r=i.memoizedState,n===null?(hi(i),r!==null?(se(i),Gg(i,r)):(se(i),i.flags&=-16777217)):r?r!==n.memoizedState?(hi(i),se(i),Gg(i,r)):(se(i),i.flags&=-16777217):(n.memoizedProps!==c&&hi(i),se(i),i.flags&=-16777217),null;case 27:zt(i),r=ot.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&hi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return se(i),null}n=tt.current,er(i)?vp(i):(n=Gm(f,c,r),i.stateNode=n,hi(i))}return se(i),null;case 5:if(zt(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&hi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(n=tt.current,er(i))vp(i);else{switch(f=Al(ot.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(r,{is:c.is}):f.createElement(r)}}n[ze]=i,n[$e]=c;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(Pe(n,r,c),r){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&hi(i)}}return se(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&hi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=ot.current,er(i)){if(n=i.stateNode,r=i.memoizedProps,c=null,f=Ve,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[ze]=i,n=!!(n.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||jm(n.nodeValue,r)),n||us(i)}else n=Al(n).createTextNode(c),n[ze]=i,i.stateNode=n}return se(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=er(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ze]=i}else nr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),f=!1}else f=Sp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ci(i),i):(ci(i),null)}if(ci(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=c!==null,n=n!==null&&n.memoizedState!==null,r){c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),ol(i,i.updateQueue),se(i),null;case 4:return Pt(),n===null&&xh(i.stateNode.containerInfo),se(i),null;case 10:return oi(i.type),se(i),null;case 19:if(G(_e),f=i.memoizedState,f===null)return se(i),null;if(c=(i.flags&128)!==0,m=f.rendering,m===null)if(c)br(f,!1);else{if(le!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=nl(n),m!==null){for(i.flags|=128,br(f,!1),n=m.updateQueue,i.updateQueue=n,ol(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)yp(r,n),r=r.sibling;return Y(_e,_e.current&1|2),i.child}n=n.sibling}f.tail!==null&&jt()>ul&&(i.flags|=128,c=!0,br(f,!1),i.lanes=4194304)}else{if(!c)if(n=nl(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,ol(i,n),br(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ht)return se(i),null}else 2*jt()-f.renderingStartTime>ul&&r!==536870912&&(i.flags|=128,c=!0,br(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=jt(),i.sibling=null,n=_e.current,Y(_e,c?n&1|2:n&1),i):(se(i),null);case 22:case 23:return ci(i),Cu(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(r&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),r=i.updateQueue,r!==null&&ol(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==r&&(i.flags|=2048),n!==null&&G(fs),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),oi(Se),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function EA(n,i){switch(fu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return oi(Se),Pt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return zt(i),null;case 13:if(ci(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));nr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return G(_e),null;case 4:return Pt(),null;case 10:return oi(i.type),null;case 22:case 23:return ci(i),Cu(),n!==null&&G(fs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return oi(Se),null;case 25:return null;default:return null}}function qg(n,i){switch(fu(i),i.tag){case 3:oi(Se),Pt();break;case 26:case 27:case 5:zt(i);break;case 4:Pt();break;case 13:ci(i);break;case 19:G(_e);break;case 10:oi(i.type);break;case 22:case 23:ci(i),Cu(),n!==null&&G(fs);break;case 24:oi(Se)}}function vr(n,i){try{var r=i.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&n)===n){c=void 0;var m=r.create,A=r.inst;c=m(),A.destroy=c}r=r.next}while(r!==f)}}catch(E){Qt(i,i.return,E)}}function ki(n,i,r){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var A=c.inst,E=A.destroy;if(E!==void 0){A.destroy=void 0,f=i;var M=r,H=E;try{H()}catch(K){Qt(f,M,K)}}}c=c.next}while(c!==m)}}catch(K){Qt(i,i.return,K)}}function Vg(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Dp(i,r)}catch(c){Qt(n,n.return,c)}}}function Yg(n,i,r){r.props=gs(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(c){Qt(n,i,c)}}function Ar(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof r=="function"?n.refCleanup=r(c):r.current=c}}catch(f){Qt(n,i,f)}}function Bn(n,i){var r=n.ref,c=n.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(f){Qt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Qt(n,i,f)}else r.current=null}function Xg(n){var i=n.type,r=n.memoizedProps,c=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(f){Qt(n,n.return,f)}}function eh(n,i,r){try{var c=n.stateNode;VA(c,n.type,r,i),c[$e]=i}catch(f){Qt(n,n.return,f)}}function $g(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function nh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||$g(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ih(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=vl));else if(c!==4&&(c===27&&Ui(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(ih(n,i,r),n=n.sibling;n!==null;)ih(n,i,r),n=n.sibling}function ll(n,i,r){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(c!==4&&(c===27&&Ui(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(ll(n,i,r),n=n.sibling;n!==null;)ll(n,i,r),n=n.sibling}function Kg(n){var i=n.stateNode,r=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Pe(i,c,r),i[ze]=n,i[$e]=r}catch(m){Qt(n,n.return,m)}}var di=!1,ue=!1,sh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,Re=null;function xA(n,i){if(n=n.containerInfo,Rh=Tl,n=op(n),nu(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var A=0,E=-1,M=-1,H=0,K=0,J=n,q=null;e:for(;;){for(var V;J!==r||f!==0&&J.nodeType!==3||(E=A+f),J!==m||c!==0&&J.nodeType!==3||(M=A+c),J.nodeType===3&&(A+=J.nodeValue.length),(V=J.firstChild)!==null;)q=J,J=V;for(;;){if(J===n)break e;if(q===r&&++H===f&&(E=A),q===m&&++K===c&&(M=A),(V=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=V}r=E===-1||M===-1?null:{start:E,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mh={focusedElem:n,selectionRange:r},Tl=!1,Re=i;Re!==null;)if(i=Re,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Re=n;else for(;Re!==null;){switch(i=Re,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var vt=gs(r.type,f,r.elementType===r.type);n=c.getSnapshotBeforeUpdate(vt,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(gt){Qt(r,r.return,gt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Dh(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Re=n;break}Re=i.return}}function Qg(n,i,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(n,r),c&4&&vr(5,r);break;case 1:if(Pi(n,r),c&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(A){Qt(r,r.return,A)}else{var f=gs(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Qt(r,r.return,A)}}c&64&&Vg(r),c&512&&Ar(r,r.return);break;case 3:if(Pi(n,r),c&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Dp(n,i)}catch(A){Qt(r,r.return,A)}}break;case 27:i===null&&c&4&&Kg(r);case 26:case 5:Pi(n,r),i===null&&c&4&&Xg(r),c&512&&Ar(r,r.return);break;case 12:Pi(n,r);break;case 13:Pi(n,r),c&4&&tm(n,r),c&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=kA.bind(null,r),ZA(n,r))));break;case 22:if(c=r.memoizedState!==null||di,!c){i=i!==null&&i.memoizedState!==null||ue,f=di;var m=ue;di=c,(ue=i)&&!m?ji(n,r,(r.subtreeFlags&8772)!==0):Pi(n,r),di=f,ue=m}break;case 30:break;default:Pi(n,r)}}function Zg(n){var i=n.alternate;i!==null&&(n.alternate=null,Zg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&zc(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ee=null,Qe=!1;function fi(n,i,r){for(r=r.child;r!==null;)Jg(n,i,r),r=r.sibling}function Jg(n,i,r){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(ts,r)}catch{}switch(r.tag){case 26:ue||Bn(r,i),fi(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Bn(r,i);var c=ee,f=Qe;Ui(r.type)&&(ee=r.stateNode,Qe=!1),fi(n,i,r),Mr(r.stateNode),ee=c,Qe=f;break;case 5:ue||Bn(r,i);case 6:if(c=ee,f=Qe,ee=null,fi(n,i,r),ee=c,Qe=f,ee!==null)if(Qe)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(m){Qt(r,i,m)}else try{ee.removeChild(r.stateNode)}catch(m){Qt(r,i,m)}break;case 18:ee!==null&&(Qe?(n=ee,Hm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),zr(n)):Hm(ee,r.stateNode));break;case 4:c=ee,f=Qe,ee=r.stateNode.containerInfo,Qe=!0,fi(n,i,r),ee=c,Qe=f;break;case 0:case 11:case 14:case 15:ue||ki(2,r,i),ue||ki(4,r,i),fi(n,i,r);break;case 1:ue||(Bn(r,i),c=r.stateNode,typeof c.componentWillUnmount=="function"&&Yg(r,i,c)),fi(n,i,r);break;case 21:fi(n,i,r);break;case 22:ue=(c=ue)||r.memoizedState!==null,fi(n,i,r),ue=c;break;default:fi(n,i,r)}}function tm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zr(n)}catch(r){Qt(i,i.return,r)}}function TA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Wg),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Wg),i;default:throw Error(s(435,n.tag))}}function ah(n,i){var r=TA(n);i.forEach(function(c){var f=PA.bind(null,n,c);r.has(c)||(r.add(c),c.then(f,f))})}function on(n,i){var r=i.deletions;if(r!==null)for(var c=0;c<r.length;c++){var f=r[c],m=n,A=i,E=A;t:for(;E!==null;){switch(E.tag){case 27:if(Ui(E.type)){ee=E.stateNode,Qe=!1;break t}break;case 5:ee=E.stateNode,Qe=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,Qe=!0;break t}E=E.return}if(ee===null)throw Error(s(160));Jg(m,A,f),ee=null,Qe=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)em(i,n),i=i.sibling}var Ln=null;function em(n,i){var r=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:on(i,n),ln(n),c&4&&(ki(3,n,n.return),vr(3,n),ki(5,n,n.return));break;case 1:on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),c&64&&di&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var f=Ln;if(on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=n.memoizedState,r===null)if(c===null)if(n.stateNode===null){t:{c=n.type,r=n.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[qa]||m[ze]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Pe(m,c,r),m[ze]=n,Te(m),c=m;break t;case"link":var A=Km("link","href",f).get(c+(r.href||""));if(A){for(var E=0;E<A.length;E++)if(m=A[E],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){A.splice(E,1);break e}}m=f.createElement(c),Pe(m,c,r),f.head.appendChild(m);break;case"meta":if(A=Km("meta","content",f).get(c+(r.content||""))){for(E=0;E<A.length;E++)if(m=A[E],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){A.splice(E,1);break e}}m=f.createElement(c),Pe(m,c,r),f.head.appendChild(m);break;default:throw Error(s(468,c))}m[ze]=n,Te(m),c=m}n.stateNode=c}else Wm(f,n.type,n.stateNode);else n.stateNode=$m(f,c,n.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?Wm(f,n.type,n.stateNode):$m(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&eh(n,n.memoizedProps,r.memoizedProps)}break;case 27:on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),r!==null&&c&4&&eh(n,n.memoizedProps,r.memoizedProps);break;case 5:if(on(i,n),ln(n),c&512&&(ue||r===null||Bn(r,r.return)),n.flags&32){f=n.stateNode;try{Bs(f,"")}catch(V){Qt(n,n.return,V)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,eh(n,f,r!==null?r.memoizedProps:f)),c&1024&&(sh=!0);break;case 6:if(on(i,n),ln(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,r=n.stateNode;try{r.nodeValue=c}catch(V){Qt(n,n.return,V)}}break;case 3:if(wl=null,f=Ln,Ln=Sl(i.containerInfo),on(i,n),Ln=f,ln(n),c&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(i.containerInfo)}catch(V){Qt(n,n.return,V)}sh&&(sh=!1,nm(n));break;case 4:c=Ln,Ln=Sl(n.stateNode.containerInfo),on(i,n),ln(n),Ln=c;break;case 12:on(i,n),ln(n);break;case 13:on(i,n),ln(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(hh=jt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ah(n,c)));break;case 22:f=n.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,H=di,K=ue;if(di=H||f,ue=K||M,on(i,n),ue=K,di=H,ln(n),c&8192)t:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||M||di||ue||ms(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(m=M.stateNode,f)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{E=M.stateNode;var J=M.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(V){Qt(M,M.return,V)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(V){Qt(M,M.return,V)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,ah(n,r))));break;case 19:on(i,n),ln(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ah(n,c)));break;case 30:break;case 21:break;default:on(i,n),ln(n)}}function ln(n){var i=n.flags;if(i&2){try{for(var r,c=n.return;c!==null;){if($g(c)){r=c;break}c=c.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,m=nh(n);ll(n,m,f);break;case 5:var A=r.stateNode;r.flags&32&&(Bs(A,""),r.flags&=-33);var E=nh(n);ll(n,E,A);break;case 3:case 4:var M=r.stateNode.containerInfo,H=nh(n);ih(n,H,M);break;default:throw Error(s(161))}}catch(K){Qt(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function nm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;nm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Pi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qg(n,i.alternate,i),i=i.sibling}function ms(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ki(4,i,i.return),ms(i);break;case 1:Bn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Yg(i,i.return,r),ms(i);break;case 27:Mr(i.stateNode);case 26:case 5:Bn(i,i.return),ms(i);break;case 22:i.memoizedState===null&&ms(i);break;case 30:ms(i);break;default:ms(i)}n=n.sibling}}function ji(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,A=m.flags;switch(m.tag){case 0:case 11:case 15:ji(f,m,r),vr(4,m);break;case 1:if(ji(f,m,r),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Qt(c,c.return,H)}if(c=m,f=c.updateQueue,f!==null){var E=c.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Lp(M[f],E)}catch(H){Qt(c,c.return,H)}}r&&A&64&&Vg(m),Ar(m,m.return);break;case 27:Kg(m);case 26:case 5:ji(f,m,r),r&&c===null&&A&4&&Xg(m),Ar(m,m.return);break;case 12:ji(f,m,r);break;case 13:ji(f,m,r),r&&A&4&&tm(f,m);break;case 22:m.memoizedState===null&&ji(f,m,r),Ar(m,m.return);break;case 30:break;default:ji(f,m,r)}i=i.sibling}}function rh(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&ar(r))}function oh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ar(n))}function Hn(n,i,r,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)im(n,i,r,c),i=i.sibling}function im(n,i,r,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Hn(n,i,r,c),f&2048&&vr(9,i);break;case 1:Hn(n,i,r,c);break;case 3:Hn(n,i,r,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ar(n)));break;case 12:if(f&2048){Hn(n,i,r,c),n=i.stateNode;try{var m=i.memoizedProps,A=m.id,E=m.onPostCommit;typeof E=="function"&&E(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Qt(i,i.return,M)}}else Hn(n,i,r,c);break;case 13:Hn(n,i,r,c);break;case 23:break;case 22:m=i.stateNode,A=i.alternate,i.memoizedState!==null?m._visibility&2?Hn(n,i,r,c):Sr(n,i):m._visibility&2?Hn(n,i,r,c):(m._visibility|=2,aa(n,i,r,c,(i.subtreeFlags&10256)!==0)),f&2048&&rh(A,i);break;case 24:Hn(n,i,r,c),f&2048&&oh(i.alternate,i);break;default:Hn(n,i,r,c)}}function aa(n,i,r,c,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,A=i,E=r,M=c,H=A.flags;switch(A.tag){case 0:case 11:case 15:aa(m,A,E,M,f),vr(8,A);break;case 23:break;case 22:var K=A.stateNode;A.memoizedState!==null?K._visibility&2?aa(m,A,E,M,f):Sr(m,A):(K._visibility|=2,aa(m,A,E,M,f)),f&&H&2048&&rh(A.alternate,A);break;case 24:aa(m,A,E,M,f),f&&H&2048&&oh(A.alternate,A);break;default:aa(m,A,E,M,f)}i=i.sibling}}function Sr(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,c=i,f=c.flags;switch(c.tag){case 22:Sr(r,c),f&2048&&rh(c.alternate,c);break;case 24:Sr(r,c),f&2048&&oh(c.alternate,c);break;default:Sr(r,c)}i=i.sibling}}var _r=8192;function ra(n){if(n.subtreeFlags&_r)for(n=n.child;n!==null;)sm(n),n=n.sibling}function sm(n){switch(n.tag){case 26:ra(n),n.flags&_r&&n.memoizedState!==null&&h1(Ln,n.memoizedState,n.memoizedProps);break;case 5:ra(n);break;case 3:case 4:var i=Ln;Ln=Sl(n.stateNode.containerInfo),ra(n),Ln=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=_r,_r=16777216,ra(n),_r=i):ra(n));break;default:ra(n)}}function am(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function wr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];Re=c,om(c,n)}am(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rm(n),n=n.sibling}function rm(n){switch(n.tag){case 0:case 11:case 15:wr(n),n.flags&2048&&ki(9,n,n.return);break;case 3:wr(n);break;case 12:wr(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,cl(n)):wr(n);break;default:wr(n)}}function cl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var c=i[r];Re=c,om(c,n)}am(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ki(8,i,i.return),cl(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,cl(i));break;default:cl(i)}n=n.sibling}}function om(n,i){for(;Re!==null;){var r=Re;switch(r.tag){case 0:case 11:case 15:ki(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ar(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,Re=c;else t:for(r=n;Re!==null;){c=Re;var f=c.sibling,m=c.return;if(Zg(c),c===r){Re=null;break t}if(f!==null){f.return=m,Re=f;break t}Re=m}}}var CA={getCacheForType:function(n){var i=Fe(Se),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},RA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Mt=null,kt=0,qt=0,cn=null,zi=!1,oa=!1,lh=!1,pi=0,le=0,Fi=0,ys=0,ch=0,En=0,la=0,Er=null,Ze=null,uh=!1,hh=0,ul=1/0,hl=null,Ii=null,ke=0,Bi=null,ca=null,ua=0,dh=0,fh=null,lm=null,xr=0,ph=null;function un(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(D.T!==null){var n=Qs;return n!==0?n:Sh()}return Ef()}function cm(){En===0&&(En=(kt&536870912)===0||Ht?Af():536870912);var n=wn.current;return n!==null&&(n.flags|=32),En}function hn(n,i,r){(n===Jt&&(qt===2||qt===9)||n.cancelPendingCommit!==null)&&(ha(n,0),Hi(n,kt,En,!1)),Ga(n,r),((Gt&2)===0||n!==Jt)&&(n===Jt&&((Gt&2)===0&&(ys|=r),le===4&&Hi(n,kt,En,!1)),Un(n))}function um(n,i,r){if((Gt&6)!==0)throw Error(s(327));var c=!r&&(i&124)===0&&(i&n.expiredLanes)===0||Ua(n,i),f=c?LA(n,i):yh(n,i,!0),m=c;do{if(f===0){oa&&!c&&Hi(n,i,0,!1);break}else{if(r=n.current.alternate,m&&!MA(r)){f=yh(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var E=n;f=Er;var M=E.current.memoizedState.isDehydrated;if(M&&(ha(E,A).flags|=256),A=yh(E,A,!1),A!==2){if(lh&&!M){E.errorRecoveryDisabledLanes|=m,ys|=m,f=4;break t}m=Ze,Ze=f,m!==null&&(Ze===null?Ze=m:Ze.push.apply(Ze,m))}f=A}if(m=!1,f!==2)continue}}if(f===1){ha(n,0),Hi(n,i,0,!0);break}t:{switch(c=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hi(c,i,En,!zi);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=hh+300-jt(),10<f)){if(Hi(c,i,En,!zi),_o(c,0,!0)!==0)break t;c.timeoutHandle=Im(hm.bind(null,c,r,Ze,hl,uh,i,En,ys,la,zi,m,2,-0,0),f);break t}hm(c,r,Ze,hl,uh,i,En,ys,la,zi,m,0,-0,0)}}break}while(!0);Un(n)}function hm(n,i,r,c,f,m,A,E,M,H,K,J,q,V){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Dr={stylesheets:null,count:0,unsuspend:u1},sm(i),J=d1(),J!==null)){n.cancelPendingCommit=J(bm.bind(null,n,i,m,r,c,f,A,E,M,K,1,q,V)),Hi(n,m,A,!H);return}bm(n,i,m,r,c,f,A,E,M)}function MA(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var f=r[c],m=f.getSnapshot;f=f.value;try{if(!an(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(n,i,r,c){i&=~ch,i&=~ys,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-xe(f),A=1<<m;c[m]=-1,f&=~A}r!==0&&_f(n,r,i)}function dl(){return(Gt&6)===0?(Tr(0),!1):!0}function gh(){if(Mt!==null){if(qt===0)var n=Mt.return;else n=Mt,ri=hs=null,Du(n),ia=null,mr=0,n=Mt;for(;n!==null;)qg(n.alternate,n),n=n.return;Mt=null}}function ha(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,XA(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),gh(),Jt=n,Mt=r=ii(n.current,null),kt=i,qt=0,cn=null,zi=!1,oa=Ua(n,i),lh=!1,la=En=ch=ys=Fi=le=0,Ze=Er=null,uh=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-xe(c),m=1<<f;i|=n[f],c&=~m}return pi=i,ko(),r}function dm(n,i){Ct=null,D.H=Jo,i===or||i===Go?(i=Mp(),qt=3):i===Tp?(i=Mp(),qt=4):qt=i===Og?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,Mt===null&&(le=1,sl(n,vn(i,n.current)))}function fm(){var n=D.H;return D.H=Jo,n===null?Jo:n}function pm(){var n=D.A;return D.A=CA,n}function mh(){le=4,zi||(kt&4194048)!==kt&&wn.current!==null||(oa=!0),(Fi&134217727)===0&&(ys&134217727)===0||Jt===null||Hi(Jt,kt,En,!1)}function yh(n,i,r){var c=Gt;Gt|=2;var f=fm(),m=pm();(Jt!==n||kt!==i)&&(hl=null,ha(n,i)),i=!1;var A=le;t:do try{if(qt!==0&&Mt!==null){var E=Mt,M=cn;switch(qt){case 8:gh(),A=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var H=qt;if(qt=0,cn=null,da(n,E,M,H),r&&oa){A=0;break t}break;default:H=qt,qt=0,cn=null,da(n,E,M,H)}}OA(),A=le;break}catch(K){dm(n,K)}while(!0);return i&&n.shellSuspendCounter++,ri=hs=null,Gt=c,D.H=f,D.A=m,Mt===null&&(Jt=null,kt=0,ko()),A}function OA(){for(;Mt!==null;)gm(Mt)}function LA(n,i){var r=Gt;Gt|=2;var c=fm(),f=pm();Jt!==n||kt!==i?(hl=null,ul=jt()+500,ha(n,i)):oa=Ua(n,i);t:do try{if(qt!==0&&Mt!==null){i=Mt;var m=cn;e:switch(qt){case 1:qt=0,cn=null,da(n,i,m,1);break;case 2:case 9:if(Cp(m)){qt=0,cn=null,mm(i);break}i=function(){qt!==2&&qt!==9||Jt!==n||(qt=7),Un(n)},m.then(i,i);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Cp(m)?(qt=0,cn=null,mm(i)):(qt=0,cn=null,da(n,i,m,7));break;case 5:var A=null;switch(Mt.tag){case 26:A=Mt.memoizedState;case 5:case 27:var E=Mt;if(!A||Qm(A)){qt=0,cn=null;var M=E.sibling;if(M!==null)Mt=M;else{var H=E.return;H!==null?(Mt=H,fl(H)):Mt=null}break e}}qt=0,cn=null,da(n,i,m,5);break;case 6:qt=0,cn=null,da(n,i,m,6);break;case 8:gh(),le=6;break t;default:throw Error(s(462))}}DA();break}catch(K){dm(n,K)}while(!0);return ri=hs=null,D.H=c,D.A=f,Gt=r,Mt!==null?0:(Jt=null,kt=0,ko(),le)}function DA(){for(;Mt!==null&&!_t();)gm(Mt)}function gm(n){var i=Ug(n.alternate,n,pi);n.memoizedProps=n.pendingProps,i===null?fl(n):Mt=i}function mm(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=jg(r,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=jg(r,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Du(i);default:qg(r,i),i=Mt=yp(i,pi),i=Ug(r,i,pi)}n.memoizedProps=n.pendingProps,i===null?fl(n):Mt=i}function da(n,i,r,c){ri=hs=null,Du(i),ia=null,mr=0;var f=i.return;try{if(SA(n,f,i,r,kt)){le=1,sl(n,vn(r,n.current)),Mt=null;return}}catch(m){if(f!==null)throw Mt=f,m;le=1,sl(n,vn(r,n.current)),Mt=null;return}i.flags&32768?(Ht||c===1?n=!0:oa||(kt&536870912)!==0?n=!1:(zi=n=!0,(c===2||c===9||c===3||c===6)&&(c=wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ym(i,n)):fl(i)}function fl(n){var i=n;do{if((i.flags&32768)!==0){ym(i,zi);return}n=i.return;var r=wA(i.alternate,i,pi);if(r!==null){Mt=r;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=n}while(i!==null);le===0&&(le=5)}function ym(n,i){do{var r=EA(n.alternate,n);if(r!==null){r.flags&=32767,Mt=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Mt=n;return}Mt=n=r}while(n!==null);le=6,Mt=null}function bm(n,i,r,c,f,m,A,E,M){n.cancelPendingCommit=null;do pl();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=ou,uv(n,r,m,A,E,M),n===Jt&&(Mt=Jt=null,kt=0),ca=i,Bi=n,ua=r,dh=m,fh=f,lm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jA(Ee,function(){return wm(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,f=B.p,B.p=2,A=Gt,Gt|=4;try{xA(n,i,r)}finally{Gt=A,B.p=f,D.T=c}}ke=1,vm(),Am(),Sm()}}function vm(){if(ke===1){ke=0;var n=Bi,i=ca,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=D.T,D.T=null;var c=B.p;B.p=2;var f=Gt;Gt|=4;try{em(i,n);var m=Mh,A=op(n.containerInfo),E=m.focusedElem,M=m.selectionRange;if(A!==E&&E&&E.ownerDocument&&rp(E.ownerDocument.documentElement,E)){if(M!==null&&nu(E)){var H=M.start,K=M.end;if(K===void 0&&(K=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var V=q.getSelection(),vt=E.textContent.length,gt=Math.min(M.start,vt),Kt=M.end===void 0?gt:Math.min(M.end,vt);!V.extend&&gt>Kt&&(A=Kt,Kt=gt,gt=A);var z=ap(E,gt),k=ap(E,Kt);if(z&&k&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==k.node||V.focusOffset!==k.offset)){var I=J.createRange();I.setStart(z.node,z.offset),V.removeAllRanges(),gt>Kt?(V.addRange(I),V.extend(k.node,k.offset)):(I.setEnd(k.node,k.offset),V.addRange(I))}}}}for(J=[],V=E;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var W=J[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Tl=!!Rh,Mh=Rh=null}finally{Gt=f,B.p=c,D.T=r}}n.current=i,ke=2}}function Am(){if(ke===2){ke=0;var n=Bi,i=ca,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=D.T,D.T=null;var c=B.p;B.p=2;var f=Gt;Gt|=4;try{Qg(n,i.alternate,i)}finally{Gt=f,B.p=c,D.T=r}}ke=3}}function Sm(){if(ke===4||ke===3){ke=0,Dt();var n=Bi,i=ca,r=ua,c=lm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,ca=Bi=null,_m(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ii=null),Pc(r),i=i.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(ts,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=D.T,f=B.p,B.p=2,D.T=null;try{for(var m=n.onRecoverableError,A=0;A<c.length;A++){var E=c[A];m(E.value,{componentStack:E.stack})}}finally{D.T=i,B.p=f}}(ua&3)!==0&&pl(),Un(n),f=n.pendingLanes,(r&4194090)!==0&&(f&42)!==0?n===ph?xr++:(xr=0,ph=n):xr=0,Tr(0)}}function _m(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ar(i)))}function pl(n){return vm(),Am(),Sm(),wm()}function wm(){if(ke!==5)return!1;var n=Bi,i=dh;dh=0;var r=Pc(ua),c=D.T,f=B.p;try{B.p=32>r?32:r,D.T=null,r=fh,fh=null;var m=Bi,A=ua;if(ke=0,ca=Bi=null,ua=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,rm(m.current),im(m,m.current,A,r),Gt=E,Tr(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(ts,m)}catch{}return!0}finally{B.p=f,D.T=c,_m(n,i)}}function Em(n,i,r){i=vn(r,i),i=Yu(n.stateNode,i,2),n=Oi(n,i,2),n!==null&&(Ga(n,2),Un(n))}function Qt(n,i,r){if(n.tag===3)Em(n,n,r);else for(;i!==null;){if(i.tag===3){Em(i,n,r);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ii===null||!Ii.has(c))){n=vn(r,n),r=Rg(2),c=Oi(i,r,2),c!==null&&(Mg(r,c,i,n),Ga(c,2),Un(c));break}}i=i.return}}function bh(n,i,r){var c=n.pingCache;if(c===null){c=n.pingCache=new RA;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(r)||(lh=!0,f.add(r),n=NA.bind(null,n,i,r),i.then(n,n))}function NA(n,i,r){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Jt===n&&(kt&r)===r&&(le===4||le===3&&(kt&62914560)===kt&&300>jt()-hh?(Gt&2)===0&&ha(n,0):ch|=r,la===kt&&(la=0)),Un(n)}function xm(n,i){i===0&&(i=Sf()),n=Xs(n,i),n!==null&&(Ga(n,i),Un(n))}function kA(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),xm(n,r)}function PA(n,i){var r=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(r=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),xm(n,r)}function jA(n,i){return Vt(n,i)}var gl=null,fa=null,vh=!1,ml=!1,Ah=!1,bs=0;function Un(n){n!==fa&&n.next===null&&(fa===null?gl=fa=n:fa=fa.next=n),ml=!0,vh||(vh=!0,FA())}function Tr(n,i){if(!Ah&&ml){Ah=!0;do for(var r=!1,c=gl;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var A=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-xe(42|n)+1)-1,m&=f&~(A&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Mm(c,m))}else m=kt,m=_o(c,c===Jt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ua(c,m)||(r=!0,Mm(c,m));c=c.next}while(r);Ah=!1}}function zA(){Tm()}function Tm(){ml=vh=!1;var n=0;bs!==0&&(YA()&&(n=bs),bs=0);for(var i=jt(),r=null,c=gl;c!==null;){var f=c.next,m=Cm(c,i);m===0?(c.next=null,r===null?gl=f:r.next=f,f===null&&(fa=r)):(r=c,(n!==0||(m&3)!==0)&&(ml=!0)),c=f}Tr(n)}function Cm(n,i){for(var r=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var A=31-xe(m),E=1<<A,M=f[A];M===-1?((E&r)===0||(E&c)!==0)&&(f[A]=cv(E,i)):M<=i&&(n.expiredLanes|=E),m&=~E}if(i=Jt,r=kt,r=_o(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,r===0||n===i&&(qt===2||qt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Tt(c),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Ua(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(c!==null&&Tt(c),Pc(r)){case 2:case 8:r=Ei;break;case 32:r=Ee;break;case 268435456:r=ti;break;default:r=Ee}return c=Rm.bind(null,n),r=Vt(r,c),n.callbackPriority=i,n.callbackNode=r,i}return c!==null&&c!==null&&Tt(c),n.callbackPriority=2,n.callbackNode=null,2}function Rm(n,i){if(ke!==0&&ke!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(pl()&&n.callbackNode!==r)return null;var c=kt;return c=_o(n,n===Jt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(um(n,c,i),Cm(n,jt()),n.callbackNode!=null&&n.callbackNode===r?Rm.bind(null,n):null)}function Mm(n,i){if(pl())return null;um(n,i,!0)}function FA(){$A(function(){(Gt&6)!==0?Vt(nn,zA):Tm()})}function Sh(){return bs===0&&(bs=Af()),bs}function Om(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Co(""+n)}function Lm(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function IA(n,i,r,c,f){if(i==="submit"&&r&&r.stateNode===f){var m=Om((f[$e]||null).action),A=c.submitter;A&&(i=(i=A[$e]||null)?Om(i.formAction):A.getAttribute("formAction"),i!==null&&(m=i,A=null));var E=new Lo("action","action",null,c,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var M=A?Lm(f,A):new FormData(f);Hu(r,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(E.preventDefault(),M=A?Lm(f,A):new FormData(f),Hu(r,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var _h=0;_h<ru.length;_h++){var wh=ru[_h],BA=wh.toLowerCase(),HA=wh[0].toUpperCase()+wh.slice(1);On(BA,"on"+HA)}On(up,"onAnimationEnd"),On(hp,"onAnimationIteration"),On(dp,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(sA,"onTransitionRun"),On(aA,"onTransitionStart"),On(rA,"onTransitionCancel"),On(fp,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cr));function Dm(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var c=n[r],f=c.event;c=c.listeners;t:{var m=void 0;if(i)for(var A=c.length-1;0<=A;A--){var E=c[A],M=E.instance,H=E.currentTarget;if(E=E.listener,M!==m&&f.isPropagationStopped())break t;m=E,f.currentTarget=H;try{m(f)}catch(K){il(K)}f.currentTarget=null,m=M}else for(A=0;A<c.length;A++){if(E=c[A],M=E.instance,H=E.currentTarget,E=E.listener,M!==m&&f.isPropagationStopped())break t;m=E,f.currentTarget=H;try{m(f)}catch(K){il(K)}f.currentTarget=null,m=M}}}}function Ot(n,i){var r=i[jc];r===void 0&&(r=i[jc]=new Set);var c=n+"__bubble";r.has(c)||(Nm(i,n,2,!1),r.add(c))}function Eh(n,i,r){var c=0;i&&(c|=4),Nm(r,n,c,i)}var yl="_reactListening"+Math.random().toString(36).slice(2);function xh(n){if(!n[yl]){n[yl]=!0,Tf.forEach(function(r){r!=="selectionchange"&&(UA.has(r)||Eh(r,!1,n),Eh(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[yl]||(i[yl]=!0,Eh("selectionchange",!1,i))}}function Nm(n,i,r,c){switch(i0(i)){case 2:var f=g1;break;case 8:f=m1;break;default:f=Ih}r=f.bind(null,i,r,n),f=void 0,!Xc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,r,{capture:!0,passive:f}):n.addEventListener(i,r,!0):f!==void 0?n.addEventListener(i,r,{passive:f}):n.addEventListener(i,r,!1)}function Th(n,i,r,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var E=c.stateNode.containerInfo;if(E===f)break;if(A===4)for(A=c.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===f)return;A=A.return}for(;E!==null;){if(A=ks(E),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){c=m=A;continue t}E=E.parentNode}}c=c.return}Bf(function(){var H=m,K=Vc(r),J=[];t:{var q=pp.get(n);if(q!==void 0){var V=Lo,vt=n;switch(n){case"keypress":if(Mo(r)===0)break t;case"keydown":case"keyup":V=jv;break;case"focusin":vt="focus",V=Qc;break;case"focusout":vt="blur",V=Qc;break;case"beforeblur":case"afterblur":V=Qc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Iv;break;case up:case hp:case dp:V=Cv;break;case fp:V=Hv;break;case"scroll":case"scrollend":V=_v;break;case"wheel":V=Gv;break;case"copy":case"cut":case"paste":V=Mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Vf;break;case"toggle":case"beforetoggle":V=Vv}var gt=(i&4)!==0,Kt=!gt&&(n==="scroll"||n==="scrollend"),z=gt?q!==null?q+"Capture":null:q;gt=[];for(var k=H,I;k!==null;){var W=k;if(I=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||I===null||z===null||(W=Ya(k,z),W!=null&&gt.push(Rr(k,W,I))),Kt)break;k=k.return}0<gt.length&&(q=new V(q,vt,null,r,K),J.push({event:q,listeners:gt}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",q&&r!==qc&&(vt=r.relatedTarget||r.fromElement)&&(ks(vt)||vt[Ns]))break t;if((V||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,V?(vt=r.relatedTarget||r.toElement,V=H,vt=vt?ks(vt):null,vt!==null&&(Kt=o(vt),gt=vt.tag,vt!==Kt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(V=null,vt=H),V!==vt)){if(gt=Gf,W="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(gt=Vf,W="onPointerLeave",z="onPointerEnter",k="pointer"),Kt=V==null?q:Va(V),I=vt==null?q:Va(vt),q=new gt(W,k+"leave",V,r,K),q.target=Kt,q.relatedTarget=I,W=null,ks(K)===H&&(gt=new gt(z,k+"enter",vt,r,K),gt.target=I,gt.relatedTarget=Kt,W=gt),Kt=W,V&&vt)e:{for(gt=V,z=vt,k=0,I=gt;I;I=pa(I))k++;for(I=0,W=z;W;W=pa(W))I++;for(;0<k-I;)gt=pa(gt),k--;for(;0<I-k;)z=pa(z),I--;for(;k--;){if(gt===z||z!==null&&gt===z.alternate)break e;gt=pa(gt),z=pa(z)}gt=null}else gt=null;V!==null&&km(J,q,V,gt,!1),vt!==null&&Kt!==null&&km(J,Kt,vt,gt,!0)}}t:{if(q=H?Va(H):window,V=q.nodeName&&q.nodeName.toLowerCase(),V==="select"||V==="input"&&q.type==="file")var ut=Jf;else if(Qf(q))if(tp)ut=eA;else{ut=Jv;var Rt=Zv}else V=q.nodeName,!V||V.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Gc(H.elementType)&&(ut=Jf):ut=tA;if(ut&&(ut=ut(n,H))){Zf(J,ut,r,K);break t}Rt&&Rt(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Uc(q,"number",q.value)}switch(Rt=H?Va(H):window,n){case"focusin":(Qf(Rt)||Rt.contentEditable==="true")&&(qs=Rt,iu=H,tr=null);break;case"focusout":tr=iu=qs=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,lp(J,r,K);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":lp(J,r,K)}var dt;if(Jc)t:{switch(n){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Gs?Kf(n,r)&&(mt="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(Yf&&r.locale!=="ko"&&(Gs||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Gs&&(dt=Hf()):(Ti=K,$c="value"in Ti?Ti.value:Ti.textContent,Gs=!0)),Rt=bl(H,mt),0<Rt.length&&(mt=new qf(mt,n,null,r,K),J.push({event:mt,listeners:Rt}),dt?mt.data=dt:(dt=Wf(r),dt!==null&&(mt.data=dt)))),(dt=Xv?$v(n,r):Kv(n,r))&&(mt=bl(H,"onBeforeInput"),0<mt.length&&(Rt=new qf("onBeforeInput","beforeinput",null,r,K),J.push({event:Rt,listeners:mt}),Rt.data=dt)),IA(J,n,H,r,K)}Dm(J,i)})}function Rr(n,i,r){return{instance:n,listener:i,currentTarget:r}}function bl(n,i){for(var r=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ya(n,r),f!=null&&c.unshift(Rr(n,f,m)),f=Ya(n,i),f!=null&&c.push(Rr(n,f,m))),n.tag===3)return c;n=n.return}return[]}function pa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function km(n,i,r,c,f){for(var m=i._reactName,A=[];r!==null&&r!==c;){var E=r,M=E.alternate,H=E.stateNode;if(E=E.tag,M!==null&&M===c)break;E!==5&&E!==26&&E!==27||H===null||(M=H,f?(H=Ya(r,m),H!=null&&A.unshift(Rr(r,H,M))):f||(H=Ya(r,m),H!=null&&A.push(Rr(r,H,M)))),r=r.return}A.length!==0&&n.push({event:i,listeners:A})}var GA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function Pm(n){return(typeof n=="string"?n:""+n).replace(GA,`
`).replace(qA,"")}function jm(n,i){return i=Pm(i),Pm(n)===i}function vl(){}function $t(n,i,r,c,f,m){switch(r){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Bs(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Bs(n,""+c);break;case"className":Eo(n,"class",c);break;case"tabIndex":Eo(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(n,r,c);break;case"style":Ff(n,c,m);break;case"data":if(i!=="object"){Eo(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Co(""+c),n.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&$t(n,i,"name",f.name,f,null),$t(n,i,"formEncType",f.formEncType,f,null),$t(n,i,"formMethod",f.formMethod,f,null),$t(n,i,"formTarget",f.formTarget,f,null)):($t(n,i,"encType",f.encType,f,null),$t(n,i,"method",f.method,f,null),$t(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(r);break}c=Co(""+c),n.setAttribute(r,c);break;case"onClick":c!=null&&(n.onclick=vl);break;case"onScroll":c!=null&&Ot("scroll",n);break;case"onScrollEnd":c!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}r=Co(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""+c):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":c===!0?n.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(r,c):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(r,c):n.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(r):n.setAttribute(r,c);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),wo(n,"popover",c);break;case"xlinkActuate":ei(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ei(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ei(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ei(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ei(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ei(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ei(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ei(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ei(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wo(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Av.get(r)||r,wo(n,r,c))}}function Ch(n,i,r,c,f,m){switch(r){case"style":Ff(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(r=c.__html,r!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof c=="string"?Bs(n,c):(typeof c=="number"||typeof c=="bigint")&&Bs(n,""+c);break;case"onScroll":c!=null&&Ot("scroll",n);break;case"onScrollEnd":c!=null&&Ot("scrollend",n);break;case"onClick":c!=null&&(n.onclick=vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=n[$e]||null,m=m!=null?m[r]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,c,f);break t}r in n?n[r]=c:c===!0?n.setAttribute(r,""):wo(n,r,c)}}}function Pe(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var c=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var A=r[m];if(A!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(n,i,m,A,r,null)}}f&&$t(n,i,"srcSet",r.srcSet,r,null),c&&$t(n,i,"src",r.src,r,null);return;case"input":Ot("invalid",n);var E=m=A=f=null,M=null,H=null;for(c in r)if(r.hasOwnProperty(c)){var K=r[c];if(K!=null)switch(c){case"name":f=K;break;case"type":A=K;break;case"checked":M=K;break;case"defaultChecked":H=K;break;case"value":m=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:$t(n,i,c,K,r,null)}}kf(n,m,E,M,H,A,f,!1),xo(n);return;case"select":Ot("invalid",n),c=A=m=null;for(f in r)if(r.hasOwnProperty(f)&&(E=r[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":A=E;break;case"multiple":c=E;default:$t(n,i,f,E,r,null)}i=m,r=A,n.multiple=!!c,i!=null?Is(n,!!c,i,!1):r!=null&&Is(n,!!c,r,!0);return;case"textarea":Ot("invalid",n),m=f=c=null;for(A in r)if(r.hasOwnProperty(A)&&(E=r[A],E!=null))switch(A){case"value":c=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(n,i,A,E,r,null)}jf(n,c,f,m),xo(n);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(c=r[M],c!=null))switch(M){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:$t(n,i,M,c,r,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(c=0;c<Cr.length;c++)Ot(Cr[c],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(c=r[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(n,i,H,c,r,null)}return;default:if(Gc(i)){for(K in r)r.hasOwnProperty(K)&&(c=r[K],c!==void 0&&Ch(n,i,K,c,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(c=r[E],c!=null&&$t(n,i,E,c,r,null))}function VA(n,i,r,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,A=null,E=null,M=null,H=null,K=null;for(V in r){var J=r[V];if(r.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":M=J;default:c.hasOwnProperty(V)||$t(n,i,V,null,c,J)}}for(var q in c){var V=c[q];if(J=r[q],c.hasOwnProperty(q)&&(V!=null||J!=null))switch(q){case"type":m=V;break;case"name":f=V;break;case"checked":H=V;break;case"defaultChecked":K=V;break;case"value":A=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==J&&$t(n,i,q,V,c,J)}}Hc(n,A,E,M,H,K,m,f);return;case"select":V=A=E=q=null;for(m in r)if(M=r[m],r.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":V=M;default:c.hasOwnProperty(m)||$t(n,i,m,null,c,M)}for(f in c)if(m=c[f],M=r[f],c.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":q=m;break;case"defaultValue":E=m;break;case"multiple":A=m;default:m!==M&&$t(n,i,f,m,c,M)}i=E,r=A,c=V,q!=null?Is(n,!!r,q,!1):!!c!=!!r&&(i!=null?Is(n,!!r,i,!0):Is(n,!!r,r?[]:"",!1));return;case"textarea":V=q=null;for(E in r)if(f=r[E],r.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(n,i,E,null,c,f)}for(A in c)if(f=c[A],m=r[A],c.hasOwnProperty(A)&&(f!=null||m!=null))switch(A){case"value":q=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&$t(n,i,A,f,c,m)}Pf(n,q,V);return;case"option":for(var vt in r)if(q=r[vt],r.hasOwnProperty(vt)&&q!=null&&!c.hasOwnProperty(vt))switch(vt){case"selected":n.selected=!1;break;default:$t(n,i,vt,null,c,q)}for(M in c)if(q=c[M],V=r[M],c.hasOwnProperty(M)&&q!==V&&(q!=null||V!=null))switch(M){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(n,i,M,q,c,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)q=r[gt],r.hasOwnProperty(gt)&&q!=null&&!c.hasOwnProperty(gt)&&$t(n,i,gt,null,c,q);for(H in c)if(q=c[H],V=r[H],c.hasOwnProperty(H)&&q!==V&&(q!=null||V!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:$t(n,i,H,q,c,V)}return;default:if(Gc(i)){for(var Kt in r)q=r[Kt],r.hasOwnProperty(Kt)&&q!==void 0&&!c.hasOwnProperty(Kt)&&Ch(n,i,Kt,void 0,c,q);for(K in c)q=c[K],V=r[K],!c.hasOwnProperty(K)||q===V||q===void 0&&V===void 0||Ch(n,i,K,q,c,V);return}}for(var z in r)q=r[z],r.hasOwnProperty(z)&&q!=null&&!c.hasOwnProperty(z)&&$t(n,i,z,null,c,q);for(J in c)q=c[J],V=r[J],!c.hasOwnProperty(J)||q===V||q==null&&V==null||$t(n,i,J,q,c,V)}var Rh=null,Mh=null;function Al(n){return n.nodeType===9?n:n.ownerDocument}function zm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Oh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lh=null;function YA(){var n=window.event;return n&&n.type==="popstate"?n===Lh?!1:(Lh=n,!0):(Lh=null,!1)}var Im=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(n){return Bm.resolve(null).then(n).catch(KA)}:Im;function KA(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function Hm(n,i){var r=i,c=0,f=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<c&&8>c){r=c;var A=n.ownerDocument;if(r&1&&Mr(A.documentElement),r&2&&Mr(A.body),r&4)for(r=A.head,Mr(r),A=r.firstChild;A;){var E=A.nextSibling,M=A.nodeName;A[qa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||r.removeChild(A),A=E}}if(f===0){n.removeChild(m),zr(i);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:c=r.charCodeAt(0)-48;else c=0;r=m}while(r);zr(i)}function Dh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Dh(r),zc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function WA(n,i,r,c){for(;n.nodeType===1;){var f=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[qa])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Dn(n.nextSibling),n===null)break}return null}function QA(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Dn(n.nextSibling),n===null))return null;return n}function Nh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ZA(n,i){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")i();else{var c=function(){i(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Dn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var kh=null;function Um(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function Gm(n,i,r){switch(i=Al(r),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Mr(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);zc(n)}var xn=new Map,qm=new Set;function Sl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var gi=B.d;B.d={f:JA,r:t1,D:e1,C:n1,L:i1,m:s1,X:r1,S:a1,M:o1};function JA(){var n=gi.f(),i=dl();return n||i}function t1(n){var i=Ps(n);i!==null&&i.tag===5&&i.type==="form"?ug(i):gi.r(n)}var ga=typeof document>"u"?null:document;function Vm(n,i,r){var c=ga;if(c&&typeof i=="string"&&i){var f=bn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),qm.has(f)||(qm.add(f),n={rel:n,crossOrigin:r,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Pe(i,"link",n),Te(i),c.head.appendChild(i)))}}function e1(n){gi.D(n),Vm("dns-prefetch",n,null)}function n1(n,i){gi.C(n,i),Vm("preconnect",n,i)}function i1(n,i,r){gi.L(n,i,r);var c=ga;if(c&&n&&i){var f='link[rel="preload"][as="'+bn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+bn(r.imageSizes)+'"]')):f+='[href="'+bn(n)+'"]';var m=f;switch(i){case"style":m=ma(n);break;case"script":m=ya(n)}xn.has(m)||(n=g({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),xn.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Or(m))||i==="script"&&c.querySelector(Lr(m))||(i=c.createElement("link"),Pe(i,"link",n),Te(i),c.head.appendChild(i)))}}function s1(n,i){gi.m(n,i);var r=ga;if(r&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ya(n)}if(!xn.has(m)&&(n=g({rel:"modulepreload",href:n},i),xn.set(m,n),r.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lr(m)))return}c=r.createElement("link"),Pe(c,"link",n),Te(c),r.head.appendChild(c)}}}function a1(n,i,r){gi.S(n,i,r);var c=ga;if(c&&n){var f=js(c).hoistableStyles,m=ma(n);i=i||"default";var A=f.get(m);if(!A){var E={loading:0,preload:null};if(A=c.querySelector(Or(m)))E.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},r),(r=xn.get(m))&&Ph(n,r);var M=A=c.createElement("link");Te(M),Pe(M,"link",n),M._p=new Promise(function(H,K){M.onload=H,M.onerror=K}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_l(A,i,c)}A={type:"stylesheet",instance:A,count:1,state:E},f.set(m,A)}}}function r1(n,i){gi.X(n,i);var r=ga;if(r&&n){var c=js(r).hoistableScripts,f=ya(n),m=c.get(f);m||(m=r.querySelector(Lr(f)),m||(n=g({src:n,async:!0},i),(i=xn.get(f))&&jh(n,i),m=r.createElement("script"),Te(m),Pe(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function o1(n,i){gi.M(n,i);var r=ga;if(r&&n){var c=js(r).hoistableScripts,f=ya(n),m=c.get(f);m||(m=r.querySelector(Lr(f)),m||(n=g({src:n,async:!0,type:"module"},i),(i=xn.get(f))&&jh(n,i),m=r.createElement("script"),Te(m),Pe(m,"link",n),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Ym(n,i,r,c){var f=(f=ot.current)?Sl(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=ma(r.href),r=js(f).hoistableStyles,c=r.get(i),c||(c={type:"style",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=ma(r.href);var m=js(f).hoistableStyles,A=m.get(n);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,A),(m=f.querySelector(Or(n)))&&!m._p&&(A.instance=m,A.state.loading=5),xn.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xn.set(n,r),m||l1(f,n,r,A.state))),i&&c===null)throw Error(s(528,""));return A}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ya(r),r=js(f).hoistableScripts,c=r.get(i),c||(c={type:"script",instance:null,count:0,state:null},r.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ma(n){return'href="'+bn(n)+'"'}function Or(n){return'link[rel="stylesheet"]['+n+"]"}function Xm(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function l1(n,i,r,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Pe(i,"link",r),Te(i),n.head.appendChild(i))}function ya(n){return'[src="'+bn(n)+'"]'}function Lr(n){return"script[async]"+n}function $m(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+bn(r.href)+'"]');if(c)return i.instance=c,Te(c),c;var f=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Te(c),Pe(c,"style",f),_l(c,r.precedence,n),i.instance=c;case"stylesheet":f=ma(r.href);var m=n.querySelector(Or(f));if(m)return i.state.loading|=4,i.instance=m,Te(m),m;c=Xm(r),(f=xn.get(f))&&Ph(c,f),m=(n.ownerDocument||n).createElement("link"),Te(m);var A=m;return A._p=new Promise(function(E,M){A.onload=E,A.onerror=M}),Pe(m,"link",c),i.state.loading|=4,_l(m,r.precedence,n),i.instance=m;case"script":return m=ya(r.src),(f=n.querySelector(Lr(m)))?(i.instance=f,Te(f),f):(c=r,(f=xn.get(m))&&(c=g({},r),jh(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Te(f),Pe(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,_l(c,r.precedence,n));return i.instance}function _l(n,i,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,A=0;A<c.length;A++){var E=c[A];if(E.dataset.precedence===i)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function Ph(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function jh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var wl=null;function Km(n,i,r){if(wl===null){var c=new Map,f=wl=new Map;f.set(r,c)}else f=wl,c=f.get(r),c||(c=new Map,f.set(r,c));if(c.has(n))return c;for(c.set(n,null),r=r.getElementsByTagName(n),f=0;f<r.length;f++){var m=r[f];if(!(m[qa]||m[ze]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(i)||"";A=n+A;var E=c.get(A);E?E.push(m):c.set(A,[m])}}return c}function Wm(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function c1(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Dr=null;function u1(){}function h1(n,i,r){if(Dr===null)throw Error(s(475));var c=Dr;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ma(r.href),m=n.querySelector(Or(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=El.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,Te(m);return}m=n.ownerDocument||n,r=Xm(r),(f=xn.get(f))&&Ph(r,f),m=m.createElement("link"),Te(m);var A=m;A._p=new Promise(function(E,M){A.onload=E,A.onerror=M}),Pe(m,"link",r),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=El.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function d1(){if(Dr===null)throw Error(s(475));var n=Dr;return n.stylesheets&&n.count===0&&zh(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&zh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function El(){if(this.count--,this.count===0){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xl=null;function zh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xl=new Map,i.forEach(f1,n),xl=null,El.call(n))}function f1(n,i){if(!(i.state.loading&4)){var r=xl.get(n);if(r)var c=r.get(null);else{r=new Map,xl.set(n,r);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var A=f[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(r.set(A.dataset.precedence,A),c=A)}c&&r.set(null,c)}f=i.instance,A=f.getAttribute("data-precedence"),m=r.get(A)||c,m===c&&r.set(null,f),r.set(A,f),this.count++,c=El.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Nr={$$typeof:C,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function p1(n,i,r,c,f,m,A,E){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.hiddenUpdates=Nc(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zm(n,i,r,c,f,m,A,E,M,H,K,J){return n=new p1(n,i,r,A,E,M,H,J),i=1,m===!0&&(i|=24),m=rn(3,null,null,i),n.current=m,m.stateNode=n,i=bu(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:i},_u(m),n}function Jm(n){return n?(n=$s,n):$s}function t0(n,i,r,c,f,m){f=Jm(f),c.context===null?c.context=f:c.pendingContext=f,c=Mi(i),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=Oi(n,c,i),r!==null&&(hn(r,n,i),cr(r,n,i))}function e0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function Fh(n,i){e0(n,i),(n=n.alternate)&&e0(n,i)}function n0(n){if(n.tag===13){var i=Xs(n,67108864);i!==null&&hn(i,n,67108864),Fh(n,67108864)}}var Tl=!0;function g1(n,i,r,c){var f=D.T;D.T=null;var m=B.p;try{B.p=2,Ih(n,i,r,c)}finally{B.p=m,D.T=f}}function m1(n,i,r,c){var f=D.T;D.T=null;var m=B.p;try{B.p=8,Ih(n,i,r,c)}finally{B.p=m,D.T=f}}function Ih(n,i,r,c){if(Tl){var f=Bh(c);if(f===null)Th(n,i,c,Cl,r),s0(n,c);else if(b1(f,n,i,r,c))c.stopPropagation();else if(s0(n,c),i&4&&-1<y1.indexOf(n)){for(;f!==null;){var m=Ps(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=es(m.pendingLanes);if(A!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;A;){var M=1<<31-xe(A);E.entanglements[1]|=M,A&=~M}Un(m),(Gt&6)===0&&(ul=jt()+500,Tr(0))}}break;case 13:E=Xs(m,2),E!==null&&hn(E,m,2),dl(),Fh(m,2)}if(m=Bh(c),m===null&&Th(n,i,c,Cl,r),m===f)break;f=m}f!==null&&c.stopPropagation()}else Th(n,i,c,null,r)}}function Bh(n){return n=Vc(n),Hh(n)}var Cl=null;function Hh(n){if(Cl=null,n=ks(n),n!==null){var i=o(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=u(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Cl=n,null}function i0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case nn:return 2;case Ei:return 8;case Ee:case mn:return 32;case ti:return 268435456;default:return 32}default:return 32}}var Uh=!1,Gi=null,qi=null,Vi=null,kr=new Map,Pr=new Map,Yi=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(n,i){switch(n){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":kr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(i.pointerId)}}function jr(n,i,r,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ps(i),i!==null&&n0(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function b1(n,i,r,c,f){switch(i){case"focusin":return Gi=jr(Gi,n,i,r,c,f),!0;case"dragenter":return qi=jr(qi,n,i,r,c,f),!0;case"mouseover":return Vi=jr(Vi,n,i,r,c,f),!0;case"pointerover":var m=f.pointerId;return kr.set(m,jr(kr.get(m)||null,n,i,r,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Pr.set(m,jr(Pr.get(m)||null,n,i,r,c,f)),!0}return!1}function a0(n){var i=ks(n.target);if(i!==null){var r=o(i);if(r!==null){if(i=r.tag,i===13){if(i=u(r),i!==null){n.blockedOn=i,hv(n.priority,function(){if(r.tag===13){var c=un();c=kc(c);var f=Xs(r,c);f!==null&&hn(f,r,c),Fh(r,c)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Bh(n.nativeEvent);if(r===null){r=n.nativeEvent;var c=new r.constructor(r.type,r);qc=c,r.target.dispatchEvent(c),qc=null}else return i=Ps(r),i!==null&&n0(i),n.blockedOn=r,!1;i.shift()}return!0}function r0(n,i,r){Rl(n)&&r.delete(i)}function v1(){Uh=!1,Gi!==null&&Rl(Gi)&&(Gi=null),qi!==null&&Rl(qi)&&(qi=null),Vi!==null&&Rl(Vi)&&(Vi=null),kr.forEach(r0),Pr.forEach(r0)}function Ml(n,i){n.blockedOn===i&&(n.blockedOn=null,Uh||(Uh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,v1)))}var Ol=null;function o0(n){Ol!==n&&(Ol=n,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ol===n&&(Ol=null);for(var i=0;i<n.length;i+=3){var r=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(Hh(c||r)===null)continue;break}var m=Ps(r);m!==null&&(n.splice(i,3),i-=3,Hu(m,{pending:!0,data:f,method:r.method,action:c},c,f))}}))}function zr(n){function i(M){return Ml(M,n)}Gi!==null&&Ml(Gi,n),qi!==null&&Ml(qi,n),Vi!==null&&Ml(Vi,n),kr.forEach(i),Pr.forEach(i);for(var r=0;r<Yi.length;r++){var c=Yi[r];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)a0(r),r.blockedOn===null&&Yi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var f=r[c],m=r[c+1],A=f[$e]||null;if(typeof m=="function")A||o0(r);else if(A){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,A=m[$e]||null)E=A.formAction;else if(Hh(f)!==null)continue}else E=A.action;typeof E=="function"?r[c+1]=E:(r.splice(c,3),c-=3),o0(r)}}}function Gh(n){this._internalRoot=n}Ll.prototype.render=Gh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,c=un();t0(r,c,n,i,null,null)},Ll.prototype.unmount=Gh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;t0(n.current,2,null,n,null,null),dl(),i[Ns]=null}};function Ll(n){this._internalRoot=n}Ll.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ef();n={blockedOn:null,target:n,priority:i};for(var r=0;r<Yi.length&&i!==0&&i<Yi[r].priority;r++);Yi.splice(r,0,n),r===0&&a0(n)}};var l0=t.version;if(l0!=="19.1.1")throw Error(s(527,l0,"19.1.1"));B.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var A1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{ts=Dl.inject(A1),ge=Dl}catch{}}return Ir.createRoot=function(n,i){if(!a(n))throw Error(s(299));var r=!1,c="",f=Eg,m=xg,A=Tg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Zm(n,1,!1,null,null,r,c,f,m,A,E,null),n[Ns]=i.current,xh(n),new Gh(i)},Ir.hydrateRoot=function(n,i,r){if(!a(n))throw Error(s(299));var c=!1,f="",m=Eg,A=xg,E=Tg,M=null,H=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(A=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(H=r.formState)),i=Zm(n,1,!0,i,r??null,c,f,m,A,E,M,H),i.context=Jm(null),r=i.current,c=un(),c=kc(c),f=Mi(c),f.callback=null,Oi(r,f,c),r=c,i.current.lanes=r,Ga(i,r),Un(i),n[Ns]=i.current,xh(n),new Ll(i)},Ir.version="19.1.1",Ir}var A0;function O1(){if(A0)return Xh.exports;A0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Xh.exports=M1(),Xh.exports}var L1=O1();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S0="popstate";function D1(l={}){function t(a,o){let{pathname:u="/",search:h="",hash:d=""}=Os(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yd("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(a,o){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof o=="string"?o:Zr(o))}function s(a,o){Pn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return k1(t,e,s,l)}function re(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function Pn(l,t){if(!l){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N1(){return Math.random().toString(36).substring(2,10)}function _0(l,t){return{usr:l.state,key:l.key,idx:t}}function yd(l,t,e=null,s){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof t=="string"?Os(t):t,state:e,key:t&&t.key||s||N1()}}function Zr({pathname:l="/",search:t="",hash:e=""}){return t&&t!=="?"&&(l+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(l+=e.charAt(0)==="#"?e:"#"+e),l}function Os(l){let t={};if(l){let e=l.indexOf("#");e>=0&&(t.hash=l.substring(e),l=l.substring(0,e));let s=l.indexOf("?");s>=0&&(t.search=l.substring(s),l=l.substring(0,s)),l&&(t.pathname=l)}return t}function k1(l,t,e,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,u=a.history,h="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let T=g(),w=T==null?null:T-p;p=T,d&&d({action:h,location:_.location,delta:w})}function b(T,w){h="PUSH";let O=yd(_.location,T,w);e&&e(O,T),p=g()+1;let C=_0(O,p),L=_.createHref(O);try{u.pushState(C,"",L)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(L)}o&&d&&d({action:h,location:_.location,delta:1})}function v(T,w){h="REPLACE";let O=yd(_.location,T,w);e&&e(O,T),p=g();let C=_0(O,p),L=_.createHref(O);u.replaceState(C,"",L),o&&d&&d({action:h,location:_.location,delta:0})}function S(T){return P1(T)}let _={get action(){return h},get location(){return l(a,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(S0,y),d=T,()=>{a.removeEventListener(S0,y),d=null}},createHref(T){return t(a,T)},createURL:S,encodeLocation(T){let w=S(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:v,go(T){return u.go(T)}};return _}function P1(l,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),re(e,"No window.location.(origin|href) available to create URL");let s=typeof l=="string"?l:Zr(l);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function Ay(l,t,e="/"){return j1(l,t,e,!1)}function j1(l,t,e,s){let a=typeof t=="string"?Os(t):t,o=Si(a.pathname||"/",e);if(o==null)return null;let u=Sy(l);z1(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=$1(o);h=Y1(u[d],p,s)}return h}function Sy(l,t=[],e=[],s=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(re(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let p=Ai([s,d.relativePath]),g=e.concat(d);o.children&&o.children.length>0&&(re(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Sy(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:q1(p,o.index),routesMeta:g})};return l.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let h of _y(o.path))a(o,u,h)}),t}function _y(l){let t=l.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let u=_y(s.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>l.startsWith("/")&&d===""?"/":d)}function z1(l){l.sort((t,e)=>t.score!==e.score?e.score-t.score:V1(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var F1=/^:[\w-]+$/,I1=3,B1=2,H1=1,U1=10,G1=-2,w0=l=>l==="*";function q1(l,t){let e=l.split("/"),s=e.length;return e.some(w0)&&(s+=G1),t&&(s+=B1),e.filter(a=>!w0(a)).reduce((a,o)=>a+(F1.test(o)?I1:o===""?H1:U1),s)}function V1(l,t){return l.length===t.length&&l.slice(0,-1).every((s,a)=>s===t[a])?l[l.length-1]-t[t.length-1]:0}function Y1(l,t,e=!1){let{routesMeta:s}=l,a={},o="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=nc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!y&&p&&e&&!s[s.length-1].route.index&&(y=nc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:Ai([o,y.pathname]),pathnameBase:Z1(Ai([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Ai([o,y.pathnameBase]))}return u}function nc(l,t){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[e,s]=X1(l.path,l.caseSensitive,l.end),a=t.match(e);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:y},b)=>{if(g==="*"){let S=h[b]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=h[b];return y&&!v?p[g]=void 0:p[g]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:l}}function X1(l,t=!1,e=!0){Pn(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let s=[],a="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(s.push({paramName:"*"}),a+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":l!==""&&l!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function $1(l){try{return l.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),l}}function Si(l,t){if(t==="/")return l;if(!l.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=l.charAt(e);return s&&s!=="/"?null:l.slice(e)||"/"}function K1(l,t="/"){let{pathname:e,search:s="",hash:a=""}=typeof l=="string"?Os(l):l;return{pathname:e?e.startsWith("/")?e:W1(e,t):t,search:J1(s),hash:tS(a)}}function W1(l,t){let e=t.replace(/\/+$/,"").split("/");return l.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Qh(l,t,e,s){return`Cannot include a '${l}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q1(l){return l.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function wy(l){let t=Q1(l);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function Ey(l,t,e,s=!1){let a;typeof l=="string"?a=Os(l):(a={...l},re(!a.pathname||!a.pathname.includes("?"),Qh("?","pathname","search",a)),re(!a.pathname||!a.pathname.includes("#"),Qh("#","pathname","hash",a)),re(!a.search||!a.search.includes("#"),Qh("#","search","hash",a)));let o=l===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=e;else{let y=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}h=y>=0?t[y]:"/"}let d=K1(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Ai=l=>l.join("/").replace(/\/\/+/g,"/"),Z1=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),J1=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,tS=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function eS(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var xy=["POST","PUT","PATCH","DELETE"];new Set(xy);var nS=["GET",...xy];new Set(nS);var za=P.createContext(null);za.displayName="DataRouter";var pc=P.createContext(null);pc.displayName="DataRouterState";P.createContext(!1);var Ty=P.createContext({isTransitioning:!1});Ty.displayName="ViewTransition";var iS=P.createContext(new Map);iS.displayName="Fetchers";var sS=P.createContext(null);sS.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var ao=P.createContext(null);ao.displayName="Location";var zn=P.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var Fd=P.createContext(null);Fd.displayName="RouteError";function aS(l,{relative:t}={}){re(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=P.useContext(Zn),{hash:a,pathname:o,search:u}=oo(l,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Ai([e,o])),s.createHref({pathname:h,search:u,hash:a})}function ro(){return P.useContext(ao)!=null}function Jn(){return re(ro(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ao).location}var Cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ry(l){P.useContext(Zn).static||P.useLayoutEffect(l)}function My(){let{isDataRoute:l}=P.useContext(zn);return l?SS():rS()}function rS(){re(ro(),"useNavigate() may be used only in the context of a <Router> component.");let l=P.useContext(za),{basename:t,navigator:e}=P.useContext(Zn),{matches:s}=P.useContext(zn),{pathname:a}=Jn(),o=JSON.stringify(wy(s)),u=P.useRef(!1);return Ry(()=>{u.current=!0}),P.useCallback((d,p={})=>{if(Pn(u.current,Cy),!u.current)return;if(typeof d=="number"){e.go(d);return}let g=Ey(d,JSON.parse(o),a,p.relative==="path");l==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ai([t,g.pathname])),(p.replace?e.replace:e.push)(g,p.state,p)},[t,e,o,a,l])}var oS=P.createContext(null);function lS(l){let t=P.useContext(zn).outlet;return t&&P.createElement(oS.Provider,{value:l},t)}function cS(){let{matches:l}=P.useContext(zn),t=l[l.length-1];return t?t.params:{}}function oo(l,{relative:t}={}){let{matches:e}=P.useContext(zn),{pathname:s}=Jn(),a=JSON.stringify(wy(e));return P.useMemo(()=>Ey(l,JSON.parse(a),s,t==="path"),[l,a,s,t])}function uS(l,t){return Oy(l,t)}function Oy(l,t,e,s){re(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Zn),{matches:o}=P.useContext(zn),u=o[o.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let w=g&&g.path||"";Ly(d,!g||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=Jn(),b;if(t){let w=typeof t=="string"?Os(t):t;re(p==="/"||w.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${w.pathname}" was given in the \`location\` prop.`),b=w}else b=y;let v=b.pathname||"/",S=v;if(p!=="/"){let w=p.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=Ay(l,{pathname:S});Pn(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Pn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=gS(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:Ai([p,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Ai([p,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,e,s);return t&&T?P.createElement(ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function hS(){let l=AS(),t=eS(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),e=l instanceof Error?l.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",l),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),e?P.createElement("pre",{style:a},e):null,u)}var dS=P.createElement(hS,null),fS=class extends P.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,t){return t.location!==l.location||t.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:t.error,location:t.location,revalidation:l.revalidation||t.revalidation}}componentDidCatch(l,t){console.error("React Router caught the following error during render",l,t)}render(){return this.state.error!==void 0?P.createElement(zn.Provider,{value:this.props.routeContext},P.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pS({routeContext:l,match:t,children:e}){let s=P.useContext(za);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(zn.Provider,{value:l},e)}function gS(l,t=[],e=null,s=null){if(l==null){if(!e)return null;if(e.errors)l=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)l=e.matches;else return null}let a=l,o=e?.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);re(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(e)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:y}=e,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,b=!1,v=null,S=null;e&&(y=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||dS,u&&(h<0&&g===0?(Ly("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):h===g&&(b=!0,S=p.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,g+1)),T=()=>{let w;return y?w=v:b?w=S:p.route.Component?w=P.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=d,P.createElement(pS,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:e!=null},children:w})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(fS,{location:e.location,revalidation:e.revalidation,component:v,error:y,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}function Id(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(l){let t=P.useContext(za);return re(t,Id(l)),t}function yS(l){let t=P.useContext(pc);return re(t,Id(l)),t}function bS(l){let t=P.useContext(zn);return re(t,Id(l)),t}function Bd(l){let t=bS(l),e=t.matches[t.matches.length-1];return re(e.route.id,`${l} can only be used on routes that contain a unique "id"`),e.route.id}function vS(){return Bd("useRouteId")}function AS(){let l=P.useContext(Fd),t=yS("useRouteError"),e=Bd("useRouteError");return l!==void 0?l:t.errors?.[e]}function SS(){let{router:l}=mS("useNavigate"),t=Bd("useNavigate"),e=P.useRef(!1);return Ry(()=>{e.current=!0}),P.useCallback(async(a,o={})=>{Pn(e.current,Cy),e.current&&(typeof a=="number"?l.navigate(a):await l.navigate(a,{fromRouteId:t,...o}))},[l,t])}var E0={};function Ly(l,t,e){!t&&!E0[l]&&(E0[l]=!0,Pn(!1,e))}P.memo(_S);function _S({routes:l,future:t,state:e}){return Oy(l,void 0,e,t)}function wS(l){return lS(l.context)}function mi(l){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ES({basename:l="/",children:t=null,location:e,navigationType:s="POP",navigator:a,static:o=!1}){re(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=l.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof e=="string"&&(e=Os(e));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:b="default"}=e,v=P.useMemo(()=>{let S=Si(d,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:b},navigationType:s}},[u,d,p,g,y,b,s]);return Pn(v!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:P.createElement(Zn.Provider,{value:h},P.createElement(ao.Provider,{children:t,value:v}))}function xS({children:l,location:t}){return uS(bd(l),t)}function bd(l,t=[]){let e=[];return P.Children.forEach(l,(s,a)=>{if(!P.isValidElement(s))return;let o=[...t,a];if(s.type===P.Fragment){e.push.apply(e,bd(s.props.children,o));return}re(s.type===mi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=bd(s.props.children,o)),e.push(u)}),e}var Yl="get",Xl="application/x-www-form-urlencoded";function gc(l){return l!=null&&typeof l.tagName=="string"}function TS(l){return gc(l)&&l.tagName.toLowerCase()==="button"}function CS(l){return gc(l)&&l.tagName.toLowerCase()==="form"}function RS(l){return gc(l)&&l.tagName.toLowerCase()==="input"}function MS(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function OS(l,t){return l.button===0&&(!t||t==="_self")&&!MS(l)}var Nl=null;function LS(){if(Nl===null)try{new FormData(document.createElement("form"),0),Nl=!1}catch{Nl=!0}return Nl}var DS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zh(l){return l!=null&&!DS.has(l)?(Pn(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xl}"`),null):l}function NS(l,t){let e,s,a,o,u;if(CS(l)){let h=l.getAttribute("action");s=h?Si(h,t):null,e=l.getAttribute("method")||Yl,a=Zh(l.getAttribute("enctype"))||Xl,o=new FormData(l)}else if(TS(l)||RS(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=l.getAttribute("formaction")||h.getAttribute("action");if(s=d?Si(d,t):null,e=l.getAttribute("formmethod")||h.getAttribute("method")||Yl,a=Zh(l.getAttribute("formenctype"))||Zh(h.getAttribute("enctype"))||Xl,o=new FormData(h,l),!LS()){let{name:p,type:g,value:y}=l;if(g==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,y)}}else{if(gc(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Yl,s=null,a=Xl,u=l}return o&&a==="text/plain"&&(u=o,o=void 0),{action:s,method:e.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hd(l,t){if(l===!1||l===null||typeof l>"u")throw new Error(t)}function kS(l,t,e){let s=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return s.pathname==="/"?s.pathname=`_root.${e}`:t&&Si(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function PS(l,t){if(l.id in t)return t[l.id];try{let e=await import(l.module);return t[l.id]=e,e}catch(e){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jS(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function zS(l,t,e){let s=await Promise.all(l.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await PS(o,e);return u.links?u.links():[]}return[]}));return HS(s.flat(1).filter(jS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function x0(l,t,e,s,a,o){let u=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,h=(d,p)=>e[p].pathname!==d.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?t.filter((d,p)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function FS(l,t,{includeHydrateFallback:e}={}){return IS(l.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function IS(l){return[...new Set(l)]}function BS(l){let t={},e=Object.keys(l).sort();for(let s of e)t[s]=l[s];return t}function HS(l,t){let e=new Set;return new Set(t),l.reduce((s,a)=>{let o=JSON.stringify(BS(a));return e.has(o)||(e.add(o),s.push({key:o,link:a})),s},[])}function Dy(){let l=P.useContext(za);return Hd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function US(){let l=P.useContext(pc);return Hd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Ud=P.createContext(void 0);Ud.displayName="FrameworkContext";function Ny(){let l=P.useContext(Ud);return Hd(l,"You must render this element inside a <HydratedRouter> element"),l}function GS(l,t){let e=P.useContext(Ud),[s,a]=P.useState(!1),[o,u]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,b=P.useRef(null);P.useEffect(()=>{if(l==="render"&&u(!0),l==="viewport"){let _=w=>{w.forEach(O=>{u(O.isIntersecting)})},T=new IntersectionObserver(_,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[l]),P.useEffect(()=>{if(s){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[s]);let v=()=>{a(!0)},S=()=>{a(!1),u(!1)};return e?l!=="intent"?[o,b,{}]:[o,b,{onFocus:Br(h,v),onBlur:Br(d,S),onMouseEnter:Br(p,v),onMouseLeave:Br(g,S),onTouchStart:Br(y,v)}]:[!1,b,{}]}function Br(l,t){return e=>{l&&l(e),e.defaultPrevented||t(e)}}function qS({page:l,...t}){let{router:e}=Dy(),s=P.useMemo(()=>Ay(e.routes,l,e.basename),[e.routes,l,e.basename]);return s?P.createElement(YS,{page:l,matches:s,...t}):null}function VS(l){let{manifest:t,routeModules:e}=Ny(),[s,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return zS(l,t,e).then(u=>{o||a(u)}),()=>{o=!0}},[l,t,e]),s}function YS({page:l,matches:t,...e}){let s=Jn(),{manifest:a,routeModules:o}=Ny(),{basename:u}=Dy(),{loaderData:h,matches:d}=US(),p=P.useMemo(()=>x0(l,t,d,a,s,"data"),[l,t,d,a,s]),g=P.useMemo(()=>x0(l,t,d,a,s,"assets"),[l,t,d,a,s]),y=P.useMemo(()=>{if(l===s.pathname+s.search+s.hash)return[];let S=new Set,_=!1;if(t.forEach(w=>{let O=a.routes[w.route.id];!O||!O.hasLoader||(!p.some(C=>C.route.id===w.route.id)&&w.route.id in h&&o[w.route.id]?.shouldRevalidate||O.hasClientLoader?_=!0:S.add(w.route.id))}),S.size===0)return[];let T=kS(l,u,"data");return _&&S.size>0&&T.searchParams.set("_routes",t.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[T.pathname+T.search]},[u,h,s,a,p,t,l,o]),b=P.useMemo(()=>FS(g,a),[g,a]),v=VS(g);return P.createElement(P.Fragment,null,y.map(S=>P.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),b.map(S=>P.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),v.map(({key:S,link:_})=>P.createElement("link",{key:S,nonce:e.nonce,..._})))}function XS(...l){return t=>{l.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var ky=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ky&&(window.__reactRouterVersion="7.8.0")}catch{}function $S({basename:l,children:t,window:e}){let s=P.useRef();s.current==null&&(s.current=D1({window:e,v5Compat:!0}));let a=s.current,[o,u]=P.useState({action:a.action,location:a.location}),h=P.useCallback(d=>{P.startTransition(()=>u(d))},[u]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.createElement(ES,{basename:l,children:t,location:o.location,navigationType:o.action,navigator:a})}var Py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=P.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,...b},v){let{basename:S}=P.useContext(Zn),_=typeof p=="string"&&Py.test(p),T,w=!1;if(typeof p=="string"&&_&&(T=p,ky))try{let X=new URL(window.location.href),it=p.startsWith("//")?new URL(X.protocol+p):new URL(p),nt=Si(it.pathname,S);it.origin===X.origin&&nt!=null?p=nt+it.search+it.hash:w=!0}catch{Pn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=aS(p,{relative:a}),[C,L,R]=GS(s,b),j=ZS(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function N(X){t&&t(X),X.defaultPrevented||j(X)}let $=P.createElement("a",{...b,...R,href:T||O,onClick:w||o?t:N,ref:XS(v,L),target:d,"data-discover":!_&&e==="render"?"true":void 0});return C&&!_?P.createElement(P.Fragment,null,$,P.createElement(qS,{page:O})):$});Ki.displayName="Link";var KS=P.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},g){let y=oo(u,{relative:p.relative}),b=Jn(),v=P.useContext(pc),{navigator:S,basename:_}=P.useContext(Zn),T=v!=null&&i_(y)&&h===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=b.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(O=O.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase()),C&&_&&(C=Si(C,_)||C);const L=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=O===w||!a&&O.startsWith(w)&&O.charAt(L)==="/",j=C!=null&&(C===w||!a&&C.startsWith(w)&&C.charAt(w.length)==="/"),N={isActive:R,isPending:j,isTransitioning:T},$=R?t:void 0,X;typeof s=="function"?X=s(N):X=[s,R?"active":null,j?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let it=typeof o=="function"?o(N):o;return P.createElement(Ki,{...p,"aria-current":$,className:X,ref:g,style:it,to:u,viewTransition:h},typeof d=="function"?d(N):d)});KS.displayName="NavLink";var WS=P.forwardRef(({discover:l="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:a,state:o,method:u=Yl,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...b},v)=>{let S=e_(),_=n_(h,{relative:p}),T=u.toLowerCase()==="get"?"get":"post",w=typeof h=="string"&&Py.test(h),O=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let L=C.nativeEvent.submitter,R=L?.getAttribute("formmethod")||u;S(L||C.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return P.createElement("form",{ref:v,method:T,action:_,onSubmit:s?d:O,...b,"data-discover":!w&&l==="render"?"true":void 0})});WS.displayName="Form";function QS(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jy(l){let t=P.useContext(za);return re(t,QS(l)),t}function ZS(l,{target:t,replace:e,state:s,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=My(),d=Jn(),p=oo(l,{relative:o});return P.useCallback(g=>{if(OS(g,t)){g.preventDefault();let y=e!==void 0?e:Zr(d)===Zr(p);h(l,{replace:y,state:s,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,p,e,s,t,l,a,o,u])}var JS=0,t_=()=>`__${String(++JS)}__`;function e_(){let{router:l}=jy("useSubmit"),{basename:t}=P.useContext(Zn),e=vS();return P.useCallback(async(s,a={})=>{let{action:o,method:u,encType:h,formData:d,body:p}=NS(s,t);if(a.navigate===!1){let g=a.fetcherKey||t_();await l.fetch(g,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await l.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[l,t,e])}function n_(l,{relative:t}={}){let{basename:e}=P.useContext(Zn),s=P.useContext(zn);re(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...oo(l||".",{relative:t})},u=Jn();if(l==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!l||l===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Ai([e,o.pathname])),Zr(o)}function i_(l,{relative:t}={}){let e=P.useContext(Ty);re(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jy("useViewTransitionState"),a=oo(l,{relative:t});if(!e.isTransitioning)return!1;let o=Si(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=Si(e.nextLocation.pathname,s)||e.nextLocation.pathname;return nc(a.pathname,u)!=null||nc(a.pathname,o)!=null}function s_(){const l=P.useRef(null);return P.useEffect(()=>{const t=l.current,e=t.getContext("2d");function s(){t.width=window.innerWidth,t.height=window.innerHeight}s(),window.addEventListener("resize",s);const a=[],o=300;for(let h=0;h<o;h++)a.push({x:Math.random()*t.width,y:Math.random()*t.height,r:Math.random()*1.5+.5,dx:(Math.random()-.5)*.1,dy:(Math.random()-.5)*.1});function u(){e.fillStyle="black",e.fillRect(0,0,t.width,t.height),e.fillStyle="white",a.forEach(h=>{e.beginPath(),e.arc(h.x,h.y,h.r,0,Math.PI*2),e.fill(),h.x+=h.dx,h.y+=h.dy,h.x<0&&(h.x=t.width),h.x>t.width&&(h.x=0),h.y<0&&(h.y=t.height),h.y>t.height&&(h.y=0)}),requestAnimationFrame(u)}return u(),()=>{window.removeEventListener("resize",s)}},[]),F.jsx("canvas",{ref:l,id:"galaxy",style:{position:"fixed",top:0,left:0,zIndex:-1,width:"100vw",height:"100vh",pointerEvents:"none"}})}var qe=function(){return qe=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},qe.apply(this,arguments)};function Ma(l,t,e){if(e||arguments.length===2)for(var s=0,a=t.length,o;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return l.concat(o||Array.prototype.slice.call(t))}var te="-ms-",Kr="-moz-",Ut="-webkit-",zy="comm",mc="rule",Gd="decl",a_="@import",Fy="@keyframes",r_="@layer",Iy=Math.abs,qd=String.fromCharCode,vd=Object.assign;function o_(l,t){return Le(l,0)^45?(((t<<2^Le(l,0))<<2^Le(l,1))<<2^Le(l,2))<<2^Le(l,3):0}function By(l){return l.trim()}function bi(l,t){return(l=t.exec(l))?l[0]:l}function xt(l,t,e){return l.replace(t,e)}function $l(l,t,e){return l.indexOf(t,e)}function Le(l,t){return l.charCodeAt(t)|0}function Oa(l,t,e){return l.slice(t,e)}function Wn(l){return l.length}function Hy(l){return l.length}function Vr(l,t){return t.push(l),l}function l_(l,t){return l.map(t).join("")}function T0(l,t){return l.filter(function(e){return!bi(e,t)})}var yc=1,La=1,Uy=0,Rn=0,ve=0,Fa="";function bc(l,t,e,s,a,o,u,h){return{value:l,root:t,parent:e,type:s,props:a,children:o,line:yc,column:La,length:u,return:"",siblings:h}}function $i(l,t){return vd(bc("",null,null,"",null,null,0,l.siblings),l,{length:-l.length},t)}function ba(l){for(;l.root;)l=$i(l.root,{children:[l]});Vr(l,l.siblings)}function c_(){return ve}function u_(){return ve=Rn>0?Le(Fa,--Rn):0,La--,ve===10&&(La=1,yc--),ve}function kn(){return ve=Rn<Uy?Le(Fa,Rn++):0,La++,ve===10&&(La=1,yc++),ve}function Ts(){return Le(Fa,Rn)}function Kl(){return Rn}function vc(l,t){return Oa(Fa,l,t)}function Ad(l){switch(l){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function h_(l){return yc=La=1,Uy=Wn(Fa=l),Rn=0,[]}function d_(l){return Fa="",l}function Jh(l){return By(vc(Rn-1,Sd(l===91?l+2:l===40?l+1:l)))}function f_(l){for(;(ve=Ts())&&ve<33;)kn();return Ad(l)>2||Ad(ve)>3?"":" "}function p_(l,t){for(;--t&&kn()&&!(ve<48||ve>102||ve>57&&ve<65||ve>70&&ve<97););return vc(l,Kl()+(t<6&&Ts()==32&&kn()==32))}function Sd(l){for(;kn();)switch(ve){case l:return Rn;case 34:case 39:l!==34&&l!==39&&Sd(ve);break;case 40:l===41&&Sd(l);break;case 92:kn();break}return Rn}function g_(l,t){for(;kn()&&l+ve!==57;)if(l+ve===84&&Ts()===47)break;return"/*"+vc(t,Rn-1)+"*"+qd(l===47?l:kn())}function m_(l){for(;!Ad(Ts());)kn();return vc(l,Rn)}function y_(l){return d_(Wl("",null,null,null,[""],l=h_(l),0,[0],l))}function Wl(l,t,e,s,a,o,u,h,d){for(var p=0,g=0,y=u,b=0,v=0,S=0,_=1,T=1,w=1,O=0,C="",L=a,R=o,j=s,N=C;T;)switch(S=O,O=kn()){case 40:if(S!=108&&Le(N,y-1)==58){$l(N+=xt(Jh(O),"&","&\f"),"&\f",Iy(p?h[p-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Jh(O);break;case 9:case 10:case 13:case 32:N+=f_(S);break;case 92:N+=p_(Kl()-1,7);continue;case 47:switch(Ts()){case 42:case 47:Vr(b_(g_(kn(),Kl()),t,e,d),d);break;default:N+="/"}break;case 123*_:h[p++]=Wn(N)*w;case 125*_:case 59:case 0:switch(O){case 0:case 125:T=0;case 59+g:w==-1&&(N=xt(N,/\f/g,"")),v>0&&Wn(N)-y&&Vr(v>32?R0(N+";",s,e,y-1,d):R0(xt(N," ","")+";",s,e,y-2,d),d);break;case 59:N+=";";default:if(Vr(j=C0(N,t,e,p,g,a,h,C,L=[],R=[],y,o),o),O===123)if(g===0)Wl(N,t,j,j,L,o,y,h,R);else switch(b===99&&Le(N,3)===110?100:b){case 100:case 108:case 109:case 115:Wl(l,j,j,s&&Vr(C0(l,j,j,0,0,a,h,C,a,L=[],y,R),R),a,R,y,h,s?L:R);break;default:Wl(N,j,j,j,[""],R,0,h,R)}}p=g=v=0,_=w=1,C=N="",y=u;break;case 58:y=1+Wn(N),v=S;default:if(_<1){if(O==123)--_;else if(O==125&&_++==0&&u_()==125)continue}switch(N+=qd(O),O*_){case 38:w=g>0?1:(N+="\f",-1);break;case 44:h[p++]=(Wn(N)-1)*w,w=1;break;case 64:Ts()===45&&(N+=Jh(kn())),b=Ts(),g=y=Wn(C=N+=m_(Kl())),O++;break;case 45:S===45&&Wn(N)==2&&(_=0)}}return o}function C0(l,t,e,s,a,o,u,h,d,p,g,y){for(var b=a-1,v=a===0?o:[""],S=Hy(v),_=0,T=0,w=0;_<s;++_)for(var O=0,C=Oa(l,b+1,b=Iy(T=u[_])),L=l;O<S;++O)(L=By(T>0?v[O]+" "+C:xt(C,/&\f/g,v[O])))&&(d[w++]=L);return bc(l,t,e,a===0?mc:h,d,p,g,y)}function b_(l,t,e,s){return bc(l,t,e,zy,qd(c_()),Oa(l,2,-2),0,s)}function R0(l,t,e,s,a){return bc(l,t,e,Gd,Oa(l,0,s),Oa(l,s+1,-1),s,a)}function Gy(l,t,e){switch(o_(l,t)){case 5103:return Ut+"print-"+l+l;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+l+l;case 4789:return Kr+l+l;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+l+Kr+l+te+l+l;case 5936:switch(Le(l,t+11)){case 114:return Ut+l+te+xt(l,/[svh]\w+-[tblr]{2}/,"tb")+l;case 108:return Ut+l+te+xt(l,/[svh]\w+-[tblr]{2}/,"tb-rl")+l;case 45:return Ut+l+te+xt(l,/[svh]\w+-[tblr]{2}/,"lr")+l}case 6828:case 4268:case 2903:return Ut+l+te+l+l;case 6165:return Ut+l+te+"flex-"+l+l;case 5187:return Ut+l+xt(l,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+te+"flex-$1$2")+l;case 5443:return Ut+l+te+"flex-item-"+xt(l,/flex-|-self/g,"")+(bi(l,/flex-|baseline/)?"":te+"grid-row-"+xt(l,/flex-|-self/g,""))+l;case 4675:return Ut+l+te+"flex-line-pack"+xt(l,/align-content|flex-|-self/g,"")+l;case 5548:return Ut+l+te+xt(l,"shrink","negative")+l;case 5292:return Ut+l+te+xt(l,"basis","preferred-size")+l;case 6060:return Ut+"box-"+xt(l,"-grow","")+Ut+l+te+xt(l,"grow","positive")+l;case 4554:return Ut+xt(l,/([^-])(transform)/g,"$1"+Ut+"$2")+l;case 6187:return xt(xt(xt(l,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),l,"")+l;case 5495:case 3959:return xt(l,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return xt(xt(l,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+l+l;case 4200:if(!bi(l,/flex-|baseline/))return te+"grid-column-align"+Oa(l,t)+l;break;case 2592:case 3360:return te+xt(l,"template-","")+l;case 4384:case 3616:return e&&e.some(function(s,a){return t=a,bi(s.props,/grid-\w+-end/)})?~$l(l+(e=e[t].value),"span",0)?l:te+xt(l,"-start","")+l+te+"grid-row-span:"+(~$l(e,"span",0)?bi(e,/\d+/):+bi(e,/\d+/)-+bi(l,/\d+/))+";":te+xt(l,"-start","")+l;case 4896:case 4128:return e&&e.some(function(s){return bi(s.props,/grid-\w+-start/)})?l:te+xt(xt(l,"-end","-span"),"span ","")+l;case 4095:case 3583:case 4068:case 2532:return xt(l,/(.+)-inline(.+)/,Ut+"$1$2")+l;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wn(l)-1-t>6)switch(Le(l,t+1)){case 109:if(Le(l,t+4)!==45)break;case 102:return xt(l,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Kr+(Le(l,t+3)==108?"$3":"$2-$3"))+l;case 115:return~$l(l,"stretch",0)?Gy(xt(l,"stretch","fill-available"),t,e)+l:l}break;case 5152:case 5920:return xt(l,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,a,o,u,h,d,p){return te+a+":"+o+p+(u?te+a+"-span:"+(h?d:+d-+o)+p:"")+l});case 4949:if(Le(l,t+6)===121)return xt(l,":",":"+Ut)+l;break;case 6444:switch(Le(l,Le(l,14)===45?18:11)){case 120:return xt(l,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ut+(Le(l,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+te+"$2box$3")+l;case 100:return xt(l,":",":"+te)+l}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(l,"scroll-","scroll-snap-")+l}return l}function ic(l,t){for(var e="",s=0;s<l.length;s++)e+=t(l[s],s,l,t)||"";return e}function v_(l,t,e,s){switch(l.type){case r_:if(l.children.length)break;case a_:case Gd:return l.return=l.return||l.value;case zy:return"";case Fy:return l.return=l.value+"{"+ic(l.children,s)+"}";case mc:if(!Wn(l.value=l.props.join(",")))return""}return Wn(e=ic(l.children,s))?l.return=l.value+"{"+e+"}":""}function A_(l){var t=Hy(l);return function(e,s,a,o){for(var u="",h=0;h<t;h++)u+=l[h](e,s,a,o)||"";return u}}function S_(l){return function(t){t.root||(t=t.return)&&l(t)}}function __(l,t,e,s){if(l.length>-1&&!l.return)switch(l.type){case Gd:l.return=Gy(l.value,l.length,e);return;case Fy:return ic([$i(l,{value:xt(l.value,"@","@"+Ut)})],s);case mc:if(l.length)return l_(e=l.props,function(a){switch(bi(a,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ba($i(l,{props:[xt(a,/:(read-\w+)/,":"+Kr+"$1")]})),ba($i(l,{props:[a]})),vd(l,{props:T0(e,s)});break;case"::placeholder":ba($i(l,{props:[xt(a,/:(plac\w+)/,":"+Ut+"input-$1")]})),ba($i(l,{props:[xt(a,/:(plac\w+)/,":"+Kr+"$1")]})),ba($i(l,{props:[xt(a,/:(plac\w+)/,te+"input-$1")]})),ba($i(l,{props:[a]})),vd(l,{props:T0(e,s)});break}return""})}}var w_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dn={},Da=typeof process<"u"&&dn!==void 0&&(dn.REACT_APP_SC_ATTR||dn.SC_ATTR)||"data-styled",qy="active",Vy="data-styled-version",Ac="6.1.19",Vd=`/*!sc*/
`,sc=typeof window<"u"&&typeof document<"u",E_=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&dn!==void 0&&dn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&dn.REACT_APP_SC_DISABLE_SPEEDY!==""?dn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&dn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&dn!==void 0&&dn.SC_DISABLE_SPEEDY!==void 0&&dn.SC_DISABLE_SPEEDY!==""&&dn.SC_DISABLE_SPEEDY!=="false"&&dn.SC_DISABLE_SPEEDY),x_={},Sc=Object.freeze([]),Na=Object.freeze({});function Yy(l,t,e){return e===void 0&&(e=Na),l.theme!==e.theme&&l.theme||t||e.theme}var Xy=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),T_=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,C_=/(^-|-$)/g;function M0(l){return l.replace(T_,"-").replace(C_,"")}var R_=/(a)(d)/gi,kl=52,O0=function(l){return String.fromCharCode(l+(l>25?39:97))};function _d(l){var t,e="";for(t=Math.abs(l);t>kl;t=t/kl|0)e=O0(t%kl)+e;return(O0(t%kl)+e).replace(R_,"$1-$2")}var td,$y=5381,_a=function(l,t){for(var e=t.length;e;)l=33*l^t.charCodeAt(--e);return l},Ky=function(l){return _a($y,l)};function Yd(l){return _d(Ky(l)>>>0)}function M_(l){return l.displayName||l.name||"Component"}function ed(l){return typeof l=="string"&&!0}var Wy=typeof Symbol=="function"&&Symbol.for,Qy=Wy?Symbol.for("react.memo"):60115,O_=Wy?Symbol.for("react.forward_ref"):60112,L_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},D_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N_=((td={})[O_]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},td[Qy]=Zy,td);function L0(l){return("type"in(t=l)&&t.type.$$typeof)===Qy?Zy:"$$typeof"in l?N_[l.$$typeof]:L_;var t}var k_=Object.defineProperty,P_=Object.getOwnPropertyNames,D0=Object.getOwnPropertySymbols,j_=Object.getOwnPropertyDescriptor,z_=Object.getPrototypeOf,N0=Object.prototype;function Jy(l,t,e){if(typeof t!="string"){if(N0){var s=z_(t);s&&s!==N0&&Jy(l,s,e)}var a=P_(t);D0&&(a=a.concat(D0(t)));for(var o=L0(l),u=L0(t),h=0;h<a.length;++h){var d=a[h];if(!(d in D_||e&&e[d]||u&&d in u||o&&d in o)){var p=j_(t,d);try{k_(l,d,p)}catch{}}}}return l}function ka(l){return typeof l=="function"}function Xd(l){return typeof l=="object"&&"styledComponentId"in l}function Ss(l,t){return l&&t?"".concat(l," ").concat(t):l||t||""}function ac(l,t){if(l.length===0)return"";for(var e=l[0],s=1;s<l.length;s++)e+=l[s];return e}function Jr(l){return l!==null&&typeof l=="object"&&l.constructor.name===Object.name&&!("props"in l&&l.$$typeof)}function wd(l,t,e){if(e===void 0&&(e=!1),!e&&!Jr(l)&&!Array.isArray(l))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)l[s]=wd(l[s],t[s]);else if(Jr(t))for(var s in t)l[s]=wd(l[s],t[s]);return l}function $d(l,t){Object.defineProperty(l,"toString",{value:t})}function lo(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(l," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var F_=function(){function l(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return l.prototype.indexOfGroup=function(t){for(var e=0,s=0;s<t;s++)e+=this.groupSizes[s];return e},l.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var s=this.groupSizes,a=s.length,o=a;t>=o;)if((o<<=1)<0)throw lo(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(s),this.length=o;for(var u=a;u<o;u++)this.groupSizes[u]=0}for(var h=this.indexOfGroup(t+1),d=(u=0,e.length);u<d;u++)this.tag.insertRule(h,e[u])&&(this.groupSizes[t]++,h++)},l.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],s=this.indexOfGroup(t),a=s+e;this.groupSizes[t]=0;for(var o=s;o<a;o++)this.tag.deleteRule(s)}},l.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var s=this.groupSizes[t],a=this.indexOfGroup(t),o=a+s,u=a;u<o;u++)e+="".concat(this.tag.getRule(u)).concat(Vd);return e},l}(),Ql=new Map,rc=new Map,Zl=1,Pl=function(l){if(Ql.has(l))return Ql.get(l);for(;rc.has(Zl);)Zl++;var t=Zl++;return Ql.set(l,t),rc.set(t,l),t},I_=function(l,t){Zl=t+1,Ql.set(l,t),rc.set(t,l)},B_="style[".concat(Da,"][").concat(Vy,'="').concat(Ac,'"]'),H_=new RegExp("^".concat(Da,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),U_=function(l,t,e){for(var s,a=e.split(","),o=0,u=a.length;o<u;o++)(s=a[o])&&l.registerName(t,s)},G_=function(l,t){for(var e,s=((e=t.textContent)!==null&&e!==void 0?e:"").split(Vd),a=[],o=0,u=s.length;o<u;o++){var h=s[o].trim();if(h){var d=h.match(H_);if(d){var p=0|parseInt(d[1],10),g=d[2];p!==0&&(I_(g,p),U_(l,g,d[3]),l.getTag().insertRules(p,a)),a.length=0}else a.push(h)}}},k0=function(l){for(var t=document.querySelectorAll(B_),e=0,s=t.length;e<s;e++){var a=t[e];a&&a.getAttribute(Da)!==qy&&(G_(l,a),a.parentNode&&a.parentNode.removeChild(a))}};function q_(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var tb=function(l){var t=document.head,e=l||t,s=document.createElement("style"),a=function(h){var d=Array.from(h.querySelectorAll("style[".concat(Da,"]")));return d[d.length-1]}(e),o=a!==void 0?a.nextSibling:null;s.setAttribute(Da,qy),s.setAttribute(Vy,Ac);var u=q_();return u&&s.setAttribute("nonce",u),e.insertBefore(s,o),s},V_=function(){function l(t){this.element=tb(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var s=document.styleSheets,a=0,o=s.length;a<o;a++){var u=s[a];if(u.ownerNode===e)return u}throw lo(17)}(this.element),this.length=0}return l.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},l.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},l.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},l}(),Y_=function(){function l(t){this.element=tb(t),this.nodes=this.element.childNodes,this.length=0}return l.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var s=document.createTextNode(e);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},l.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},l.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},l}(),X_=function(){function l(t){this.rules=[],this.length=0}return l.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},l.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},l.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},l}(),P0=sc,$_={isServer:!sc,useCSSOMInjection:!E_},oc=function(){function l(t,e,s){t===void 0&&(t=Na),e===void 0&&(e={});var a=this;this.options=qe(qe({},$_),t),this.gs=e,this.names=new Map(s),this.server=!!t.isServer,!this.server&&sc&&P0&&(P0=!1,k0(this)),$d(this,function(){return function(o){for(var u=o.getTag(),h=u.length,d="",p=function(y){var b=function(w){return rc.get(w)}(y);if(b===void 0)return"continue";var v=o.names.get(b),S=u.getGroup(y);if(v===void 0||!v.size||S.length===0)return"continue";var _="".concat(Da,".g").concat(y,'[id="').concat(b,'"]'),T="";v!==void 0&&v.forEach(function(w){w.length>0&&(T+="".concat(w,","))}),d+="".concat(S).concat(_,'{content:"').concat(T,'"}').concat(Vd)},g=0;g<h;g++)p(g);return d}(a)})}return l.registerId=function(t){return Pl(t)},l.prototype.rehydrate=function(){!this.server&&sc&&k0(this)},l.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new l(qe(qe({},this.options),t),this.gs,e&&this.names||void 0)},l.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},l.prototype.getTag=function(){return this.tag||(this.tag=(t=function(e){var s=e.useCSSOMInjection,a=e.target;return e.isServer?new X_(a):s?new V_(a):new Y_(a)}(this.options),new F_(t)));var t},l.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},l.prototype.registerName=function(t,e){if(Pl(t),this.names.has(t))this.names.get(t).add(e);else{var s=new Set;s.add(e),this.names.set(t,s)}},l.prototype.insertRules=function(t,e,s){this.registerName(t,e),this.getTag().insertRules(Pl(t),s)},l.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},l.prototype.clearRules=function(t){this.getTag().clearGroup(Pl(t)),this.clearNames(t)},l.prototype.clearTag=function(){this.tag=void 0},l}(),K_=/&/g,W_=/^\s*\/\/.*$/gm;function eb(l,t){return l.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=eb(e.children,t)),e})}function Q_(l){var t,e,s,a=Na,o=a.options,u=o===void 0?Na:o,h=a.plugins,d=h===void 0?Sc:h,p=function(b,v,S){return S.startsWith(e)&&S.endsWith(e)&&S.replaceAll(e,"").length>0?".".concat(t):b},g=d.slice();g.push(function(b){b.type===mc&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(K_,e).replace(s,p))}),u.prefix&&g.push(__),g.push(v_);var y=function(b,v,S,_){v===void 0&&(v=""),S===void 0&&(S=""),_===void 0&&(_="&"),t=_,e=v,s=new RegExp("\\".concat(e,"\\b"),"g");var T=b.replace(W_,""),w=y_(S||v?"".concat(S," ").concat(v," { ").concat(T," }"):T);u.namespace&&(w=eb(w,u.namespace));var O=[];return ic(w,A_(g.concat(S_(function(C){return O.push(C)})))),O};return y.hash=d.length?d.reduce(function(b,v){return v.name||lo(15),_a(b,v.name)},$y).toString():"",y}var Z_=new oc,Ed=Q_(),nb=Ge.createContext({shouldForwardProp:void 0,styleSheet:Z_,stylis:Ed});nb.Consumer;Ge.createContext(void 0);function xd(){return P.useContext(nb)}var ib=function(){function l(t,e){var s=this;this.inject=function(a,o){o===void 0&&(o=Ed);var u=s.name+o.hash;a.hasNameForId(s.id,u)||a.insertRules(s.id,u,o(s.rules,u,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,$d(this,function(){throw lo(12,String(s.name))})}return l.prototype.getName=function(t){return t===void 0&&(t=Ed),this.name+t.hash},l}(),J_=function(l){return l>="A"&&l<="Z"};function j0(l){for(var t="",e=0;e<l.length;e++){var s=l[e];if(e===1&&s==="-"&&l[0]==="-")return l;J_(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var sb=function(l){return l==null||l===!1||l===""},ab=function(l){var t,e,s=[];for(var a in l){var o=l[a];l.hasOwnProperty(a)&&!sb(o)&&(Array.isArray(o)&&o.isCss||ka(o)?s.push("".concat(j0(a),":"),o,";"):Jr(o)?s.push.apply(s,Ma(Ma(["".concat(a," {")],ab(o),!1),["}"],!1)):s.push("".concat(j0(a),": ").concat((t=a,(e=o)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in w_||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return s};function Qi(l,t,e,s){if(sb(l))return[];if(Xd(l))return[".".concat(l.styledComponentId)];if(ka(l)){if(!ka(o=l)||o.prototype&&o.prototype.isReactComponent||!t)return[l];var a=l(t);return Qi(a,t,e,s)}var o;return l instanceof ib?e?(l.inject(e,s),[l.getName(s)]):[l]:Jr(l)?ab(l):Array.isArray(l)?Array.prototype.concat.apply(Sc,l.map(function(u){return Qi(u,t,e,s)})):[l.toString()]}function rb(l){for(var t=0;t<l.length;t+=1){var e=l[t];if(ka(e)&&!Xd(e))return!1}return!0}var tw=Ky(Ac),ew=function(){function l(t,e,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&rb(t),this.componentId=e,this.baseHash=_a(tw,e),this.baseStyle=s,oc.registerId(e)}return l.prototype.generateAndInjectStyles=function(t,e,s){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))a=Ss(a,this.staticRulesId);else{var o=ac(Qi(this.rules,t,e,s)),u=_d(_a(this.baseHash,o)>>>0);if(!e.hasNameForId(this.componentId,u)){var h=s(o,".".concat(u),void 0,this.componentId);e.insertRules(this.componentId,u,h)}a=Ss(a,u),this.staticRulesId=u}else{for(var d=_a(this.baseHash,s.hash),p="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")p+=y;else if(y){var b=ac(Qi(y,t,e,s));d=_a(d,b+g),p+=b}}if(p){var v=_d(d>>>0);e.hasNameForId(this.componentId,v)||e.insertRules(this.componentId,v,s(p,".".concat(v),void 0,this.componentId)),a=Ss(a,v)}}return a},l}(),Kd=Ge.createContext(void 0);Kd.Consumer;var nd={};function nw(l,t,e){var s=Xd(l),a=l,o=!ed(l),u=t.attrs,h=u===void 0?Sc:u,d=t.componentId,p=d===void 0?function(L,R){var j=typeof L!="string"?"sc":M0(L);nd[j]=(nd[j]||0)+1;var N="".concat(j,"-").concat(Yd(Ac+j+nd[j]));return R?"".concat(R,"-").concat(N):N}(t.displayName,t.parentComponentId):d,g=t.displayName,y=g===void 0?function(L){return ed(L)?"styled.".concat(L):"Styled(".concat(M_(L),")")}(l):g,b=t.displayName&&t.componentId?"".concat(M0(t.displayName),"-").concat(t.componentId):t.componentId||p,v=s&&a.attrs?a.attrs.concat(h).filter(Boolean):h,S=t.shouldForwardProp;if(s&&a.shouldForwardProp){var _=a.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;S=function(L,R){return _(L,R)&&T(L,R)}}else S=_}var w=new ew(e,b,s?a.componentStyle:void 0);function O(L,R){return function(j,N,$){var X=j.attrs,it=j.componentStyle,nt=j.defaultProps,Q=j.foldedComponentIds,et=j.styledComponentId,rt=j.target,st=Ge.useContext(Kd),D=xd(),B=j.shouldForwardProp||D.shouldForwardProp,at=Yy(N,st,nt)||Na,Z=function(lt,ot,ht){for(var bt,Pt=qe(qe({},ot),{className:void 0,theme:ht}),Et=0;Et<lt.length;Et+=1){var zt=ka(bt=lt[Et])?bt(Pt):bt;for(var Bt in zt)Pt[Bt]=Bt==="className"?Ss(Pt[Bt],zt[Bt]):Bt==="style"?qe(qe({},Pt[Bt]),zt[Bt]):zt[Bt]}return ot.className&&(Pt.className=Ss(Pt.className,ot.className)),Pt}(X,N,at),x=Z.as||rt,U={};for(var G in Z)Z[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&Z.theme===at||(G==="forwardedAs"?U.as=Z.forwardedAs:B&&!B(G,x)||(U[G]=Z[G]));var Y=function(lt,ot){var ht=xd(),bt=lt.generateAndInjectStyles(ot,ht.styleSheet,ht.stylis);return bt}(it,Z),tt=Ss(Q,et);return Y&&(tt+=" "+Y),Z.className&&(tt+=" "+Z.className),U[ed(x)&&!Xy.has(x)?"class":"className"]=tt,$&&(U.ref=$),P.createElement(x,U)}(C,L,R)}O.displayName=y;var C=Ge.forwardRef(O);return C.attrs=v,C.componentStyle=w,C.displayName=y,C.shouldForwardProp=S,C.foldedComponentIds=s?Ss(a.foldedComponentIds,a.styledComponentId):"",C.styledComponentId=b,C.target=s?a.target:l,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(L){this._foldedDefaultProps=s?function(R){for(var j=[],N=1;N<arguments.length;N++)j[N-1]=arguments[N];for(var $=0,X=j;$<X.length;$++)wd(R,X[$],!0);return R}({},a.defaultProps,L):L}}),$d(C,function(){return".".concat(C.styledComponentId)}),o&&Jy(C,l,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function z0(l,t){for(var e=[l[0]],s=0,a=t.length;s<a;s+=1)e.push(t[s],l[s+1]);return e}var F0=function(l){return Object.assign(l,{isCss:!0})};function Wd(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(ka(l)||Jr(l))return F0(Qi(z0(Sc,Ma([l],t,!0))));var s=l;return t.length===0&&s.length===1&&typeof s[0]=="string"?Qi(s):F0(Qi(z0(s,t)))}function Td(l,t,e){if(e===void 0&&(e=Na),!t)throw lo(1,t);var s=function(a){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return l(t,e,Wd.apply(void 0,Ma([a],o,!1)))};return s.attrs=function(a){return Td(l,t,qe(qe({},e),{attrs:Array.prototype.concat(e.attrs,a).filter(Boolean)}))},s.withConfig=function(a){return Td(l,t,qe(qe({},e),a))},s}var ob=function(l){return Td(nw,l)},It=ob;Xy.forEach(function(l){It[l]=ob(l)});var iw=function(){function l(t,e){this.rules=t,this.componentId=e,this.isStatic=rb(t),oc.registerId(this.componentId+1)}return l.prototype.createStyles=function(t,e,s,a){var o=a(ac(Qi(this.rules,e,s,a)),""),u=this.componentId+t;s.insertRules(u,u,o)},l.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},l.prototype.renderStyles=function(t,e,s,a){t>2&&oc.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,e,s,a)},l}();function sw(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var s=Wd.apply(void 0,Ma([l],t,!1)),a="sc-global-".concat(Yd(JSON.stringify(s))),o=new iw(s,a),u=function(d){var p=xd(),g=Ge.useContext(Kd),y=Ge.useRef(p.styleSheet.allocateGSInstance(a)).current;return p.styleSheet.server&&h(y,d,p.styleSheet,g,p.stylis),Ge.useLayoutEffect(function(){if(!p.styleSheet.server)return h(y,d,p.styleSheet,g,p.stylis),function(){return o.removeStyles(y,p.styleSheet)}},[y,d,p.styleSheet,g,p.stylis]),null};function h(d,p,g,y,b){if(o.isStatic)o.renderStyles(d,x_,g,b);else{var v=qe(qe({},p),{theme:Yy(p,y,u.defaultProps)});o.renderStyles(d,v,g,b)}}return Ge.memo(u)}function lb(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var s=ac(Wd.apply(void 0,Ma([l],t,!1))),a=Yd(s);return new ib(a,s)}const aw=It.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function rw(){return F.jsx(F.Fragment,{children:F.jsx(aw,{children:"Home"})})}const ow=It.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  align-items: center;
  padding: 100px 50px;
  
    h1 {
    margin-bottom: 25px;
  }
    hr{
    margin-bottom: 25px;
  }

  .pagination {
  display: flex;
  list-style: none;
  gap: 10px;
  
}

.pagination li {
  padding: 5px 10px;
  border: 1px solid #ccc;
  margin-bottom: 25px;
  cursor: pointer;
  
}

.pagination .active {
  background-color: #007bff;
  color: white;
  font-weight: bold;
}
 @media (max-width: 768px) {
    padding: 100px 10px;
  }
  @media (max-width: 450px) {
    padding: 100px 0px;
  }
`,lw=It.ul`
  display: flex;
  background-color: transparent;
  flex-direction: row;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  max-width: calc((260px * 5) + (10px * 4)); /* 5 itens + 4 gaps */
  margin: 0 auto 25px; /* centralizar */

  li{
  width: 260px;
  height: 250px;
  outline: 1px solid white;
  background-color: transparent;
  display: flex;
  flex-direction: column;
  text-align: center;
  justify-content: center;
  margin-bottom: 15px;
  }
`;var Jl={exports:{}},cw=Jl.exports,I0;function uw(){return I0||(I0=1,function(l,t){(function(e,s){l.exports=s(fc())})(cw,e=>(()=>{var s={703:(h,d,p)=>{var g=p(414);function y(){}function b(){}b.resetWarningCache=y,h.exports=function(){function v(T,w,O,C,L,R){if(R!==g){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}function S(){return v}v.isRequired=v;var _={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:S,element:v,elementType:v,instanceOf:S,node:v,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:b,resetWarningCache:y};return _.PropTypes=_,_}},697:(h,d,p)=>{h.exports=p(703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:h=>{h.exports=e}},a={};function o(h){var d=a[h];if(d!==void 0)return d.exports;var p=a[h]={exports:{}};return s[h](p,p.exports,o),p.exports}o.n=h=>{var d=h&&h.__esModule?()=>h.default:()=>h;return o.d(d,{a:d}),d},o.d=(h,d)=>{for(var p in d)o.o(d,p)&&!o.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:d[p]})},o.o=(h,d)=>Object.prototype.hasOwnProperty.call(h,d),o.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var u={};return(()=>{o.r(u),o.d(u,{default:()=>nt});var h=o(98),d=o.n(h),p=o(697),g=o.n(p);function y(){return y=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},y.apply(this,arguments)}var b=function(Q){var et=Q.pageClassName,rt=Q.pageLinkClassName,st=Q.page,D=Q.selected,B=Q.activeClassName,at=Q.activeLinkClassName,Z=Q.getEventListener,x=Q.pageSelectedHandler,U=Q.href,G=Q.extraAriaContext,Y=Q.pageLabelBuilder,tt=Q.rel,lt=Q.ariaLabel||"Page "+st+(G?" "+G:""),ot=null;return D&&(ot="page",lt=Q.ariaLabel||"Page "+st+" is your current page",et=et!==void 0?et+" "+B:B,rt!==void 0?at!==void 0&&(rt=rt+" "+at):rt=at),d().createElement("li",{className:et},d().createElement("a",y({rel:tt,role:U?void 0:"button",className:rt,href:U,tabIndex:D?"-1":"0","aria-label":lt,"aria-current":ot,onKeyPress:x},Z(x)),Y(st)))};b.propTypes={pageSelectedHandler:g().func.isRequired,selected:g().bool.isRequired,pageClassName:g().string,pageLinkClassName:g().string,activeClassName:g().string,activeLinkClassName:g().string,extraAriaContext:g().string,href:g().string,ariaLabel:g().string,page:g().number.isRequired,getEventListener:g().func.isRequired,pageLabelBuilder:g().func.isRequired,rel:g().string};const v=b;function S(){return S=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},S.apply(this,arguments)}var _=function(Q){var et=Q.breakLabel,rt=Q.breakAriaLabel,st=Q.breakClassName,D=Q.breakLinkClassName,B=Q.breakHandler,at=Q.getEventListener,Z=st||"break";return d().createElement("li",{className:Z},d().createElement("a",S({className:D,role:"button",tabIndex:"0","aria-label":rt,onKeyPress:B},at(B)),et))};_.propTypes={breakLabel:g().oneOfType([g().string,g().node]),breakAriaLabel:g().string,breakClassName:g().string,breakLinkClassName:g().string,breakHandler:g().func.isRequired,getEventListener:g().func.isRequired};const T=_;function w(Q){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Q??et}function O(Q){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},O(Q)}function C(){return C=Object.assign?Object.assign.bind():function(Q){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var st in rt)Object.prototype.hasOwnProperty.call(rt,st)&&(Q[st]=rt[st])}return Q},C.apply(this,arguments)}function L(Q,et){for(var rt=0;rt<et.length;rt++){var st=et[rt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(Q,st.key,st)}}function R(Q,et){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rt,st){return rt.__proto__=st,rt},R(Q,et)}function j(Q,et){if(et&&(O(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(Q)}function N(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function $(Q){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},$(Q)}function X(Q,et,rt){return et in Q?Object.defineProperty(Q,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):Q[et]=rt,Q}var it=function(Q){(function(Z,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(x&&x.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),x&&R(Z,x)})(at,Q);var et,rt,st,D,B=(st=at,D=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Z,x=$(st);if(D){var U=$(this).constructor;Z=Reflect.construct(x,arguments,U)}else Z=x.apply(this,arguments);return j(this,Z)});function at(Z){var x,U;return function(G,Y){if(!(G instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,at),X(N(x=B.call(this,Z)),"handlePreviousPage",function(G){var Y=x.state.selected;x.handleClick(G,null,Y>0?Y-1:void 0,{isPrevious:!0})}),X(N(x),"handleNextPage",function(G){var Y=x.state.selected,tt=x.props.pageCount;x.handleClick(G,null,Y<tt-1?Y+1:void 0,{isNext:!0})}),X(N(x),"handlePageSelected",function(G,Y){if(x.state.selected===G)return x.callActiveCallback(G),void x.handleClick(Y,null,void 0,{isActive:!0});x.handleClick(Y,null,G)}),X(N(x),"handlePageChange",function(G){x.state.selected!==G&&(x.setState({selected:G}),x.callCallback(G))}),X(N(x),"getEventListener",function(G){return X({},x.props.eventListener,G)}),X(N(x),"handleClick",function(G,Y,tt){var lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ot=lt.isPrevious,ht=ot!==void 0&&ot,bt=lt.isNext,Pt=bt!==void 0&&bt,Et=lt.isBreak,zt=Et!==void 0&&Et,Bt=lt.isActive,Vt=Bt!==void 0&&Bt;G.preventDefault?G.preventDefault():G.returnValue=!1;var Tt=x.state.selected,_t=x.props.onClick,Dt=tt;if(_t){var jt=_t({index:Y,selected:Tt,nextSelectedPage:tt,event:G,isPrevious:ht,isNext:Pt,isBreak:zt,isActive:Vt});if(jt===!1)return;Number.isInteger(jt)&&(Dt=jt)}Dt!==void 0&&x.handlePageChange(Dt)}),X(N(x),"handleBreakClick",function(G,Y){var tt=x.state.selected;x.handleClick(Y,G,tt<G?x.getForwardJump():x.getBackwardJump(),{isBreak:!0})}),X(N(x),"callCallback",function(G){x.props.onPageChange!==void 0&&typeof x.props.onPageChange=="function"&&x.props.onPageChange({selected:G})}),X(N(x),"callActiveCallback",function(G){x.props.onPageActive!==void 0&&typeof x.props.onPageActive=="function"&&x.props.onPageActive({selected:G})}),X(N(x),"getElementPageRel",function(G){var Y=x.state.selected,tt=x.props,lt=tt.nextPageRel,ot=tt.prevPageRel,ht=tt.selectedPageRel;return Y-1===G?ot:Y===G?ht:Y+1===G?lt:void 0}),X(N(x),"pagination",function(){var G=[],Y=x.props,tt=Y.pageRangeDisplayed,lt=Y.pageCount,ot=Y.marginPagesDisplayed,ht=Y.breakLabel,bt=Y.breakClassName,Pt=Y.breakLinkClassName,Et=Y.breakAriaLabels,zt=x.state.selected;if(lt<=tt)for(var Bt=0;Bt<lt;Bt++)G.push(x.getPageElement(Bt));else{var Vt=tt/2,Tt=tt-Vt;zt>lt-tt/2?Vt=tt-(Tt=lt-zt):zt<tt/2&&(Tt=tt-(Vt=zt));var _t,Dt,jt=function(Ee){return x.getPageElement(Ee)},Yt=[];for(_t=0;_t<lt;_t++){var nn=_t+1;if(nn<=ot)Yt.push({type:"page",index:_t,display:jt(_t)});else if(nn>lt-ot)Yt.push({type:"page",index:_t,display:jt(_t)});else if(_t>=zt-Vt&&_t<=zt+(zt===0&&tt>1?Tt-1:Tt))Yt.push({type:"page",index:_t,display:jt(_t)});else if(ht&&Yt.length>0&&Yt[Yt.length-1].display!==Dt&&(tt>0||ot>0)){var Ei=_t<zt?Et.backward:Et.forward;Dt=d().createElement(T,{key:_t,breakAriaLabel:Ei,breakLabel:ht,breakClassName:bt,breakLinkClassName:Pt,breakHandler:x.handleBreakClick.bind(null,_t),getEventListener:x.getEventListener}),Yt.push({type:"break",index:_t,display:Dt})}}Yt.forEach(function(Ee,mn){var ti=Ee;Ee.type==="break"&&Yt[mn-1]&&Yt[mn-1].type==="page"&&Yt[mn+1]&&Yt[mn+1].type==="page"&&Yt[mn+1].index-Yt[mn-1].index<=2&&(ti={type:"page",index:Ee.index,display:jt(Ee.index)}),G.push(ti.display)})}return G}),Z.initialPage!==void 0&&Z.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(Z.initialPage,") and forcePage (").concat(Z.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),U=Z.initialPage?Z.initialPage:Z.forcePage?Z.forcePage:0,x.state={selected:U},x}return et=at,(rt=[{key:"componentDidMount",value:function(){var Z=this.props,x=Z.initialPage,U=Z.disableInitialCallback,G=Z.extraAriaContext,Y=Z.pageCount,tt=Z.forcePage;x===void 0||U||this.callCallback(x),G&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(Y)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(Y,"). Did you forget a Math.ceil()?")),x!==void 0&&x>Y-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(x," > ").concat(Y-1,").")),tt!==void 0&&tt>Y-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(tt," > ").concat(Y-1,")."))}},{key:"componentDidUpdate",value:function(Z){this.props.forcePage!==void 0&&this.props.forcePage!==Z.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(Z.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var Z=this.state.selected,x=this.props,U=x.pageCount,G=Z+x.pageRangeDisplayed;return G>=U?U-1:G}},{key:"getBackwardJump",value:function(){var Z=this.state.selected-this.props.pageRangeDisplayed;return Z<0?0:Z}},{key:"getElementHref",value:function(Z){var x=this.props,U=x.hrefBuilder,G=x.pageCount,Y=x.hrefAllControls;if(U)return Y||Z>=0&&Z<G?U(Z+1,G,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(Z){var x=Z===this.state.selected;if(this.props.ariaLabelBuilder&&Z>=0&&Z<this.props.pageCount){var U=this.props.ariaLabelBuilder(Z+1,x);return this.props.extraAriaContext&&!x&&(U=U+" "+this.props.extraAriaContext),U}}},{key:"getPageElement",value:function(Z){var x=this.state.selected,U=this.props,G=U.pageClassName,Y=U.pageLinkClassName,tt=U.activeClassName,lt=U.activeLinkClassName,ot=U.extraAriaContext,ht=U.pageLabelBuilder;return d().createElement(v,{key:Z,pageSelectedHandler:this.handlePageSelected.bind(null,Z),selected:x===Z,rel:this.getElementPageRel(Z),pageClassName:G,pageLinkClassName:Y,activeClassName:tt,activeLinkClassName:lt,extraAriaContext:ot,href:this.getElementHref(Z),ariaLabel:this.ariaLabelBuilder(Z),page:Z+1,pageLabelBuilder:ht,getEventListener:this.getEventListener})}},{key:"render",value:function(){var Z=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&Z!==void 0)return Z&&Z(this.props);var x=this.props,U=x.disabledClassName,G=x.disabledLinkClassName,Y=x.pageCount,tt=x.className,lt=x.containerClassName,ot=x.previousLabel,ht=x.previousClassName,bt=x.previousLinkClassName,Pt=x.previousAriaLabel,Et=x.prevRel,zt=x.nextLabel,Bt=x.nextClassName,Vt=x.nextLinkClassName,Tt=x.nextAriaLabel,_t=x.nextRel,Dt=this.state.selected,jt=Dt===0,Yt=Dt===Y-1,nn="".concat(w(ht)).concat(jt?" ".concat(w(U)):""),Ei="".concat(w(Bt)).concat(Yt?" ".concat(w(U)):""),Ee="".concat(w(bt)).concat(jt?" ".concat(w(G)):""),mn="".concat(w(Vt)).concat(Yt?" ".concat(w(G)):""),ti=jt?"true":"false",Ba=Yt?"true":"false";return d().createElement("ul",{className:tt||lt,role:"navigation","aria-label":"Pagination"},d().createElement("li",{className:nn},d().createElement("a",C({className:Ee,href:this.getElementHref(Dt-1),tabIndex:jt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ti,"aria-label":Pt,rel:Et},this.getEventListener(this.handlePreviousPage)),ot)),this.pagination(),d().createElement("li",{className:Ei},d().createElement("a",C({className:mn,href:this.getElementHref(Dt+1),tabIndex:Yt?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Ba,"aria-label":Tt,rel:_t},this.getEventListener(this.handleNextPage)),zt)))}}])&&L(et.prototype,rt),Object.defineProperty(et,"prototype",{writable:!1}),at}(h.Component);X(it,"propTypes",{pageCount:g().number.isRequired,pageRangeDisplayed:g().number,marginPagesDisplayed:g().number,previousLabel:g().node,previousAriaLabel:g().string,prevPageRel:g().string,prevRel:g().string,nextLabel:g().node,nextAriaLabel:g().string,nextPageRel:g().string,nextRel:g().string,breakLabel:g().oneOfType([g().string,g().node]),breakAriaLabels:g().shape({forward:g().string,backward:g().string}),hrefBuilder:g().func,hrefAllControls:g().bool,onPageChange:g().func,onPageActive:g().func,onClick:g().func,initialPage:g().number,forcePage:g().number,disableInitialCallback:g().bool,containerClassName:g().string,className:g().string,pageClassName:g().string,pageLinkClassName:g().string,pageLabelBuilder:g().func,activeClassName:g().string,activeLinkClassName:g().string,previousClassName:g().string,nextClassName:g().string,previousLinkClassName:g().string,nextLinkClassName:g().string,disabledClassName:g().string,disabledLinkClassName:g().string,breakClassName:g().string,breakLinkClassName:g().string,extraAriaContext:g().string,ariaLabelBuilder:g().func,eventListener:g().string,renderOnZeroPageCount:g().func,selectedPageRel:g().string}),X(it,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(Q){return Q},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const nt=it})(),u})())}(Jl)),Jl.exports}var hw=uw();const Qd=zd(hw),jl=[{titulo:"V",autor:"Felipe Rosa",poema:["Lgrimas sobre o caixo","Ela ficou no seu lado at o final","Tudo guardado no corao","Esse sempre foi meu mal"]},{titulo:"A.R.T.",autor:"Mukowski",poema:["O meu sofrimento"," a poesia que os","encanta"]},{titulo:"171",autor:"Felipe Rosa",poema:["Mscaras de sorrisos","Para no preocupar os outros","Sempre nas mentiras","Sempre pensando nas pessoas","Nunca pensado em mim"]},{titulo:"A chuva cai la fora",autor:"Felipe Rosa",poema:["O medo no passou","O dio vazou","Escondido na flor","Mas ela me causou tanto dor","Me espetou com o seu amor"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["A traio  um ponto","final que nos divide em","duas histrias."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Se segure, querida, aqui","dentro  um lugar agitado,","voc pode se machucar"]},{titulo:"Me sinto amargo",autor:"Felipe Rosa",poema:["Me tornei amargo","Sem nenhum amigo","Sem ningum para lutar comigo","E talvez eu merea","Eu escutei de mais minha cabea"]},{titulo:"Mais um ms",autor:"Felipe Rosa",poema:["Esse ms eu nem chorei tanto","Olha s, sozinho novamente","Culpa das merda da minha mente","Mas j to acostumado","E uma coisa eu garanto","No sofro mais por no ser amado"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Me perguntaram:","","-At aonde voc iria por amor?","-At o fim dele. -respondi"]},{titulo:"Lua",autor:"Felipe Rosa",poema:["Presos de novo naquele momento","E no importa o quanto eu tento"," um lupin infinito","De dor e sofrimento","E nunca vai passar","Mesmo assim eu continuo a te amar"]},{titulo:"Iris",autor:"Felipe Rosa",poema:[" to difcil de explicar","Esse tal de amar","Queria mesmo era te agradecer","Por ter me tirado do sofrer","Com voc eu queria viver","Mas est difcil de voc entender"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["O tempo passa mais","rpido quando voc no","se importa com ele"]},{titulo:"Ns dois",autor:"Felipe Rosa",poema:["Minha mo na sua cintura","Te olhar  uma grande tortura","Nossas bocas em constante contato","Nossos corpos em constante atrito","No vou mais falar apenas lembrar","Pois o que  bom no devemos divulgar"]},{titulo:"Aurora boreal",autor:"Felipe Rosa",poema:["Aurora boreal","Sua beleza  surreal","Seus olhos ofuscam","Qualquer constelao","Nossos corpos se cruzam","Ficamos na maior tentao"]},{titulo:"Sou seu",autor:"Felipe Rosa",poema:["Seu sorriso  o portal","Que me leva pro local","Aonde no existe mal","E nunca ter um final"]},{titulo:"Happy birthday",autor:"Felipe Rosa",poema:["Me sinto perdido","Sem ter um lugar","Sempre escondido","Me sinto amargurado","Lutando para no me matar"]},{titulo:"O sol e a lua",autor:"Felipe Rosa",poema:["Meu amor por voc"," como o sol","Ele s vai se apagar","Quando tudo deixar de existir.","Mas quando te vi partir","Descobri que voc  como a lua","Voc tentou me ajudar","Mas sua indeciso vive a me machuca"]},{titulo:"Sou quem sou",autor:"Felipe Rosa",poema:["Sem corao","Sem razo","Sem motivao","Estou acorrentado","Me sentindo um fracassado"]},{titulo:"Constelao",autor:"Felipe Rosa",poema:["Hoje eu percebi que voc  meu sol","E eu sou sua lua","Eu tenho uma grande indeciso","No muda o que sinto no meu corao","Voc veio para me aquecer","Me fez esquecer","Me ensinou a entender","E trouxe a minha vontade de viver"]},{titulo:"Desabafo",autor:"Felipe Rosa",poema:["Eu no me sinto bem","Mas relaxa isso no  culpa de ningum","Eu agradeo por voc ter indo embora","Ok fui eu que te mandei embora","E desculpa por ter te passado minha dor","Mas ns dois fomos culpado desse amor"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Ela foi a pessoa que mais","amei, ironicamente, foi a que","mais me destuiu."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Estar sozinho era um","presente dos deuses.","","qualquer coisa era melhor","do que estar rodeado de","pessoas vazias."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["O amor  apenas uma","forma elegante de se","altodestruir"]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["EU tinha duas escolhas:","Matar nosso amor, ou deixar","que ele nos matasse."]},{titulo:"Sem ttulo",autor:"Mukowski",poema:["Naquele erro,","culpei o diabo.","","At que, diante do","espelho, vi oculpado.","Mas no era ele, era eu."]},{titulo:"Porque eu te amo?",autor:"Felipe Rosa",poema:["Eu no consigo nem dizer","Voc me faz querer viver","Voc me completa, toda perfeita","s tudo aquilo que sentia falta"]},{titulo:"Para bem longe daqui",autor:"Felipe Rosa",poema:["Vem comigo vamos fugir","No precisa de lugar pra ir","S preciso que seja eu e voc","E todo o resto podemos esquecer"]},{titulo:"Sempre foi voc",autor:"Felipe Rosa",poema:["Eu posso tar apaixonado","Eu posso tar amando","Eu posso s ta sonhando","Mas em tudo tem voc"]},{titulo:"Minha linda garota",autor:"Felipe Rosa",poema:["Eu robaria a lua e apagaria o sol","S  preciso voc me pedir","No ligaria para as consequncias","Vale de tudo para te ver sorrir"]},{titulo:"Pesadelos",autor:"Felipe Rosa",poema:["Noites em terror","Relembrando toda a dor","Sempre mostrando o meu pior","Falando que nunca vou ser melhor"]}],id=12,zl=(l="")=>l.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();function dw(){const[l,t]=P.useState(""),[e,s]=P.useState(0),[a,o]=P.useState(jl),u=()=>{const v=zl(l.trim());if(!v)o(jl);else{const S=jl.filter(_=>zl(_.titulo).includes(v)||zl(_.autor).includes(v)||_.poema.some(T=>zl(T).includes(v)));o(S)}s(0)},h=()=>{t(""),o(jl),s(0)},d=Math.ceil(a.length/id),p=e*id,g=a.slice(p,p+id),y=v=>{s(v.selected)},b=v=>{v.key==="Enter"&&u()};return F.jsx(F.Fragment,{children:F.jsxs(ow,{children:[F.jsx("h1",{style:{textAlign:"center"},children:"Exposio de Poesias"}),F.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center",alignItems:"center",margin:"16px 0 20px",flexWrap:"wrap"},children:[F.jsx("input",{type:"text",value:l,onChange:v=>t(v.target.value),onKeyDown:b,placeholder:"Buscar por ttulo ou autor...",style:{padding:"10px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ccc",width:"50%",maxWidth:"400px",color:"#000"}}),F.jsx("button",{onClick:u,style:{padding:"10px 14px",borderRadius:"6px",border:"none",cursor:"pointer",width:"20%",maxWidth:"400px",color:"#000"},children:"Buscar"}),F.jsx("button",{onClick:h,style:{padding:"10px 14px",borderRadius:"6px",border:"none",cursor:"pointer",opacity:l?1:.6,width:"20%",maxWidth:"400px",color:"#000"},disabled:!l,children:"Limpar"})]}),F.jsx("hr",{style:{border:"none",height:"2px",backgroundColor:"#ffffff",width:"130%"}}),F.jsx(lw,{children:g.length>0?g.map((v,S)=>F.jsxs("li",{children:[F.jsx("p",{children:v.titulo}),F.jsx("br",{}),v.poema.map((_,T)=>F.jsx("p",{children:_},T)),F.jsx("br",{}),F.jsxs("p",{children:["-- ",v.autor]})]},`${v.titulo}-${S}`)):F.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Nenhum poema encontrado."})}),d>1&&F.jsx(Qd,{previousLabel:" Anterior",nextLabel:"Prxima ",pageCount:d,onPageChange:y,containerClassName:"pagination",activeClassName:"active"})]})})}const fw=It.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  align-items: center;
  padding: 100px 50px;
  background-color: transparente;

  h1 {
    margin-bottom: 25px;
  }
    hr{
    margin-bottom: 25px;
  }

  .pagination {
  display: flex;
  list-style: none;
  gap: 10px;
  
}

.pagination li {
  padding: 5px 10px;
  border: 1px solid #ccc;
  margin-bottom: 25px;
  cursor: pointer;
  
}

.pagination .active {
  background-color: #007bff;
  color: white;
  font-weight: bold;
}
  @media (max-width: 768px) {
    padding: 100px 10px;
  }
  @media (max-width: 450px) {
    padding: 100px 0px;
  }
`,pw=It.div`
  display: grid;
  gap: 1.2rem; /* espaamento entre colunas */
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  max-width: calc(4 * 250px + 3 * 1rem); /* limita a 4 colunas */
  @media (max-width: 768px) {
    grid-template-columns: repeat(2, 1fr); /* duas colunas iguais */
    max-width: 100%; /* ocupa toda a largura disponvel */
  }
  @media (max-width: 450px) {
    grid-template-columns: 1fr; /* apenas 1 coluna */
    max-width: 100%; /* ocupa toda a largura */
  }
`,gw=It.div`
  margin-top: 25px;
  width: 200px;
  

  img {
    width: 100%;
    height: 200px;
    margin-bottom: 10px;
    padding: 0 10px;
    border-radius: 30px;
    cursor: pointer;
  }
   p {
    text-align: center;
    margin: 10px 0;
  }
`;function mw({livro:l}){const t=My();return F.jsx(F.Fragment,{children:F.jsxs(gw,{children:[F.jsx("img",{onClick:()=>t(`/view/${l.id}`,{state:{titulo:l.title,autor:l.autor,img:l.img,descricao:l.descricao}}),src:l.img,alt:"imagem-projeto"}),F.jsx("p",{children:l.title}),F.jsxs("p",{children:["Autor: ",l.autor]})]})})}const Fl=[{img:"/vitrine_criativa/livros/O diario perdido.png",title:"O diario perdido dos meus poemas",autor:"Felipe Rosa",id:"diario",descricao:`Algumas palavras no nascem para serem apenas lidas, elas chegam
                  como tempestades, invadem o peito e s encontram abrigo no papel.
                  Este dirio  feito dessas tempestades e calmarias, de versos que
                  carregam a fria do mar e o silncio da madrugada`},{img:"/vitrine_criativa/livros/aartedaguerra.jpg",title:"A arte da Guerra",autor:"SUN TZU",id:"aartedaguerra",descricao:"Filsofo que se tornou general cujo nome individual era Wu, nasceu no Estado de Chi na China, prximo de 500 a.C., em um auge das cincias militares e legislativas daquele pas. Sun Tzu escreveu a Arte da Guerra."},{img:"/vitrine_criativa/livros/alicepaismaravilhas.jpg",title:"Alice no Pas das Maravilhas",autor:"Lewis Carroll",id:"alicepaismaravilhas",descricao:"Charles Lutwidge Dodgson mais conhecido como CARROLL, LEWIS, seu nome est inscrito na histria da literatura mundial por ser o autor de Alice no Pas das Maravilhas, o mais estranho e fascinante livro para crianas jamais escrito."},{img:"/vitrine_criativa/livros/romeuejulieta.jpg",title:"Romeu e Julieta",autor:"William Shakespeare",id:"romeuejulieta",descricao:"H muito tempo duas famlias banham em sangue as ruas de Verona. Enquanto isso, na penumbra das madrugadas, ardem as brasas de um amor secreto. Romeu, filho dos Montquio, e Julieta, desafiam a rixa familiar e sonham com um impossvel futuro, longe da violncia e da loucura."},{img:"/vitrine_criativa/livros/meninomaluquinho.jpg",title:"O Menino Maluquinho",autor:"Ziraldo",id:"meninomaluquinho",descricao:"Nessa verso disponibilizada, gratuitamente, pelo grande Ziraldo, verso e desenho contam a histria de um menino traquinas que aprontava muita confuso. Alegria da casa, liderava a garotada, era sabido e um amigo. Fazia versinhos, canes, inventava brincadeiras."},{img:"/vitrine_criativa/livros/monica_agua_boa.jpg",title:"Monica e a Agua Boa",autor:"Mauricio de Sousa",id:"monica_agua_boa",descricao:"A Turma da Mnica ensina de forma divertida a importncia da gua potvel para a sade. Com histrias cativantes, os personagens mostram como preservar esse recurso essencial para o planeta e o bem-estar de todos."},{img:"/vitrine_criativa/livros/almanaque da monica 01.png",title:"Almanaque da monica 01",autor:"Mauricio de Sousa",id:"almanaque da monica 01",descricao:`Publicado em 1987 pela Editora Globo, o Almanaque da Mnica n 1 
                reuniu algumas das aventuras mais divertidas e marcantes da Turma da Mnica 
                produzidas entre o final dos anos 1970 e incio dos anos 1980. Em suas pginas, 
                Mnica, Cebolinha, Magali, Casco e outros personagens clssicos vivem situaes 
                cheias de humor, confuso e amizade, alternando histrias do cotidiano, tramas inusitadas e 
                participaes de figuras queridas como o Anjinho. Com mais de 100 pginas, essa edio inaugura a 
                fase dos almanaques na nova casa editorial, preservando o esprito das histrias originais e garantindo muitas risadas 
                para leitores de todas as idades.`}],sd=9,ad=(l="")=>l.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();function yw(){const[l,t]=P.useState(""),[e,s]=P.useState(0),[a,o]=P.useState(Fl),u=()=>{const v=ad(l.trim());if(!v)o(Fl);else{const S=Fl.filter(_=>ad(_.title).includes(v)||ad(_.autor).includes(v));o(S)}s(0)},h=()=>{t(""),o(Fl),s(0)},d=Math.ceil(a.length/sd),p=e*sd,g=a.slice(p,p+sd),y=v=>{s(v.selected)},b=v=>{v.key==="Enter"&&u()};return F.jsxs(fw,{children:[F.jsx("h1",{style:{textAlign:"center"},children:"Exposio de livros"}),F.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center",alignItems:"center",margin:"16px 0 20px",flexWrap:"wrap"},children:[F.jsx("input",{type:"text",value:l,onChange:v=>t(v.target.value),onKeyDown:b,placeholder:"Buscar por ttulo ou autor...",style:{padding:"10px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ccc",width:"50%",maxWidth:"400px",color:"#000"}}),F.jsx("button",{onClick:u,style:{padding:"10px 14px",borderRadius:"6px",border:"none",cursor:"pointer",width:"20%",maxWidth:"400px",color:"#000"},children:"Buscar"}),F.jsx("button",{onClick:h,style:{padding:"10px 14px",borderRadius:"6px",border:"none",cursor:"pointer",opacity:l?1:.6,width:"20%",maxWidth:"400px",color:"#000"},disabled:!l,children:"Limpar"})]}),F.jsx("hr",{style:{border:"none",height:"2px",backgroundColor:"#ffffff",width:"130%"}}),F.jsx(pw,{children:g.length>0?g.map(v=>F.jsx(mw,{livro:v},v.id)):F.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Nenhum livro encontrado."})}),d>1&&F.jsx(Qd,{previousLabel:" Anterior",nextLabel:"Prxima ",pageCount:d,onPageChange:y,containerClassName:"pagination",activeClassName:"active",forcePage:e})]})}const bw="/vitrine_criativa/assets/Fillips01-YCzIhT50.jpg",vw=Object.freeze(Object.defineProperty({__proto__:null,default:bw},Symbol.toStringTag,{value:"Module"})),Aw="/vitrine_criativa/assets/Fillips02-DngQWATK.jpg",Sw=Object.freeze(Object.defineProperty({__proto__:null,default:Aw},Symbol.toStringTag,{value:"Module"})),_w="/vitrine_criativa/assets/Fillips03-DyaH9Mda.jpg",ww=Object.freeze(Object.defineProperty({__proto__:null,default:_w},Symbol.toStringTag,{value:"Module"})),Ew="/vitrine_criativa/assets/Fillips04-BCc2anZb.jpg",xw=Object.freeze(Object.defineProperty({__proto__:null,default:Ew},Symbol.toStringTag,{value:"Module"})),Tw="/vitrine_criativa/assets/Fillips05-Djk-SUh_.jpg",Cw=Object.freeze(Object.defineProperty({__proto__:null,default:Tw},Symbol.toStringTag,{value:"Module"})),Rw="/vitrine_criativa/assets/Fillips06-DbMBavfl.jpg",Mw=Object.freeze(Object.defineProperty({__proto__:null,default:Rw},Symbol.toStringTag,{value:"Module"})),Ow="/vitrine_criativa/assets/Fillips07-BVsqFdRF.jpg",Lw=Object.freeze(Object.defineProperty({__proto__:null,default:Ow},Symbol.toStringTag,{value:"Module"})),Dw="/vitrine_criativa/assets/Fillips08-DORtiNyB.jpg",Nw=Object.freeze(Object.defineProperty({__proto__:null,default:Dw},Symbol.toStringTag,{value:"Module"})),kw="/vitrine_criativa/assets/Fillips09-Dxr7X32v.jpg",Pw=Object.freeze(Object.defineProperty({__proto__:null,default:kw},Symbol.toStringTag,{value:"Module"})),jw="/vitrine_criativa/assets/Fillips10-sYJbUO1V.jpg",zw=Object.freeze(Object.defineProperty({__proto__:null,default:jw},Symbol.toStringTag,{value:"Module"})),Fw="/vitrine_criativa/assets/Fillips11-BfxsBARY.jpg",Iw=Object.freeze(Object.defineProperty({__proto__:null,default:Fw},Symbol.toStringTag,{value:"Module"})),Bw="/vitrine_criativa/assets/Fillips12-B7i6hRry.jpg",Hw=Object.freeze(Object.defineProperty({__proto__:null,default:Bw},Symbol.toStringTag,{value:"Module"})),Uw="/vitrine_criativa/assets/Fillips13-CagZON2P.jpeg",Gw=Object.freeze(Object.defineProperty({__proto__:null,default:Uw},Symbol.toStringTag,{value:"Module"})),qw="/vitrine_criativa/assets/Fillips14-CtmRhE0-.jpeg",Vw=Object.freeze(Object.defineProperty({__proto__:null,default:qw},Symbol.toStringTag,{value:"Module"})),Yw="/vitrine_criativa/assets/Fillips15-D1d9WT-g.jpeg",Xw=Object.freeze(Object.defineProperty({__proto__:null,default:Yw},Symbol.toStringTag,{value:"Module"})),$w="/vitrine_criativa/assets/Fillips16-BVfDEZ1R.jpeg",Kw=Object.freeze(Object.defineProperty({__proto__:null,default:$w},Symbol.toStringTag,{value:"Module"})),Ww="/vitrine_criativa/assets/Fillips17-L3t5DPCe.jpeg",Qw=Object.freeze(Object.defineProperty({__proto__:null,default:Ww},Symbol.toStringTag,{value:"Module"})),Zw="/vitrine_criativa/assets/Fillips18-DGx3y5OO.jpeg",Jw=Object.freeze(Object.defineProperty({__proto__:null,default:Zw},Symbol.toStringTag,{value:"Module"})),tE="/vitrine_criativa/assets/Fillips19-SoiH9cM1.jpeg",eE=Object.freeze(Object.defineProperty({__proto__:null,default:tE},Symbol.toStringTag,{value:"Module"})),nE="/vitrine_criativa/assets/Fillips20-BA52_Mem.jpeg",iE=Object.freeze(Object.defineProperty({__proto__:null,default:nE},Symbol.toStringTag,{value:"Module"})),sE="/vitrine_criativa/assets/Fillips21-DEDWszdz.jpeg",aE=Object.freeze(Object.defineProperty({__proto__:null,default:sE},Symbol.toStringTag,{value:"Module"})),rE="/vitrine_criativa/assets/Fillips22-mSTWYAXf.jpeg",oE=Object.freeze(Object.defineProperty({__proto__:null,default:rE},Symbol.toStringTag,{value:"Module"})),lE="/vitrine_criativa/assets/Fillips23-GOfUSszA.jpeg",cE=Object.freeze(Object.defineProperty({__proto__:null,default:lE},Symbol.toStringTag,{value:"Module"})),uE="/vitrine_criativa/assets/Fillips24-Cqz-SHWW.jpeg",hE=Object.freeze(Object.defineProperty({__proto__:null,default:uE},Symbol.toStringTag,{value:"Module"})),dE="/vitrine_criativa/assets/Fillips25-BF_3UyUD.jpeg",fE=Object.freeze(Object.defineProperty({__proto__:null,default:dE},Symbol.toStringTag,{value:"Module"})),pE="/vitrine_criativa/assets/Fillips26-BEhhszZ-.jpeg",gE=Object.freeze(Object.defineProperty({__proto__:null,default:pE},Symbol.toStringTag,{value:"Module"})),mE="/vitrine_criativa/assets/Fillips27-DAfVMv6I.jpeg",yE=Object.freeze(Object.defineProperty({__proto__:null,default:mE},Symbol.toStringTag,{value:"Module"})),bE="/vitrine_criativa/assets/Fillips28-DYyIzJ8Q.jpeg",vE=Object.freeze(Object.defineProperty({__proto__:null,default:bE},Symbol.toStringTag,{value:"Module"})),AE="/vitrine_criativa/assets/Fillips29-WyNs58G8.jpeg",SE=Object.freeze(Object.defineProperty({__proto__:null,default:AE},Symbol.toStringTag,{value:"Module"})),_E="/vitrine_criativa/assets/Valkarolin01-C6FdktFU.jpg",wE=Object.freeze(Object.defineProperty({__proto__:null,default:_E},Symbol.toStringTag,{value:"Module"})),EE="/vitrine_criativa/assets/Valkarolin02-BiBwDMVY.jpg",xE=Object.freeze(Object.defineProperty({__proto__:null,default:EE},Symbol.toStringTag,{value:"Module"})),TE="/vitrine_criativa/assets/Valkarolin03-BPjjAnnD.jpg",CE=Object.freeze(Object.defineProperty({__proto__:null,default:TE},Symbol.toStringTag,{value:"Module"})),RE="/vitrine_criativa/assets/Valkarolin04-8KEl1tqU.jpg",ME=Object.freeze(Object.defineProperty({__proto__:null,default:RE},Symbol.toStringTag,{value:"Module"})),OE=It.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  align-items: center;
  padding: 100px 50px;
  background-color: transparente;

  h1 {
    margin-bottom: 25px;
  }
      hr{
    margin-bottom: 25px;
  }

  .pagination {
  display: flex;
  list-style: none;
  gap: 10px;
  
}

.pagination li {
  padding: 5px 10px;
  border: 1px solid #ccc;
  margin-bottom: 25px;
  cursor: pointer;
  
}

.pagination .active {
  background-color: #007bff;
  color: white;
  font-weight: bold;
}

  @media (max-width: 768px) {
    padding: 100px 10px;
  }
  @media (max-width: 450px) {
    padding: 100px 0px;
  }
`,LE=It.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 16px;
  margin-top: 20px;
  padding-bottom: 50px;
  width: 100%;
  max-width: 1000px;  
  @media (max-width: 800px) {
    grid-template-columns: 1fr;
  }
`,DE=It.img`
  width: 100%;
  height: 100%;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transition: transform 0.2s ease;

  &:hover {
    transform: scale(1.05);
  }
  @media (max-width: 800px) {
    display: block;
    margin: 0 auto;
    width: 70%;
    height: 90%;
  }
`;It.input`
  padding: 8px;
  font-size: 16px;
  width: 100%;
  max-width: 300px;
  margin-bottom: 20px;
  border: 1px solid #ccc;
  border-radius: 6px;
`;function NE(){const l=Jn(),[t,e]=P.useState(""),[s,a]=P.useState([]),[o,u]=P.useState(0),[h,d]=P.useState(18),p=P.useMemo(()=>Object.entries(Object.assign({"/src/assets/desenhos/Fillips01.jpg":vw,"/src/assets/desenhos/Fillips02.jpg":Sw,"/src/assets/desenhos/Fillips03.jpg":ww,"/src/assets/desenhos/Fillips04.jpg":xw,"/src/assets/desenhos/Fillips05.jpg":Cw,"/src/assets/desenhos/Fillips06.jpg":Mw,"/src/assets/desenhos/Fillips07.jpg":Lw,"/src/assets/desenhos/Fillips08.jpg":Nw,"/src/assets/desenhos/Fillips09.jpg":Pw,"/src/assets/desenhos/Fillips10.jpg":zw,"/src/assets/desenhos/Fillips11.jpg":Iw,"/src/assets/desenhos/Fillips12.jpg":Hw,"/src/assets/desenhos/Fillips13.jpeg":Gw,"/src/assets/desenhos/Fillips14.jpeg":Vw,"/src/assets/desenhos/Fillips15.jpeg":Xw,"/src/assets/desenhos/Fillips16.jpeg":Kw,"/src/assets/desenhos/Fillips17.jpeg":Qw,"/src/assets/desenhos/Fillips18.jpeg":Jw,"/src/assets/desenhos/Fillips19.jpeg":eE,"/src/assets/desenhos/Fillips20.jpeg":iE,"/src/assets/desenhos/Fillips21.jpeg":aE,"/src/assets/desenhos/Fillips22.jpeg":oE,"/src/assets/desenhos/Fillips23.jpeg":cE,"/src/assets/desenhos/Fillips24.jpeg":hE,"/src/assets/desenhos/Fillips25.jpeg":fE,"/src/assets/desenhos/Fillips26.jpeg":gE,"/src/assets/desenhos/Fillips27.jpeg":yE,"/src/assets/desenhos/Fillips28.jpeg":vE,"/src/assets/desenhos/Fillips29.jpeg":SE,"/src/assets/desenhos/Valkarolin01.jpg":wE,"/src/assets/desenhos/Valkarolin02.jpg":xE,"/src/assets/desenhos/Valkarolin03.jpg":CE,"/src/assets/desenhos/Valkarolin04.jpg":ME})).map(([O,C])=>{const L=O.split("/").pop().split(".")[0];return{src:C.default,nome:L.toLowerCase()}}),[]);P.useEffect(()=>{a(p)},[p]),P.useEffect(()=>{const w=()=>{window.innerWidth<768?d(6):window.innerWidth<1024?d(12):d(18)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),P.useEffect(()=>{e(""),a(p),u(0)},[l.pathname,p]);const g=()=>{const w=t.trim().toLowerCase();a(w?p.filter(O=>O.nome.includes(w)):p),u(0)},y=()=>{e(""),a(p),u(0)},b=w=>w.key==="Enter"&&g(),v=Math.ceil(s.length/h),S=o*h,_=s.slice(S,S+h),T=w=>u(w.selected);return F.jsxs(OE,{children:[F.jsx("h2",{style:{textAlign:"center"},children:"Desenhos"}),F.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"center",alignItems:"center",margin:"16px 0 20px",flexWrap:"wrap"},children:[F.jsx("input",{type:"text",value:t,onChange:w=>e(w.target.value),onKeyDown:b,placeholder:"Buscar por autor...",style:{padding:"10px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ccc",width:"50%",maxWidth:"400px",color:"#000"}}),F.jsx("button",{onClick:g,style:{padding:"10px 14px",borderRadius:"6px",border:"none",cursor:"pointer",width:"20%",maxWidth:"400px",color:"#000"},children:"Buscar"}),F.jsx("button",{onClick:y,disabled:!t,style:{padding:"10px 14px",borderRadius:"6px",border:"none",cursor:"pointer",opacity:t?1:.6,width:"20%",maxWidth:"400px",color:"#000"},children:"Limpar"})]}),F.jsx("hr",{style:{border:"none",height:"2px",backgroundColor:"#ffffff",width:"130%"}}),F.jsx(LE,{children:_.length>0?_.map((w,O)=>F.jsx(DE,{src:w.src,alt:w.nome},O)):F.jsx("p",{style:{color:"#fff",textAlign:"center"},children:"Nenhum desenho encontrado."})}),v>1&&F.jsx(Qd,{previousLabel:" Anterior",nextLabel:"Prxima ",pageCount:v,onPageChange:T,containerClassName:"pagination",activeClassName:"active",forcePage:o})]})}const kE=It.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 100px;
`;function PE(){return F.jsx(F.Fragment,{children:F.jsx(kE,{children:"Games"})})}const jE=lb`
    from {
        transform: scale(0);
    }
    to{
        transform: scale(1);
    }
`,B0=It.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0;

  h2 span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
  }
  button {
    background-color: #4d7cfe;
    color: #fff;
    width: 10rem;
    height: 35px;
    border-radius: 40px;
    cursor: pointer;
    border: none;
  }
  @media (max-width: 768px) {
    h2 span {
      font-size: 1.4rem;
      font-weight: 400;
    }
    button {
      width: 5rem;
      height: 25px;
    }
  }
  @media (max-width: 450px) {
  }
`,zE=It.div`
  width: 80%;
  height: 70%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  @media (max-width: 900px) {
    flex-direction: column;
  }
  @media (max-width: 450px) {
  }
`,FE=It.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  h2 {
    font-size: 1.7rem;
  }
  img {
    height: 300px;
    border-radius: 30px;
    animation: ${jE} 0.5s linear;
  }

  @media (max-width: 768px) {
    img {
      width: 80%;
    }
    h2 {
      font-size: 1.1rem;
    }
  }
  @media (max-width: 450px) {
  }
`,IE=It.div`
  display: flex;
  flex-direction: column;
  justify-content: center;

  p span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
    background-color: #000;
  }
  p {
    width: 700px;
    font-size: 1.4rem;
    background-color: #000;
  }

  button {
    display: block;
    margin: 25px auto;
  }

  @media (max-width: 768px) {
   
    p {
      width: 90%;
      font-size: 1.1rem;
    }
     p span {
      font-size: 1.3rem;
      font-weight: 400;
    }

  }
  @media (max-width: 450px) {
  }
`;var cb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H0=Ge.createContext&&Ge.createContext(cb),BE=["attr","size","title"];function HE(l,t){if(l==null)return{};var e=UE(l,t),s,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(a=0;a<o.length;a++)s=o[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(l,s)&&(e[s]=l[s])}return e}function UE(l,t){if(l==null)return{};var e={};for(var s in l)if(Object.prototype.hasOwnProperty.call(l,s)){if(t.indexOf(s)>=0)continue;e[s]=l[s]}return e}function lc(){return lc=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(l[s]=e[s])}return l},lc.apply(this,arguments)}function U0(l,t){var e=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable})),e.push.apply(e,s)}return e}function cc(l){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(e),!0).forEach(function(s){GE(l,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(e)):U0(Object(e)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(e,s))})}return l}function GE(l,t,e){return t=qE(t),t in l?Object.defineProperty(l,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[t]=e,l}function qE(l){var t=VE(l,"string");return typeof t=="symbol"?t:t+""}function VE(l,t){if(typeof l!="object"||!l)return l;var e=l[Symbol.toPrimitive];if(e!==void 0){var s=e.call(l,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(l)}function ub(l){return l&&l.map((t,e)=>Ge.createElement(t.tag,cc({key:e},t.attr),ub(t.child)))}function YE(l){return t=>Ge.createElement(XE,lc({attr:cc({},l.attr)},t),ub(l.child))}function XE(l){var t=e=>{var{attr:s,size:a,title:o}=l,u=HE(l,BE),h=a||e.size||"1em",d;return e.className&&(d=e.className),l.className&&(d=(d?d+" ":"")+l.className),Ge.createElement("svg",lc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,u,{className:d,style:cc(cc({color:l.color||e.color},e.style),l.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ge.createElement("title",null,o),l.children)};return H0!==void 0?Ge.createElement(H0.Consumer,null,e=>t(e)):t(cb)}function $E(l){return YE({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M880 112c17.7 0 32 14.3 32 32v736c0 17.7-14.3 32-32 32H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32ZM639.978 338.82l-.034.006c-.023.007-.042.018-.083.059L512 466.745l-127.86-127.86c-.042-.041-.06-.052-.084-.059a.118.118 0 0 0-.07 0c-.022.007-.041.018-.082.059l-45.02 45.019c-.04.04-.05.06-.058.083a.118.118 0 0 0 0 .07l.01.022a.268.268 0 0 0 .049.06L466.745 512l-127.86 127.862c-.041.04-.052.06-.059.083a.118.118 0 0 0 0 .07c.007.022.018.041.059.082l45.019 45.02c.04.04.06.05.083.058a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059L512 557.254l127.862 127.861c.04.041.06.052.083.059a.118.118 0 0 0 .07 0c.022-.007.041-.018.082-.059l45.02-45.019c.04-.04.05-.06.058-.083a.118.118 0 0 0 0-.07l-.01-.022a.268.268 0 0 0-.049-.06L557.254 512l127.861-127.86c.041-.042.052-.06.059-.084a.118.118 0 0 0 0-.07c-.007-.022-.018-.041-.059-.082l-45.019-45.02c-.04-.04-.06-.05-.083-.058a.118.118 0 0 0-.07 0Z"},child:[]}]})(l)}const KE=It.div`
  background-color: rgba(0, 0, 0, 0.7);
  width: 100%;
  height: 90%;
  
  position: fixed;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  z-index: 999;
   @media (max-width: 908px) {
    top:75px;
  }
`,WE=It.div`
  width: 60dvw;
  display: flex;
  height: 100dvh;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  max-width: 1200px;
  background-color: #000;
  @media (max-width: 908px) {
    width: 90dvw;
    height: 80dvh;
    
  }
  @media (max-width: 450px) {
  }

`,QE=It($E)`
  color: red;
  font-size: 54px;
  cursor: pointer;
  position: relative;
  right: -570px;
`,ZE=It.div`
  perspective: 400px;
`,JE=It.div`
  display: flex;
  justify-content: center;
  gap: 5px;
  
`,rd=It.div`
  transform-origin: left center;
  transition: transform 0.6s ease;
  backface-visibility: hidden;

  &.right {
    transform-origin: left center;
  }

  &.left {
    transform-origin: right center;
  }

  &.flip-right {
    transform: rotateY(-220deg);
  }

  &.flip-left {
    transform: rotateY(220deg);
  }

  /* Estilos internos do react-pdf */
  .react-pdf__Page {
    display: block;
  }

  .react-pdf__Page canvas {
    max-width: 100%;
    max-height: 90dvh;
    height: auto;
  }

  @media (max-width: 900px) {
    width: 100%;
    transform: none !important; /* Remove efeito de virar 2 pginas */
  }
`,tx=It.div`
  margin-top: 10px;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap; /* Quebra em vrias linhas se necessrio */

  button {
    padding: 8px 14px;
    font-size: 16px;
    margin: 5px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background: #444;
    color: #fff;
    transition: background 0.2s ease;

    &:hover {
      background: #666;
    }

    &:disabled {
      background: #222;
      cursor: not-allowed;
    }

    @media (max-width: 900px) {
      font-size: 14px;
      padding: 6px 10px;
       margin-top: 2px;
    }
  }
`,ex=It.span`
  margin: 0 10px;

  @media (max-width: 900px) {
    font-size: 14px;
  }
`,Ye=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Cd=[.001,0,0,.001,0,0],od=1.35,fn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qn={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nx="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},hb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Wr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},he={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Aa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},co={ERRORS:0,WARNINGS:1,INFOS:5},to={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Il={moveTo:0,lineTo:1,curveTo:2,closePath:3},db={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _c=co.WARNINGS;function ix(l){Number.isInteger(l)&&(_c=l)}function sx(){return _c}function wc(l){_c>=co.INFOS&&console.log(`Info: ${l}`)}function St(l){_c>=co.WARNINGS&&console.log(`Warning: ${l}`)}function Wt(l){throw new Error(l)}function Ae(l,t){l||Wt(t)}function ax(l){switch(l?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Zd(l,t=null,e=null){if(!l)return null;if(e&&typeof l=="string"&&(e.addDefaultProtocol&&l.startsWith("www.")&&l.match(/\./g)?.length>=2&&(l=`http://${l}`),e.tryConvertEncoding))try{l=ux(l)}catch{}const s=t?URL.parse(l,t):URL.parse(l);return ax(s)?s:null}function Jd(l,t,e=!1){const s=URL.parse(l);return s?(s.hash=t,s.href):e&&Zd(l,"http://example.com")?l.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Lt(l,t,e,s=!1){return Object.defineProperty(l,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Ls=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class G0 extends Ls{constructor(t,e){super(t,"PasswordException"),this.code=e}}class ld extends Ls{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class uc extends Ls{constructor(t){super(t,"InvalidPDFException")}}class eo extends Ls{constructor(t,e,s){super(t,"ResponseException"),this.status=e,this.missing=s}}class rx extends Ls{constructor(t){super(t,"FormatError")}}class _i extends Ls{constructor(t){super(t,"AbortException")}}function fb(l){(typeof l!="object"||l?.length===void 0)&&Wt("Invalid argument for bytesToString");const t=l.length,e=8192;if(t<e)return String.fromCharCode.apply(null,l);const s=[];for(let a=0;a<t;a+=e){const o=Math.min(a+e,t),u=l.subarray(a,o);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function uo(l){typeof l!="string"&&Wt("Invalid argument for stringToBytes");const t=l.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=l.charCodeAt(s)&255;return e}function ox(l){return String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255)}function lx(){const l=new Uint8Array(4);return l[0]=1,new Uint32Array(l.buffer,0,1)[0]===1}function cx(){try{return new Function(""),!0}catch{return!1}}class De{static get isLittleEndian(){return Lt(this,"isLittleEndian",lx())}static get isEvalSupported(){return Lt(this,"isEvalSupported",cx())}static get isOffscreenCanvasSupported(){return Lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Lt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Lt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Lt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const cd=Array.from(Array(256).keys(),l=>l.toString(16).padStart(2,"0"));class ft{static makeHexColor(t,e,s){return`#${cd[t]}${cd[e]}${cd[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,s=0){const a=t[s],o=t[s+1];t[s]=a*e[0]+o*e[2]+e[4],t[s+1]=a*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,s=0){const a=e[0],o=e[1],u=e[2],h=e[3],d=e[4],p=e[5];for(let g=0;g<6;g+=2){const y=t[s+g],b=t[s+g+1];t[s+g]=y*a+b*u+d,t[s+g+1]=y*o+b*h+p}}static applyInverseTransform(t,e){const s=t[0],a=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(s*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-s*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,s){const a=e[0],o=e[1],u=e[2],h=e[3],d=e[4],p=e[5],g=t[0],y=t[1],b=t[2],v=t[3];let S=a*g+d,_=S,T=a*b+d,w=T,O=h*y+p,C=O,L=h*v+p,R=L;if(o!==0||u!==0){const j=o*g,N=o*b,$=u*y,X=u*v;S+=$,w+=$,T+=X,_+=X,O+=j,R+=j,L+=N,C+=N}s[0]=Math.min(s[0],S,T,_,w),s[1]=Math.min(s[1],O,L,C,R),s[2]=Math.max(s[2],S,T,_,w),s[3]=Math.max(s[3],O,L,C,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const s=t[0],a=t[1],o=t[2],u=t[3],h=s**2+a**2,d=s*o+a*u,p=o**2+u**2,g=(h+p)/2,y=Math.sqrt(g**2-(h*p-d**2));e[0]=Math.sqrt(g+y||1),e[1]=Math.sqrt(g-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>a)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>u?null:[s,o,a,u]}static pointBoundingBox(t,e,s){s[0]=Math.min(s[0],t),s[1]=Math.min(s[1],e),s[2]=Math.max(s[2],t),s[3]=Math.max(s[3],e)}static rectBoundingBox(t,e,s,a,o){o[0]=Math.min(o[0],t,s),o[1]=Math.min(o[1],e,a),o[2]=Math.max(o[2],t,s),o[3]=Math.max(o[3],e,a)}static#t(t,e,s,a,o,u,h,d,p,g){if(p<=0||p>=1)return;const y=1-p,b=p*p,v=b*p,S=y*(y*(y*t+3*p*e)+3*b*s)+v*a,_=y*(y*(y*o+3*p*u)+3*b*h)+v*d;g[0]=Math.min(g[0],S),g[1]=Math.min(g[1],_),g[2]=Math.max(g[2],S),g[3]=Math.max(g[3],_)}static#e(t,e,s,a,o,u,h,d,p,g,y,b){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&this.#t(t,e,s,a,o,u,h,d,-y/g,b);return}const v=g**2-4*y*p;if(v<0)return;const S=Math.sqrt(v),_=2*p;this.#t(t,e,s,a,o,u,h,d,(-g+S)/_,b),this.#t(t,e,s,a,o,u,h,d,(-g-S)/_,b)}static bezierBoundingBox(t,e,s,a,o,u,h,d,p){p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,d),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,d),this.#e(t,s,o,h,e,a,u,d,3*(-t+3*(s-o)+h),6*(t-2*s+o),3*(s-t),p),this.#e(t,s,o,h,e,a,u,d,3*(-e+3*(a-u)+d),6*(e-2*a+u),3*(a-e),p)}}function ux(l){return decodeURIComponent(escape(l))}let ud=null,q0=null;function pb(l){return ud||(ud=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,q0=new Map([["","t"]])),l.replaceAll(ud,(t,e,s)=>e?e.normalize("NFKC"):q0.get(s))}function tf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const l=new Uint8Array(32);return crypto.getRandomValues(l),fb(l)}const ef="pdfjs_internal_id_";function hx(l,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[s,a,...o]=e;if(!l(s)&&!Number.isInteger(s)||!t(a))return!1;const u=o.length;let h=!0;switch(a.name){case"XYZ":if(u<2||u>3)return!1;break;case"Fit":case"FitB":return u===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(u>1)return!1;break;case"FitR":if(u!==4)return!1;h=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||h&&d===null))return!1;return!0}function He(l,t,e){return Math.min(Math.max(l,t),e)}function gb(l){return Uint8Array.prototype.toBase64?l.toBase64():btoa(fb(l))}function dx(l){return Uint8Array.fromBase64?Uint8Array.fromBase64(l):uo(atob(l))}typeof Promise.try!="function"&&(Promise.try=function(l,...t){return new Promise(e=>{e(l(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(l){return l.reduce((t,e)=>t+e,0)});const yi="http://www.w3.org/2000/svg";class Cs{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ia(l,t="text"){if(Yr(l,document.baseURI)){const e=await fetch(l);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const a=new XMLHttpRequest;a.open("GET",l,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class ho{constructor({viewBox:t,userUnit:e,scale:s,rotation:a,offsetX:o=0,offsetY:u=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=s,this.rotation=a,this.offsetX=o,this.offsetY=u,s*=e;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,y,b,v;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,y=0,b=0,v=1;break;case 90:g=0,y=1,b=1,v=0;break;case 270:g=0,y=-1,b=-1,v=0;break;case 0:g=1,y=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(b=-b,v=-v);let S,_,T,w;g===0?(S=Math.abs(p-t[1])*s+o,_=Math.abs(d-t[0])*s+u,T=(t[3]-t[1])*s,w=(t[2]-t[0])*s):(S=Math.abs(d-t[0])*s+o,_=Math.abs(p-t[1])*s+u,T=(t[2]-t[0])*s,w=(t[3]-t[1])*s),this.transform=[g*s,y*s,b*s,v*s,S-g*s*d-b*s*p,_-y*s*d-v*s*p],this.width=T,this.height=w}get rawDims(){const t=this.viewBox;return Lt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new ho({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:o})}convertToViewportPoint(t,e){const s=[t,e];return ft.applyTransform(s,this.transform),s}convertToViewportRectangle(t){const e=[t[0],t[1]];ft.applyTransform(e,this.transform);const s=[t[2],t[3]];return ft.applyTransform(s,this.transform),[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){const s=[t,e];return ft.applyInverseTransform(s,this.transform),s}}class Ec extends Ls{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function fo(l){const t=l.length;let e=0;for(;e<t&&l[e].trim()==="";)e++;return l.substring(e,e+5).toLowerCase()==="data:"}function xc(l){return typeof l=="string"&&/\.pdf$/i.test(l)}function mb(l){return[l]=l.split(/[#?]/,1),l.substring(l.lastIndexOf("/")+1)}function yb(l,t="document.pdf"){if(typeof l!="string")return t;if(fo(l))return St('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(l);let o=s.exec(a[1])||s.exec(a[2])||s.exec(a[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class V0{started=Object.create(null);times=[];time(t){t in this.started&&St(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||St(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:a,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-a}ms
`);return t.join("")}}function Yr(l,t){const e=t?URL.parse(l,t):URL.parse(l);return e?.protocol==="http:"||e?.protocol==="https:"}function Mn(l){l.preventDefault()}function fe(l){l.preventDefault(),l.stopPropagation()}function fx(l){console.log("Deprecated API usage: "+l)}class nf{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const s=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(u+=g,h+=y):p==="+"&&(u-=g,h-=y),new Date(Date.UTC(s,a,o,u,h,d))}}function bb(l,{scale:t=1,rotation:e=0}){const{width:s,height:a}=l.attributes.style,o=[0,0,parseInt(s),parseInt(a)];return new ho({viewBox:o,userUnit:1,scale:t,rotation:e})}function sf(l){if(l.startsWith("#")){const t=parseInt(l.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return l.startsWith("rgb(")?l.slice(4,-1).split(",").map(t=>parseInt(t)):l.startsWith("rgba(")?l.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(St(`Not a valid color format: "${l}"`),[0,0,0])}function px(l){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of l.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;l.set(e,sf(s))}t.remove()}function ae(l){const{a:t,b:e,c:s,d:a,e:o,f:u}=l.getTransform();return[t,e,s,a,o,u]}function Vn(l){const{a:t,b:e,c:s,d:a,e:o,f:u}=l.getTransform().invertSelf();return[t,e,s,a,o,u]}function Ji(l,t,e=!1,s=!0){if(t instanceof ho){const{pageWidth:a,pageHeight:o}=t.rawDims,{style:u}=l,h=De.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${o}px`,g=h?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,y=h?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=g,u.height=y):(u.width=y,u.height=g)}s&&l.setAttribute("data-main-rotation",t.rotation)}class jn{constructor(){const{pixelRatio:t}=jn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,s,a,o=-1){let u=1/0,h=1/0,d=1/0;s=jn.capPixels(s,o),s>0&&(u=Math.sqrt(s/(t*e))),a!==-1&&(h=a/t,d=a/e);const p=Math.min(u,h,d);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,s):s}return t}}const hc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Qr{#t=null;#e=null;#n;#i=null;#a=null;#s=null;static#l=null;constructor(t){this.#n=t,Qr.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Mn,{signal:e}),t.addEventListener("pointerdown",Qr.#o,{signal:e});const s=this.#i=document.createElement("div");s.className="buttons",t.append(s);const a=this.#n.toolbarPosition;if(a){const{style:o}=t,u=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#h(t){this.#n._focusEventsAllowed=!1,fe(t)}#c(t){this.#n._focusEventsAllowed=!0,fe(t)}#d(t){const e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Mn,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#u(){const{editorType:t,_uiManager:e}=this.#n,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",Qr.#l[t]),this.#d(s),s.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#i.append(s)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#i.prepend(e,this.#f),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#i.prepend(e,this.#f)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#n);this.#d(e),this.#i.prepend(e,this.#f)}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class gx{#t=null;#e=null;#n;constructor(t){this.#n=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Mn,{signal:this.#n._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let s=0,a=0;for(const o of t){const u=o.y+o.height;if(u<s)continue;const h=o.x+(e?o.width:0);if(u>s){a=h,s=u;continue}e?h>a&&(a=h):h<a&&(a=h)}return[e?1-a:a,s]}show(t,e,s){const[a,o]=this.#a(e,s),{style:u}=this.#e||=this.#i();t.append(this.#e),u.insetInlineEnd=`${100*a}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#n._signal;t.addEventListener("contextmenu",Mn,{signal:s}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:s}),this.#t.append(t)}}function vb(l,t,e){for(const s of e)t.addEventListener(s,l[s].bind(l))}class mx{#t=0;get id(){return`${nx}${this.#t++}`}}class af{#t=tf();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const o=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Lt(this,"_isSVGFittingCanvas",o)}async#i(t,e){this.#n||=new Map;let s=this.#n.get(t);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(s.url=e,a=await Ia(e,"blob")):e instanceof File?a=s.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const o=af._isSVGFittingCanvas,u=new FileReader,h=new Image,d=new Promise((p,g)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},u.onload=async()=>{const y=s.svgUrl=u.result;h.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=u.onerror=g});u.readAsDataURL(a),await d}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){St(a),s=null}return this.#n.set(t,s),s&&this.#n.set(s.id,s),s}async getFromFile(t){const{lastModified:e,name:s,size:a,type:o}=t;return this.#i(`${e}_${s}_${a}_${o}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,e){const s=await e;return this.#i(t,s)}async getFromId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#n||=new Map;let s=this.#n.get(t);if(s?.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,s),this.#n.set(s.id,s),s}getSvgUrl(t){const e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;const e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=a.convertToBlob()}s.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class yx{#t=[];#e=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:s,mustExec:a,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:h=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:s,type:o};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(d);return}if(u&&this.#t[this.#i].type===o){h&&(d.undo=this.#t[this.#i].undo),this.#t[this.#i]=d;return}const p=this.#i+1;p===this.#n?this.#t.splice(0,1):(this.#i=p,p<this.#t.length&&this.#t.splice(p)),this.#t.push(d)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#i];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#i-e),this.#i=e;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class po{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=De.platform;for(const[s,a,o={}]of t)for(const u of s){const h=u.startsWith("mac+");e&&h?(this.callbacks.set(u.slice(4),{callback:a,options:o}),this.allKeys.add(u.split("+").at(-1))):!e&&!h&&(this.callbacks.set(u,{callback:a,options:o}),this.allKeys.add(u.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(this.#t(e));if(!s)return;const{callback:a,options:{bubbles:o=!1,args:u=[],checker:h=null}}=s;h&&!h(t,e)||(a.bind(t,...u,e)(),o||fe(e))}}class rf{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return px(t),Lt(this,"_colors",t)}convert(t){const e=sf(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,a]of this._colors)if(a.every((o,u)=>o===e[u]))return rf._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?ft.makeHexColor(...e):t}}class wi{#t=new AbortController;#e=null;#n=new Map;#i=new Map;#a=null;#s=null;#l=null;#o=new yx;#h=null;#c=null;#d=0;#u=new Set;#f=null;#r=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#y=!1;#b=null;#v=null;#S=null;#w=null;#x=!1;#C=null;#M=new mx;#_=!1;#R=!1;#T=null;#L=null;#D=null;#N=null;#B=null;#E=At.NONE;#A=new Set;#z=null;#F=null;#G=null;#q=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#k=null;#P=null;#U=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=wi.prototype,e=u=>u.#P.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Lt(this,"_keyboardManager",new po([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#P.contains(h)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#P.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,s,a,o,u,h,d,p,g,y,b,v,S){const _=this._signal=this.#t.signal;this.#P=t,this.#U=e,this.#a=s,this.#F=a,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:_}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),o._on("setpreference",this.onSetPreference.bind(this),{signal:_}),o._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:_}),this.#it(),this.#ot(),this.#W(),this.#s=u.annotationStorage,this.#b=u.filterFactory,this.#G=h,this.#w=d||null,this.#m=p,this.#g=g,this.#y=y,this.#B=b||null,this.viewParameters={realScale:Cs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=S!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#N?.clear(),this.#e=null,this.#A.clear(),this.#o.destroy(),this.#a?.destroy(),this.#F?.destroy(),this.#C?.hide(),this.#C=null,this.#D?.destroy(),this.#D=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#k&&(clearTimeout(this.#k),this.#k=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Lt(this,"hcmFilter",this.#G?this.#b.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Lt(this,"direction",getComputedStyle(this.#P).direction)}get highlightColors(){return Lt(this,"highlightColors",this.#w?new Map(this.#w.split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Lt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#D=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#P.focus()}findParent(t,e){for(const s of this.#i.values()){const{x:a,y:o,width:u,height:h}=s.div.getBoundingClientRect();if(t>=a&&t<=a+u&&e>=o&&e<=o+h)return s}return null}disableUserSelect(t=!1){this.#U.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Cs.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#X({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of this.#i.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:o,focusOffset:u}=e,h=e.toString(),p=this.#X(e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const y=this.#K(p),b=this.#E===At.NONE,v=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:a,focusNode:o,focusOffset:u,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(At.HIGHLIGHT,v);return}v()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=this.#X(t).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(this.#C||=new gx(this),this.#C.show(s,a,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#z&&(this.#C?.hide(),this.#z=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#z)return;const a=this.#X(t).closest(".textLayer");if(!a){this.#z&&(this.#C?.hide(),this.#z=null,this.#O({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#z=e,this.#O({hasSelectedText:!0}),!(this.#E!==At.HIGHLIGHT&&this.#E!==At.NONE)&&(this.#E===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#E===At.HIGHLIGHT?this.#K(a):null;o?.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),d=p=>{p.type==="pointerup"&&p.button!==0||(u.abort(),o?.toggleDrawing(!0),p.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}}#$(t=""){this.#E===At.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#st(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#at(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#W(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#rt(){this.#T?.abort(),this.#T=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#ot(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#Q()}removeEditListeners(){this.#rt(),this.#Z()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of this.#r)if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of this.#r)if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of this.#A){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const u of this.#r)if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){St(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const d of s){const p=await a.deserialize(d);if(!p)return;o.push(p)}const u=()=>{for(const d of o)this.#J(d);this.#tt(o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}catch(o){St(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==At.NONE&&!this.isEditorHandlingKeyboard&&wi._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#O(t){Object.entries(t).some(([s,a])=>this.#V[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,t)}),this.#E===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#I([[Nt.HIGHLIGHT_FREE,!0]]))}#I(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#st(),this.#Q(),this.#O({isEditing:this.#E!==At.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#at(),this.#Z(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#r){this.#r=t;for(const e of this.#r)this.#I(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#_?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(this.#E!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#E=t,t===At.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#j.resolve();return}t===At.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#lt(),this.unselectAll();for(const a of this.#i.values())a.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const a of this.#n.values())a.annotationElementId===e||a.id===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#r){switch(t){case Nt.CREATE:this.currentLayer.addNewEditor(e);return;case Nt.HIGHLIGHT_DEFAULT_COLOR:this.#D?.updateColor(e);break;case Nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const s of this.#A)s.updateParams(t,e);for(const s of this.#r)s.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#q?.get(Nt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#I([[Nt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#R!==t){this.#R=t;for(const e of this.#i.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#lt(){if(!this.#_){this.#_=!0;const t=[];for(const e of this.#i.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ct(){if(this.unselectAll(),this.#_){this.#_=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const e=[];for(const s of this.#n.values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const e=this.#i.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#I(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#A);return t}updateUI(t){this.#ut===t&&this.#I(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#I(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#O({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(t){this.#o.add(t),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(t){this.#o.cleanType(t)}#Y(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],s=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},a=()=>{for(const o of e)this.#J(o)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#tt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==At.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[a,o]=this.#H,u=[...this.#A],h=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of u)this.#n.has(d.id)&&(d.translateInPage(a,o),d.translationDone())},undo:()=>{for(const d of u)this.#n.has(d.id)&&(d.translateInPage(-a,-o),d.translationDone())},mustExec:!1})},h);for(const d of u)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#A)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:a,y:o,pageIndex:u},h]of t)h.newX=a,h.newY=o,h.newPageIndex=u,e||=a!==h.savedX||o!==h.savedY||u!==h.savedPageIndex;if(!e)return!1;const s=(a,o,u,h)=>{if(this.#n.has(a.id)){const d=this.#i.get(h);d?a._setParentAndPosition(d,o,u):(a.pageIndex=h,a.x=o,a.y=u)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:u,newPageIndex:h}]of t)s(a,o,u,h)},undo:()=>{for(const[a,{savedX:o,savedY:u,savedPageIndex:h}]of t)s(a,o,u,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const s of this.#f.keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return Lt(this,"imageManager",new af)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:a,width:o,height:u}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,y,b)=>({x:(g-a)/u,y:1-(p+y-s)/o,width:b/u,height:y/o});break;case"180":h=(p,g,y,b)=>({x:1-(p+y-s)/o,y:1-(g+b-a)/u,width:y/o,height:b/u});break;case"270":h=(p,g,y,b)=>({x:1-(g+b-a)/u,y:(p-s)/o,width:b/u,height:y/o});break;default:h=(p,g,y,b)=>({x:(p-s)/o,y:(g-a)/u,width:y/o,height:b/u});break}const d=[];for(let p=0,g=e.rangeCount;p<g;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:b,y:v,width:S,height:_}of y.getClientRects())S===0||_===0||d.push(h(b,v,S,_))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#l||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#l?.delete(t)}renderAnnotationElement(t){const e=this.#l?.get(t.data.id);if(!e)return;const s=this.#s.getRawValue(e);s&&(this.#E===At.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}setMissingCanvas(t,e,s){const a=this.#N?.get(t);a&&(a.setCanvas(e,s),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class $n{#t=null;#e=!1;#n=null;#i=null;#a=null;#s=null;#l=!1;#o=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,$n.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){$n._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#i=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",$n.#f.missing),e.setAttribute("data-l10n-id",$n.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#h._uiManager._signal;t.addEventListener("contextmenu",Mn,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const a=o=>{o.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",a,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#l=!0,a(o))},{signal:s}),await this.#p(),t}get#r(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await $n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#c===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:a,cancel:o=!1}){s&&(this.#c=s,this.#d=a),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#n;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",$n.#f[this.#r]),this.#i?.setAttribute("data-l10n-id",$n.#f[`${this.#r}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const a=100,o=this.#h._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class go{#t;#e=!1;#n=null;#i;#a;#s;#l;#o=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:u=null,signal:h}){this.#t=t,this.#n=s,this.#i=e,this.#a=a,this.#s=o,this.#l=u,this.#d=new AbortController,this.#h=AbortSignal.any([h,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/jn.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,o=AbortSignal.any([this.#h,a.signal]),u=this.#t,h={capture:!0,signal:o,passive:!1},d=p=>{p.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};u.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(fe(p),d(p))},h),u.addEventListener("pointerup",d,h),u.addEventListener("pointercancel",d,h);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#h,this.#u.signal]),o=this.#t,u={signal:a,capture:!1,passive:!1};o.addEventListener("touchmove",this.#r.bind(this),u);const h=this.#p.bind(this);o.addEventListener("touchend",h,u),o.addEventListener("touchcancel",h,u),u.capture=!0,o.addEventListener("pointerdown",fe,u),o.addEventListener("pointermove",fe,u),o.addEventListener("pointercancel",fe,u),o.addEventListener("pointerup",fe,u),this.#a?.()}if(fe(t),t.touches.length!==2||this.#n?.()){this.#c=null;return}let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]),this.#c={touch0X:e.screenX,touch0Y:e.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#r(t){if(!this.#c||t.touches.length!==2)return;fe(t);let[e,s]=t.touches;e.identifier>s.identifier&&([e,s]=[s,e]);const{screenX:a,screenY:o}=e,{screenX:u,screenY:h}=s,d=this.#c,{touch0X:p,touch0Y:g,touch1X:y,touch1Y:b}=d,v=y-p,S=b-g,_=u-a,T=h-o,w=Math.hypot(_,T)||1,O=Math.hypot(v,S)||1;if(!this.#e&&Math.abs(O-w)<=go.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=o,d.touch1X=u,d.touch1Y=h,!this.#e){this.#e=!0;return}const C=[(a+u)/2,(o+h)/2];this.#s?.(C,O,w)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(fe(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class pt{#t=null;#e=null;#n=null;#i=!1;#a=null;#s="";#l=!1;#o=null;#h=null;#c=null;#d=null;#u="";#f=!1;#r=null;#p=!1;#m=!1;#g=!1;#y=null;#b=0;#v=0;#S=null;#w=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#C=pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new rf;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=pt.prototype._resizeWithKeyboard,e=wi.TRANSLATE_SMALL,s=wi.TRANSLATE_BIG;return Lt(this,"_resizerKeyboardManager",new po([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],pt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[o,u];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Lt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new bx({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(pt._l10n??=t,pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),pt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);pt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#U(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,a){const[o,u]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(t+s)/o,this.y=(e+a)/u,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[s,a]=this.parentDimensions;this.setAt(t*s,e*a,this.width*s,this.height*a),this._onTranslated()}#M([t,e],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#r||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#r||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[a,o]}=this;if(this.x+=t/a,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:u,y:h}=this;const[d,p]=this.getBaseTranslation();u+=d,h+=p;const{style:g}=s;g.left=`${(100*u).toFixed(2)}%`,g.top=`${(100*h).toFixed(2)}%`,this._onTranslating(u,h),s.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}get _hasBeenResized(){return!!this.#r&&(this.#r[2]!==this.width||this.#r[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=pt,a=s/t,o=s/e;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[s,a]}=this;let{x:o,y:u,width:h,height:d}=this;if(h*=s,d*=a,o*=s,u*=a,this._mustFixPosition)switch(t){case 0:o=He(o,0,s-h),u=He(u,0,a-d);break;case 90:o=He(o,0,s-d),u=He(u,h,a);break;case 180:o=He(o,h,s),u=He(u,d,a);break;case 270:o=He(o,d,s),u=He(u,0,a-h);break}this.x=o/=s,this.y=u/=a;const[p,g]=this.getBaseTranslation();o+=p,u+=g,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*u).toFixed(2)}%`,this.moveInDOM()}static#_(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return pt.#_(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return pt.#_(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,a]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*t/s).toFixed(2)}%`,this.#l||(o.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,a=s.endsWith("%"),o=!this.#l&&e.endsWith("%");if(a&&o)return;const[u,h]=this.parentDimensions;a||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!this.#l&&!o&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const a=document.createElement("div");this.#o.append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",this.#L.bind(this,s),{signal:e}),a.addEventListener("contextmenu",Mn,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#o)}#L(t,e){e.preventDefault();const{isMac:s}=De.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("touchmove",fe,{passive:!1,signal:u}),window.addEventListener("contextmenu",Mn,{signal:u}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=h,this.div.style.cursor=d,this.#N()};window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("blur",p,{signal:u})}#D(t,e,s,a){this.width=s,this.height=a,this.x=t,this.y=e;const[o,u]=this.parentDimensions;this.setDims(o*s,u*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#N(){if(!this.#c)return;const{savedX:t,savedY:e,savedWidth:s,savedHeight:a}=this.#c;this.#c=null;const o=this.x,u=this.y,h=this.width,d=this.height;o===t&&u===e&&h===s&&d===a||this.addCommands({cmd:this.#D.bind(this,o,u,h,d),undo:this.#D.bind(this,t,e,s,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#B(t,e){const[s,a]=this.parentDimensions,o=this.x,u=this.y,h=this.width,d=this.height,p=pt.MIN_SIZE/s,g=pt.MIN_SIZE/a,y=this.#R(this.rotation),b=(D,B)=>[y[0]*D+y[2]*B,y[1]*D+y[3]*B],v=this.#R(360-this.rotation),S=(D,B)=>[v[0]*D+v[2]*B,v[1]*D+v[3]*B];let _,T,w=!1,O=!1;switch(t){case"topLeft":w=!0,_=(D,B)=>[0,0],T=(D,B)=>[D,B];break;case"topMiddle":_=(D,B)=>[D/2,0],T=(D,B)=>[D/2,B];break;case"topRight":w=!0,_=(D,B)=>[D,0],T=(D,B)=>[0,B];break;case"middleRight":O=!0,_=(D,B)=>[D,B/2],T=(D,B)=>[0,B/2];break;case"bottomRight":w=!0,_=(D,B)=>[D,B],T=(D,B)=>[0,0];break;case"bottomMiddle":_=(D,B)=>[D/2,B],T=(D,B)=>[D/2,0];break;case"bottomLeft":w=!0,_=(D,B)=>[0,B],T=(D,B)=>[D,0];break;case"middleLeft":O=!0,_=(D,B)=>[0,B/2],T=(D,B)=>[D,B/2];break}const C=_(h,d),L=T(h,d);let R=b(...L);const j=pt._round(o+R[0]),N=pt._round(u+R[1]);let $=1,X=1,it,nt;if(e.fromKeyboard)({deltaX:it,deltaY:nt}=e);else{const{screenX:D,screenY:B}=e,[at,Z]=this.#h;[it,nt]=this.screenToPageTranslation(D-at,B-Z),this.#h[0]=D,this.#h[1]=B}if([it,nt]=S(it/s,nt/a),w){const D=Math.hypot(h,d);$=X=Math.max(Math.min(Math.hypot(L[0]-C[0]-it,L[1]-C[1]-nt)/D,1/h,1/d),p/h,g/d)}else O?$=He(Math.abs(L[0]-C[0]-it),p,1)/h:X=He(Math.abs(L[1]-C[1]-nt),g,1)/d;const Q=pt._round(h*$),et=pt._round(d*X);R=b(...T(Q,et));const rt=j-R[0],st=N-R[1];this.#r||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=et,this.x=rt,this.y=st,this.setDims(s*Q,a*et),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new Qr(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||($n.initialize(pt._l10n),this.#n=new $n(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#q();const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*s/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),vb(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#w||=new go({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#z.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#E(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(t,e,s){let o=.7*(s/e)+1-.7;if(o===1)return;const u=this.#R(this.rotation),h=(j,N)=>[u[0]*j+u[2]*N,u[1]*j+u[3]*N],[d,p]=this.parentDimensions,g=this.x,y=this.y,b=this.width,v=this.height,S=pt.MIN_SIZE/d,_=pt.MIN_SIZE/p;o=Math.max(Math.min(o,1/b,1/v),S/b,_/v);const T=pt._round(b*o),w=pt._round(v*o);if(T===b&&w===v)return;this.#r||=[g,y,b,v];const O=h(b/2,v/2),C=pt._round(g+O[0]),L=pt._round(y+O[1]),R=h(T/2,w/2);this.x=C-R[0],this.y=L-R[1],this.width=T,this.height=w,this.setDims(d*T,p*w),this.fixAndSetPosition(),this._onResizing()}#z(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#N()}pointerdown(t){const{isMac:e}=De.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#F(t)}#F(t){const{isMac:e}=De.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),u={capture:!0,passive:!1,signal:o},h=p=>{a.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(p),s&&this._onStopDragging()};e&&(this.#b=t.clientX,this.#v=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",p=>{s||(s=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:b}=p;if(b!==this.#a){fe(p);return}const[v,S]=this.screenToPageTranslation(g-this.#b,y-this.#v);this.#b=g,this.#v=y,this._uiManager.dragSelectedEditors(v,S)},u),window.addEventListener("touchmove",fe,u),window.addEventListener("pointerdown",p=>{p.pointerType===this.#s&&(this.#w||p.isPrimary)&&h(p),fe(p)},u));const d=p=>{if(!this.#a||this.#a===p.pointerId){h(p);return}fe(p)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,s=this.rotation){const a=this.parentScale,[o,u]=this.pageDimensions,[h,d]=this.pageTranslation,p=t/a,g=e/a,y=this.x*o,b=this.y*u,v=this.width*o,S=this.height*u;switch(s){case 0:return[y+p+h,u-b-g-S+d,y+p+v+h,u-b-g+d];case 90:return[y+g+h,u-b+p+d,y+g+S+h,u-b+p+v+d];case 180:return[y-p-v+h,u-b+g+d,y-p+h,u-b+g+S+d];case 270:return[y-g-S+h,u-b-p-v+d,y-g+h,u-b-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,a,o,u]=t,h=o-s,d=u-a;switch(this.rotation){case 0:return[s,e-u,h,d];case 90:return[s,e-a,d,h];case 180:return[o,e-a,h,d];case 270:return[o,e-u,d,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:u}=window;return e<u&&a>0&&t<o&&s>0}#q(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#q()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){Wt("An editor must be serializable")}static async deserialize(t,e,s){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[o,u]=a.pageDimensions,[h,d,p,g]=a.getRectInCurrentCoords(t.rect,u);return a.x=h/o,a.y=d/u,a.width=p/o,a.height=g/u,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#U(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#w?.destroy(),this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#o.children;if(!this.#e){this.#e=Array.from(e);const u=this.#V.bind(this),h=this.#H.bind(this),d=this._uiManager._signal;for(const p of this.#e){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:d}),p.addEventListener("blur",h,{signal:d}),p.addEventListener("focus",this.#k.bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",pt._l10nResizer[g])}}const s=this.#e[0];let a=0;for(const u of e){if(u===s)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==a){if(o<a)for(let h=0;h<a-o;h++)this.#o.append(this.#o.firstChild);else if(o>a)for(let h=0;h<o-a;h++)this.#o.firstChild.before(this.#o.lastChild);let u=0;for(const h of e){const p=this.#e[u++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",pt._l10nResizer[p])}}this.#P(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){pt._resizerKeyboardManager.exec(this,t)}#H(t){this.#g&&t.relatedTarget?.parentNode!==this.#o&&this.#U()}#k(t){this.#u=this.#g?t:""}#P(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#B(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#U(){this.#g=!1,this.#P(-1),this.#N()}_stopResizingWithKeyboard(){this.#U(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;const s=t/e,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#S||=new Map;const{action:s}=t;let a=this.#S.get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(s),this.#S.size===0&&(this.#S=null)},pt._telemetryTimeout),this.#S.set(s,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class bx extends pt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Y0=3285377520,Tn=4294901760,Yn=65535;class Ab{constructor(t){this.h1=t?t&4294967295:Y0,this.h2=t?t&4294967295:Y0}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let _=0,T=t.length;_<T;_++){const w=t.charCodeAt(_);w<=255?e[s++]=w:(e[s++]=w>>>8,e[s++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,o=s-a*4,u=new Uint32Array(e.buffer,0,a);let h=0,d=0,p=this.h1,g=this.h2;const y=3432918353,b=461845907,v=y&Yn,S=b&Yn;for(let _=0;_<a;_++)_&1?(h=u[_],h=h*y&Tn|h*v&Yn,h=h<<15|h>>>17,h=h*b&Tn|h*S&Yn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(d=u[_],d=d*y&Tn|d*v&Yn,d=d<<15|d>>>17,d=d*b&Tn|d*S&Yn,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=e[a*4+2]<<16;case 2:h^=e[a*4+1]<<8;case 1:h^=e[a*4],h=h*y&Tn|h*v&Yn,h=h<<15|h>>>17,h=h*b&Tn|h*S&Yn,a&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Tn|t*36045&Yn,e=e*4283543511&Tn|((e<<16|t>>>16)*2950163797&Tn)>>>16,t^=e>>>1,t=t*444984403&Tn|t*60499&Yn,e=e*3301882366&Tn|((e<<16|t>>>16)*3120437893&Tn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Rd=Object.freeze({map:null,hash:"",transfer:void 0});class of{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=this.#n.get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#n.values())if(e instanceof pt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=this.#n.get(t);let a=!1;if(s!==void 0)for(const[o,u]of Object.entries(e))s[o]!==u&&(a=!0,s[o]=u);else a=!0,this.#n.set(t,e);a&&this.#i(),e instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}get size(){return this.#n.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Sb(this)}get serializable(){if(this.#n.size===0)return Rd;const t=new Map,e=new Ab,s=[],a=Object.create(null);let o=!1;for(const[u,h]of this.#n){const d=h instanceof pt?h.serialize(!1,a):h;d&&(t.set(u,d),e.update(`${u}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Rd}get editorStats(){let t=null;const e=new Map;for(const s of this.#n.values()){if(!(s instanceof pt))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const u=t[o]||=new Map;for(const[h,d]of Object.entries(a)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[s,a]of e)t[s]=a.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#n.values())!(e instanceof pt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Sb extends of{#t;constructor(t){super();const{map:e,hash:s,transfer:a}=t.serializable,o=structuredClone(e,a?{transfer:a}:null);this.#t={map:o,hash:s,transfer:a}}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Lt(this,"modifiedIds",{ids:new Set,hash:""})}}class vx{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:s}){if(!(!t||this.#t.has(t.loadedName))){if(Ae(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:u}=t,h=new FontFace(a,o,u);this.addNativeFontFace(h);try{await h.load(),this.#t.add(a),s?.(t)}catch{St(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw St(`Failed to load font '${s.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Lt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Lt(this,"isSyncFontLoadingSupported",Ye||De.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ae(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:e,callback:t};return s.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Lt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(L,R){return L.charCodeAt(R)<<24|L.charCodeAt(R+1)<<16|L.charCodeAt(R+2)<<8|L.charCodeAt(R+3)&255}function a(L,R,j,N){const $=L.substring(0,R),X=L.substring(R+j);return $+N+X}let o,u;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let p=0;function g(L,R){if(++p>30){St("Load test font never loaded."),R();return}if(d.font="30px "+L,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(g.bind(null,L,R))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,y.length,y);const S=16,_=1482184792;let T=s(b,S);for(o=0,u=y.length-3;o<u;o+=4)T=T-_+s(y,o)|0;o<y.length&&(T=T-_+s(y+"XXX",o)|0),b=a(b,S,4,ox(T));const w=`url(data:font/opentype;base64,${btoa(b)});`,O=`@font-face {font-family:"${y}";src:${w}}`;this.insertRule(O);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const L of[t.loadedName,y]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=L,C.append(R)}this._document.body.append(C),g(y,()=>{C.remove(),e.complete()})}}class Ax{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${gb(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const s=this.loadedName+"_path_"+e;let a;try{a=t.get(s)}catch(u){St(`getPathGenerator - ignoring character: "${u}".`)}const o=new Path2D(a||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[e]=o}}function Sx(l){if(l instanceof URL)return l.href;if(typeof l=="string"){if(Ye)return l;const t=URL.parse(l,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function _x(l){if(Ye&&typeof Buffer<"u"&&l instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return uo(l);if(l instanceof ArrayBuffer||ArrayBuffer.isView(l)||typeof l=="object"&&!isNaN(l?.length))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Bl(l){if(typeof l!="string")return null;if(l.endsWith("/"))return l;throw new Error(`Invalid factory url: "${l}" must include trailing slash.`)}const Md=l=>typeof l=="object"&&Number.isInteger(l?.num)&&l.num>=0&&Number.isInteger(l?.gen)&&l.gen>=0,wx=l=>typeof l=="object"&&typeof l?.name=="string",_b=hx.bind(null,Md,wx);class Ex{#t=new Map;#e=Promise.resolve();postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,s)})}addEventListener(t,e,s=null){let a=null;if(s?.signal instanceof AbortSignal){const{signal:o}=s;if(o.aborted){St("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);a=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Hl={DATA:1,ERROR:2},be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function X0(){}function tn(l){if(l instanceof _i||l instanceof uc||l instanceof G0||l instanceof eo||l instanceof ld)return l;switch(l instanceof Error||typeof l=="object"&&l!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new _i(l.message);case"InvalidPDFException":return new uc(l.message);case"PasswordException":return new G0(l.message,l.code);case"ResponseException":return new eo(l.message,l.status,l.missing);case"UnknownErrorException":return new ld(l.message,l.details)}return new ld(l.message,l.toString())}class Xr{#t=new AbortController;constructor(t,e,s){this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const s=t.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===Hl.DATA)a.resolve(t.data);else if(t.callback===Hl.ERROR)a.reject(tn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,a=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(u){o.postMessage({sourceName:s,targetName:a,callback:Hl.DATA,callbackId:t.callbackId,data:u})},function(u){o.postMessage({sourceName:s,targetName:a,callback:Hl.ERROR,callbackId:t.callbackId,reason:tn(u)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},s)}catch(u){o.reject(u)}return o.promise}sendWithStream(t,e,s,a){const o=this.streamId++,u=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:u,targetName:h,action:t,streamId:o,data:e,desiredSize:p.desiredSize},a),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,d.postMessage({sourceName:u,targetName:h,stream:be.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ae(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:u,targetName:h,stream:be.CANCEL,streamId:o,reason:tn(p)}),g.promise}},s)}#n(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,o=this.comObj,u=this,h=this.actionHandler[t.action],d={enqueue(p,g=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:a,stream:be.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:a,stream:be.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){Ae(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:a,stream:be.ERROR,streamId:e,reason:tn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(h,t.data,d).then(function(){o.postMessage({sourceName:s,targetName:a,stream:be.START_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:a,stream:be.START_COMPLETE,streamId:e,reason:tn(p)})})}#i(t){const e=t.streamId,s=this.sourceName,a=t.sourceName,o=this.comObj,u=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case be.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(tn(t.reason));break;case be.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(tn(t.reason));break;case be.PULL:if(!h){o.postMessage({sourceName:s,targetName:a,stream:be.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||X0).then(function(){o.postMessage({sourceName:s,targetName:a,stream:be.PULL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:a,stream:be.PULL_COMPLETE,streamId:e,reason:tn(p)})});break;case be.ENQUEUE:if(Ae(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case be.CLOSE:if(Ae(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this.#a(u,e);break;case be.ERROR:Ae(u,"error should have stream controller"),u.controller.error(tn(t.reason)),this.#a(u,e);break;case be.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(tn(t.reason)),this.#a(u,e);break;case be.CANCEL:if(!h)break;const d=tn(t.reason);Promise.try(h.onCancel||X0,d).then(function(){o.postMessage({sourceName:s,targetName:a,stream:be.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:a,stream:be.CANCEL_COMPLETE,streamId:e,reason:tn(p)})}),h.sinkCapability.reject(d),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class wb{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Wt("Abstract method `_createCanvas` called.")}}class xx extends wb{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class Eb{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class $0 extends Eb{async _fetch(t){const e=await Ia(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):uo(e)}}class xb{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,a,o){return"none"}destroy(t=!1){}}class Tx extends xb{#t;#e;#n;#i;#a;#s;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#a=e}get#o(){return this.#e||=new Map}get#h(){return this.#s||=new Map}get#c(){if(!this.#n){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const s=this.#a.createElementNS(yi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#a.createElementNS(yi,"defs"),t.append(s),s.append(this.#n),this.#a.body.append(t)}return this.#n}#d(t){if(t.length===1){const d=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=d[y]/255;const g=p.join(",");return[g,g,g]}const[e,s,a]=t,o=new Array(256),u=new Array(256),h=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,u[d]=s[d]/255,h[d]=a[d]/255;return[o.join(","),u.join(","),h.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(fo(e)?St('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Jd(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[s,a,o]=this.#d(t),u=t.length===1?s:`${s}${a}${o}`;if(e=this.#o.get(u),e)return this.#o.set(t,e),e;const h=`g_${this.#i}_transfer_map_${this.#l++}`,d=this.#u(h);this.#o.set(t,d),this.#o.set(u,d);const p=this.#p(h);return this.#g(s,a,o,p),d}addHCMFilter(t,e){const s=`${t}-${e}`,a="base";let o=this.#h.get(a);if(o?.key===s||(o?(o.filter?.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},this.#h.set(a,o)),!t||!e))return o.url;const u=this.#b(t);t=ft.makeHexColor(...u);const h=this.#b(e);if(e=ft.makeHexColor(...h),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let v=0;v<=255;v++){const S=v/255;d[v]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const p=d.join(","),g=`g_${this.#i}_hcm_filter`,y=o.filter=this.#p(g);this.#g(p,p,p,y),this.#r(y);const b=(v,S)=>{const _=u[v]/255,T=h[v]/255,w=new Array(S+1);for(let O=0;O<=S;O++)w[O]=_+O/S*(T-_);return w.join(",")};return this.#g(b(0,5),b(1,5),b(2,5),y),o.url=this.#u(g),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[s]=this.#d([t]),a=`alpha_${s}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_alpha_map_${this.#l++}`,u=this.#u(o);this.#o.set(t,u),this.#o.set(a,u);const h=this.#p(o);return this.#y(s,h),u}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let s,a;if(t?([s]=this.#d([t]),a=`luminosity_${s}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const o=`g_${this.#i}_luminosity_map_${this.#l++}`,u=this.#u(o);this.#o.set(t,u),this.#o.set(a,u);const h=this.#p(o);return this.#f(h),t&&this.#y(s,h),u}addHighlightHCMFilter(t,e,s,a,o){const u=`${e}-${s}-${a}-${o}`;let h=this.#h.get(t);if(h?.key===u||(h?(h.filter?.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},this.#h.set(t,h)),!e||!s))return h.url;const[d,p]=[e,s].map(this.#b.bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[b,v]=[a,o].map(this.#b.bind(this));y<g&&([g,y,b,v]=[y,g,v,b]),this.#c.style.color="";const S=(w,O,C)=>{const L=new Array(256),R=(y-g)/C,j=w/255,N=(O-w)/(255*C);let $=0;for(let X=0;X<=C;X++){const it=Math.round(g+X*R),nt=j+X*N;for(let Q=$;Q<=it;Q++)L[Q]=nt;$=it+1}for(let X=$;X<256;X++)L[X]=L[$-1];return L.join(",")},_=`g_${this.#i}_hcm_${t}_filter`,T=h.filter=this.#p(_);return this.#r(T),this.#g(S(b[0],v[0],5),S(b[1],v[1],5),S(b[2],v[2],5),T),h.url=this.#u(_),h.url}destroy(t=!1){t&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#l=0)}#f(t){const e=this.#a.createElementNS(yi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#r(t){const e=this.#a.createElementNS(yi,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(yi,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,s){const a=this.#a.createElementNS(yi,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)}#g(t,e,s,a){const o=this.#a.createElementNS(yi,"feComponentTransfer");a.append(o),this.#m(o,"feFuncR",t),this.#m(o,"feFuncG",e),this.#m(o,"feFuncB",s)}#y(t,e){const s=this.#a.createElementNS(yi,"feComponentTransfer");e.append(s),this.#m(s,"feFuncA",t)}#b(t){return this.#c.style.color=t,sf(getComputedStyle(this.#c).getPropertyValue("color"))}}class Tb{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class K0 extends Tb{async _fetch(t){const e=await Ia(t,"arraybuffer");return new Uint8Array(e)}}class Cb{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class W0 extends Cb{async _fetch(t){const e=await Ia(t,"arraybuffer");return new Uint8Array(e)}}Ye&&St("Please use the `legacy` build in Node.js environments.");async function lf(l){const e=await process.getBuiltinModule("fs").promises.readFile(l);return new Uint8Array(e)}class Cx extends xb{}class Rx extends wb{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class Mx extends Eb{async _fetch(t){return lf(t)}}class Ox extends Tb{async _fetch(t){return lf(t)}}class Lx extends Cb{async _fetch(t){return lf(t)}}const je={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Od(l,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,s),l.clip(a)}class cf{isModifyingCurrentTransform(){return!1}getPattern(){Wt("Abstract method `getPattern` called.")}}class Dx extends cf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,a){let o;if(a===je.STROKE||a===je.FILL){const u=e.current.getClippedPathBoundingBox(a,ae(t))||[0,0,0,0],h=Math.ceil(u[2]-u[0])||1,d=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),s=ft.transform(s,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),Od(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else Od(t,this._bbox),o=this._createGradient(t);return o}}function hd(l,t,e,s,a,o,u,h){const d=t.coords,p=t.colors,g=l.data,y=l.width*4;let b;d[e+1]>d[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b),d[s+1]>d[a+1]&&(b=s,s=a,a=b,b=u,u=h,h=b),d[e+1]>d[s+1]&&(b=e,e=s,s=b,b=o,o=u,u=b);const v=(d[e]+t.offsetX)*t.scaleX,S=(d[e+1]+t.offsetY)*t.scaleY,_=(d[s]+t.offsetX)*t.scaleX,T=(d[s+1]+t.offsetY)*t.scaleY,w=(d[a]+t.offsetX)*t.scaleX,O=(d[a+1]+t.offsetY)*t.scaleY;if(S>=O)return;const C=p[o],L=p[o+1],R=p[o+2],j=p[u],N=p[u+1],$=p[u+2],X=p[h],it=p[h+1],nt=p[h+2],Q=Math.round(S),et=Math.round(O);let rt,st,D,B,at,Z,x,U;for(let G=Q;G<=et;G++){if(G<T){const ht=G<S?0:(S-G)/(S-T);rt=v-(v-_)*ht,st=C-(C-j)*ht,D=L-(L-N)*ht,B=R-(R-$)*ht}else{let ht;G>O?ht=1:T===O?ht=0:ht=(T-G)/(T-O),rt=_-(_-w)*ht,st=j-(j-X)*ht,D=N-(N-it)*ht,B=$-($-nt)*ht}let Y;G<S?Y=0:G>O?Y=1:Y=(S-G)/(S-O),at=v-(v-w)*Y,Z=C-(C-X)*Y,x=L-(L-it)*Y,U=R-(R-nt)*Y;const tt=Math.round(Math.min(rt,at)),lt=Math.round(Math.max(rt,at));let ot=y*G+tt*4;for(let ht=tt;ht<=lt;ht++)Y=(rt-ht)/(rt-at),Y<0?Y=0:Y>1&&(Y=1),g[ot++]=st-(st-Z)*Y|0,g[ot++]=D-(D-x)*Y|0,g[ot++]=B-(B-U)*Y|0,g[ot++]=255}}function Nx(l,t,e){const s=t.coords,a=t.colors;let o,u;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(s.length/h)-1,p=h-1;for(o=0;o<d;o++){let g=o*h;for(let y=0;y<p;y++,g++)hd(l,e,s[g],s[g+1],s[g+h],a[g],a[g+1],a[g+h]),hd(l,e,s[g+h+1],s[g+1],s[g+h],a[g+h+1],a[g+1],a[g+h])}break;case"triangles":for(o=0,u=s.length;o<u;o+=3)hd(l,e,s[o],s[o+1],s[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class kx extends cf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,s){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),v=p/y,S=g/b,_={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/v,scaleY:1/S},T=y+4,w=b+4,O=s.getCanvas("mesh",T,w),C=O.context,L=C.createImageData(y,b);if(e){const j=L.data;for(let N=0,$=j.length;N<$;N+=4)j[N]=e[0],j[N+1]=e[1],j[N+2]=e[2],j[N+3]=255}for(const j of this._figures)Nx(L,j,_);return C.putImageData(L,2,2),{canvas:O.canvas,offsetX:h-2*v,offsetY:d-2*S,scaleX:v,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,s,a){Od(t,this._bbox);const o=new Float32Array(2);if(a===je.SHADING)ft.singularValueDecompose2dScale(ae(t),o);else if(this.matrix){ft.singularValueDecompose2dScale(this.matrix,o);const[h,d]=o;ft.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=h,o[1]*=d}else ft.singularValueDecompose2dScale(e.baseTransform,o);const u=this._createMeshCanvas(o,a===je.SHADING?null:this._background,e.cachedCanvases);return a!==je.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class Px extends cf{getPattern(){return"hotpink"}}function jx(l){switch(l[0]){case"RadialAxial":return new Dx(l);case"Mesh":return new kx(l);case"Dummy":return new Px}throw new Error(`Unknown IR type: ${l[0]}`)}const Q0={COLORED:1,UNCOLORED:2};class uf{static MAX_PATTERN_SIZE=3e3;constructor(t,e,s,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:a,tilingType:o,color:u,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),wc("TilingType: "+o);const g=e[0],y=e[1],b=e[2],v=e[3],S=b-g,_=v-y,T=new Float32Array(2);ft.singularValueDecompose2dScale(this.matrix,T);const[w,O]=T;ft.singularValueDecompose2dScale(this.baseTransform,T);const C=w*T[0],L=O*T[1];let R=S,j=_,N=!1,$=!1;const X=Math.ceil(d*C),it=Math.ceil(p*L),nt=Math.ceil(S*C),Q=Math.ceil(_*L);X>=nt?R=d:N=!0,it>=Q?j=p:$=!0;const et=this.getSizeAndScale(R,this.ctx.canvas.width,C),rt=this.getSizeAndScale(j,this.ctx.canvas.height,L),st=t.cachedCanvases.getCanvas("pattern",et.size,rt.size),D=st.context,B=h.createCanvasGraphics(D);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,a,u),D.translate(-et.scale*g,-rt.scale*y),B.transform(et.scale,0,0,rt.scale,0,0),D.save(),this.clipBbox(B,g,y,b,v),B.baseTransform=ae(B.ctx),B.executeOperatorList(s),B.endDrawing(),D.restore(),N||$){const at=st.canvas;N&&(R=d),$&&(j=p);const Z=this.getSizeAndScale(R,this.ctx.canvas.width,C),x=this.getSizeAndScale(j,this.ctx.canvas.height,L),U=Z.size,G=x.size,Y=t.cachedCanvases.getCanvas("pattern-workaround",U,G),tt=Y.context,lt=N?Math.floor(S/d):0,ot=$?Math.floor(_/p):0;for(let ht=0;ht<=lt;ht++)for(let bt=0;bt<=ot;bt++)tt.drawImage(at,U*ht,G*bt,U,G,0,0,U,G);return{canvas:Y.canvas,scaleX:Z.scale,scaleY:x.scale,offsetX:g,offsetY:y}}return{canvas:st.canvas,scaleX:et.scale,scaleY:rt.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,s){const a=Math.max(uf.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=a?o=a:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,a,o){const u=a-e,h=o-s;t.ctx.rect(e,s,u,h),ft.axialAlignedBoundingBox([e,s,a,o],ae(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const a=t.ctx,o=t.current;switch(e){case Q0.COLORED:const{fillStyle:u,strokeStyle:h}=this.ctx;a.fillStyle=o.fillColor=u,a.strokeStyle=o.strokeColor=h;break;case Q0.UNCOLORED:a.fillStyle=a.strokeStyle=s,o.fillColor=o.strokeColor=s;break;default:throw new rx(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,s,a){let o=s;a!==je.SHADING&&(o=ft.transform(o,e.baseTransform),this.matrix&&(o=ft.transform(o,this.matrix)));const u=this.createPatternCanvas(e);let h=new DOMMatrix(o);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const d=t.createPattern(u.canvas,"repeat");return d.setTransform(h),d}}function zx({src:l,srcPos:t=0,dest:e,width:s,height:a,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const h=De.isLittleEndian?4278190080:255,[d,p]=u?[o,h]:[h,o],g=s>>3,y=s&7,b=l.length;e=new Uint32Array(e.buffer);let v=0;for(let S=0;S<a;S++){for(const T=t+g;t<T;t++){const w=t<b?l[t]:255;e[v++]=w&128?p:d,e[v++]=w&64?p:d,e[v++]=w&32?p:d,e[v++]=w&16?p:d,e[v++]=w&8?p:d,e[v++]=w&4?p:d,e[v++]=w&2?p:d,e[v++]=w&1?p:d}if(y===0)continue;const _=t<b?l[t++]:255;for(let T=0;T<y;T++)e[v++]=_&1<<7-T?p:d}return{srcPos:t,destPos:v}}const Z0=16,J0=100,Fx=15,ty=10,en=16,dd=new DOMMatrix,gn=new Float32Array(2),wa=new Float32Array([1/0,1/0,-1/0,-1/0]);function Ix(l,t){if(l._removeMirroring)throw new Error("Context is already forwarding operations.");l.__originalSave=l.save,l.__originalRestore=l.restore,l.__originalRotate=l.rotate,l.__originalScale=l.scale,l.__originalTranslate=l.translate,l.__originalTransform=l.transform,l.__originalSetTransform=l.setTransform,l.__originalResetTransform=l.resetTransform,l.__originalClip=l.clip,l.__originalMoveTo=l.moveTo,l.__originalLineTo=l.lineTo,l.__originalBezierCurveTo=l.bezierCurveTo,l.__originalRect=l.rect,l.__originalClosePath=l.closePath,l.__originalBeginPath=l.beginPath,l._removeMirroring=()=>{l.save=l.__originalSave,l.restore=l.__originalRestore,l.rotate=l.__originalRotate,l.scale=l.__originalScale,l.translate=l.__originalTranslate,l.transform=l.__originalTransform,l.setTransform=l.__originalSetTransform,l.resetTransform=l.__originalResetTransform,l.clip=l.__originalClip,l.moveTo=l.__originalMoveTo,l.lineTo=l.__originalLineTo,l.bezierCurveTo=l.__originalBezierCurveTo,l.rect=l.__originalRect,l.closePath=l.__originalClosePath,l.beginPath=l.__originalBeginPath,delete l._removeMirroring},l.save=function(){t.save(),this.__originalSave()},l.restore=function(){t.restore(),this.__originalRestore()},l.translate=function(e,s){t.translate(e,s),this.__originalTranslate(e,s)},l.scale=function(e,s){t.scale(e,s),this.__originalScale(e,s)},l.transform=function(e,s,a,o,u,h){t.transform(e,s,a,o,u,h),this.__originalTransform(e,s,a,o,u,h)},l.setTransform=function(e,s,a,o,u,h){t.setTransform(e,s,a,o,u,h),this.__originalSetTransform(e,s,a,o,u,h)},l.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},l.rotate=function(e){t.rotate(e),this.__originalRotate(e)},l.clip=function(e){t.clip(e),this.__originalClip(e)},l.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},l.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},l.bezierCurveTo=function(e,s,a,o,u,h){t.bezierCurveTo(e,s,a,o,u,h),this.__originalBezierCurveTo(e,s,a,o,u,h)},l.rect=function(e,s,a,o){t.rect(e,s,a,o),this.__originalRect(e,s,a,o)},l.closePath=function(){t.closePath(),this.__originalClosePath()},l.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Bx{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,s)):(a=this.canvasFactory.create(e,s),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ul(l,t,e,s,a,o,u,h,d,p){const[g,y,b,v,S,_]=ae(l);if(y===0&&b===0){const O=u*g+S,C=Math.round(O),L=h*v+_,R=Math.round(L),j=(u+d)*g+S,N=Math.abs(Math.round(j)-C)||1,$=(h+p)*v+_,X=Math.abs(Math.round($)-R)||1;return l.setTransform(Math.sign(g),0,0,Math.sign(v),C,R),l.drawImage(t,e,s,a,o,0,0,N,X),l.setTransform(g,y,b,v,S,_),[N,X]}if(g===0&&v===0){const O=h*b+S,C=Math.round(O),L=u*y+_,R=Math.round(L),j=(h+p)*b+S,N=Math.abs(Math.round(j)-C)||1,$=(u+d)*y+_,X=Math.abs(Math.round($)-R)||1;return l.setTransform(0,Math.sign(y),Math.sign(b),0,C,R),l.drawImage(t,e,s,a,o,0,0,X,N),l.setTransform(g,y,b,v,S,_),[X,N]}l.drawImage(t,e,s,a,o,u,h,d,p);const T=Math.hypot(g,y),w=Math.hypot(b,v);return[T*d,w*p]}class ey{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Cd;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Be.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=wa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=je.FILL,e=null){const s=this.minMax.slice();if(t===je.STROKE){e||Wt("Stroke bounding box must include transform."),ft.singularValueDecompose2dScale(e,gn);const a=gn[0]*this.lineWidth/2,o=gn[1]*this.lineWidth/2;s[0]-=a,s[1]-=o,s[2]+=a,s[3]+=o}return s}updateClipFromPath(){const t=ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(wa,0)}getClippedPathBoundingBox(t=je.FILL,e=null){return ft.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ny(l,t){if(t instanceof ImageData){l.putImageData(t,0,0);return}const e=t.height,s=t.width,a=e%en,o=(e-a)/en,u=a===0?o:o+1,h=l.createImageData(s,en);let d=0,p;const g=t.data,y=h.data;let b,v,S,_;if(t.kind===Wr.GRAYSCALE_1BPP){const T=g.byteLength,w=new Uint32Array(y.buffer,0,y.byteLength>>2),O=w.length,C=s+7>>3,L=4294967295,R=De.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(S=b<o?en:a,p=0,v=0;v<S;v++){const j=T-d;let N=0;const $=j>C?s:j*8-7,X=$&-8;let it=0,nt=0;for(;N<X;N+=8)nt=g[d++],w[p++]=nt&128?L:R,w[p++]=nt&64?L:R,w[p++]=nt&32?L:R,w[p++]=nt&16?L:R,w[p++]=nt&8?L:R,w[p++]=nt&4?L:R,w[p++]=nt&2?L:R,w[p++]=nt&1?L:R;for(;N<$;N++)it===0&&(nt=g[d++],it=128),w[p++]=nt&it?L:R,it>>=1}for(;p<O;)w[p++]=0;l.putImageData(h,0,b*en)}}else if(t.kind===Wr.RGBA_32BPP){for(v=0,_=s*en*4,b=0;b<o;b++)y.set(g.subarray(d,d+_)),d+=_,l.putImageData(h,0,v),v+=en;b<u&&(_=s*a*4,y.set(g.subarray(d,d+_)),l.putImageData(h,0,v))}else if(t.kind===Wr.RGB_24BPP)for(S=en,_=s*S,b=0;b<u;b++){for(b>=o&&(S=a,_=s*S),p=0,v=_;v--;)y[p++]=g[d++],y[p++]=g[d++],y[p++]=g[d++],y[p++]=255;l.putImageData(h,0,b*en)}else throw new Error(`bad image kind: ${t.kind}`)}function iy(l,t){if(t.bitmap){l.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,a=e%en,o=(e-a)/en,u=a===0?o:o+1,h=l.createImageData(s,en);let d=0;const p=t.data,g=h.data;for(let y=0;y<u;y++){const b=y<o?en:a;({srcPos:d}=zx({src:p,srcPos:d,dest:g,width:s,height:b,nonBlackColor:0})),l.putImageData(h,0,y*en)}}function Hr(l,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)l[s]!==void 0&&(t[s]=l[s]);l.setLineDash!==void 0&&(t.setLineDash(l.getLineDash()),t.lineDashOffset=l.lineDashOffset)}function Gl(l){l.strokeStyle=l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0);const{filter:t}=l;t!=="none"&&t!==""&&(l.filter="none")}function sy(l,t){if(t)return!0;ft.singularValueDecompose2dScale(l,gn);const e=Math.fround(jn.pixelRatio*Cs.PDF_TO_CSS_UNITS);return gn[0]<=e&&gn[1]<=e}const Hx=["butt","round","square"],Ux=["miter","round","bevel"],Gx={},ay={};class xa{constructor(t,e,s,a,o,{optionalContentConfig:u,markedContentStack:h=null},d,p){this.ctx=t,this.current=new ey(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new Bx(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:a=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=h,s){const d=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ae(this.compositeCtx))}this.ctx.save(),Gl(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ae(this.ctx)}executeOperatorList(t,e,s,a){const o=t.argsArray,u=t.fnArray;let h=e||0;const d=o.length;if(d===h)return h;const p=d-h>ty&&typeof s=="function",g=p?Date.now()+Fx:0;let y=0;const b=this.commonObjs,v=this.objs;let S;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,s),h;if(S=u[h],S!==to.dependency)this[S].apply(this,o[h]);else for(const _ of o[h]){const T=_.startsWith("g_")?b:v;if(!T.has(_))return T.get(_,s),h}if(h++,h===d)return h;if(p&&++y>ty){if(Date.now()>g)return s(),h;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const s=t.width??t.displayWidth,a=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),h=s,d=a,p="prescale1",g,y;for(;o>2&&h>1||u>2&&d>1;){let b=h,v=d;o>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/b),u>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,u/=d/v),g=this.cachedCanvases.getCanvas(p,b,v),y=g.context,y.clearRect(0,0,b,v),y.drawImage(t,0,0,h,d,0,0,b,v),t=g.canvas,h=b,d=v,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:a}=t,o=this.current.fillColor,u=this.current.patternFill,h=ae(e);let d,p,g,y;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;p=JSON.stringify(u?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(X),d||(d=new Map,this._cachedBitmapsMap.set(X,d));const it=d.get(p);if(it&&!u){const nt=Math.round(Math.min(h[0],h[2])+h[4]),Q=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:it,offsetX:nt,offsetY:Q}}g=it}g||(y=this.cachedCanvases.getCanvas("maskCanvas",s,a),iy(y.context,t));let b=ft.transform(h,[1/s,0,0,-1/a,0,0]);b=ft.transform(b,[1,0,0,1,0,-a]);const v=wa.slice();ft.axialAlignedBoundingBox([0,0,s,a],b,v);const[S,_,T,w]=v,O=Math.round(T-S)||1,C=Math.round(w-_)||1,L=this.cachedCanvases.getCanvas("fillCanvas",O,C),R=L.context,j=S,N=_;R.translate(-j,-N),R.transform(...b),g||(g=this._scaleImage(y.canvas,Vn(R)),g=g.img,d&&u&&d.set(p,g)),R.imageSmoothingEnabled=sy(ae(R),t.interpolate),Ul(R,g,0,0,g.width,g.height,0,0,s,a),R.globalCompositeOperation="source-in";const $=ft.transform(Vn(R),[1,0,0,1,-j,-N]);return R.fillStyle=u?o.getPattern(e,this,$,je.FILL):o,R.fillRect(0,0,s,a),d&&!u&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,L.canvas)),{canvas:L.canvas,offsetX:Math.round(j),offsetY:Math.round(N)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Hx[t]}setLineJoin(t){this.ctx.lineJoin=Ux[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),Hr(this.suspendedCtx,o),Ix(o,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,a){const o=a[0],u=a[1],h=a[2]-o,d=a[3]-u;h===0||d===0||(this.genericComposeSMask(e.context,s,h,d,e.subtype,e.backdrop,e.transferMap,o,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,a,o,u,h,d,p,g,y){let b=t.canvas,v=d-g,S=p-y;if(u)if(v<0||S<0||v+s>b.width||S+a>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,a),w=T.context;w.drawImage(b,-v,-S),w.globalCompositeOperation="destination-atop",w.fillStyle=u,w.fillRect(0,0,s,a),w.globalCompositeOperation="source-over",b=T.canvas,v=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(v,S,s,a),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=u,t.fillRect(v,S,s,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const _=new Path2D;_.rect(d,p,s,a),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(b,v,S,s,a,d,p,s,a),e.restore()}save(){this.inSMaskMode&&Hr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Hr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,s,a,o,u){this.ctx.transform(t,e,s,a,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){let[a]=e;if(!s){a||=e[0]=new Path2D,this[t](a);return}if(!(a instanceof Path2D)){const o=e[0]=new Path2D;for(let u=0,h=a.length;u<h;)switch(a[u++]){case Il.moveTo:o.moveTo(a[u++],a[u++]);break;case Il.lineTo:o.lineTo(a[u++],a[u++]);break;case Il.curveTo:o.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);break;case Il.closePath:o.closePath();break;default:St(`Unrecognized drawing path operator: ${a[u-1]}`);break}a=o}ft.axialAlignedBoundingBox(s,ae(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,Vn(s),je.STROKE),o){const u=new Path2D;u.addPath(t,s.getTransform().invertSelf().multiplySelf(o)),t=u}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(je.STROKE,ae(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const s=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let u=!1;if(o){const d=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=a.getPattern(s,this,Vn(s),je.FILL),d){const p=new Path2D;p.addPath(t,s.getTransform().invertSelf().multiplySelf(d)),t=p}u=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),u&&s.restore(),e&&this.consumePath(t,h)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=Gx}eoClip(){this.pendingClip=ay}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const s=new Path2D,a=e.getTransform().invertSelf();for(const{transform:o,x:u,y:h,fontSize:d,path:p}of t)s.addPath(p,new DOMMatrix(o).preMultiplySelf(a).translate(u,h).scale(d,-d));e.clip(s),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const s=this.commonObjs.get(t),a=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=s.fontMatrix||Cd,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&St("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",u=s.systemFontInfo?.css||`"${o}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let p=e;e<Z0?p=Z0:e>J0&&(p=J0),this.current.fontSizeScale=e/p,this.ctx.font=`${d} ${h} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,s){const a=new Path2D;return a.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(e)),a}paintChar(t,e,s,a,o){const u=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,y=p&Be.FILL_STROKE_MASK,b=!!(p&Be.ADD_TO_PATH_FLAG),v=h.patternFill&&!d.missingFile,S=h.patternStroke&&!d.missingFile;let _;if((d.disableFontFace||b||v||S)&&(_=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v||S){u.save(),u.translate(e,s),u.scale(g,-g);let T;if((y===Be.FILL||y===Be.FILL_STROKE)&&(a?(T=u.getTransform(),u.setTransform(...a),u.fill(this.#n(_,T,a))):u.fill(_)),y===Be.STROKE||y===Be.FILL_STROKE)if(o){T||=u.getTransform(),u.setTransform(...o);const{a:w,b:O,c:C,d:L}=T,R=ft.inverseTransform(o),j=ft.transform([w,O,C,L,0,0],R);ft.singularValueDecompose2dScale(j,gn),u.lineWidth*=Math.max(gn[0],gn[1])/g,u.stroke(this.#n(_,T,o))}else u.lineWidth/=g,u.stroke(_);u.restore()}else(y===Be.FILL||y===Be.FILL_STROKE)&&u.fillText(t,e,s),(y===Be.STROKE||y===Be.FILL_STROKE)&&u.strokeText(t,e,s);b&&(this.pendingTextPaths||=[]).push({transform:ae(u),x:e,y:s,fontSize:g,path:_})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){s=!0;break}return Lt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const o=this.ctx,u=e.fontSizeScale,h=e.charSpacing,d=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,y=t.length,b=s.vertical,v=b?1:-1,S=s.defaultVMetrics,_=a*e.fontMatrix[0],T=e.textRenderingMode===Be.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),e.textMatrix&&o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),p>0?o.scale(g,-1):o.scale(g,1);let w,O;if(e.patternFill){o.save();const N=e.fillColor.getPattern(o,this,Vn(o),je.FILL);w=ae(o),o.restore(),o.fillStyle=N}if(e.patternStroke){o.save();const N=e.strokeColor.getPattern(o,this,Vn(o),je.STROKE);O=ae(o),o.restore(),o.strokeStyle=N}let C=e.lineWidth;const L=e.textMatrixScale;if(L===0||C===0){const N=e.textRenderingMode&Be.FILL_STROKE_MASK;(N===Be.STROKE||N===Be.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=L;if(u!==1&&(o.scale(u,u),C/=u),o.lineWidth=C,s.isInvalidPDFjsFont){const N=[];let $=0;for(const X of t)N.push(X.unicode),$+=X.width;o.fillText(N.join(""),0,0),e.x+=$*_*g,o.restore(),this.compose();return}let R=0,j;for(j=0;j<y;++j){const N=t[j];if(typeof N=="number"){R+=v*N*a/1e3;continue}let $=!1;const X=(N.isSpace?d:0)+h,it=N.fontChar,nt=N.accent;let Q,et,rt=N.width;if(b){const D=N.vmetric||S,B=-(N.vmetric?D[1]:rt*.5)*_,at=D[2]*_;rt=D?-D[0]:rt,Q=B/u,et=(R+at)/u}else Q=R/u,et=0;if(s.remeasure&&rt>0){const D=o.measureText(it).width*1e3/a*u;if(rt<D&&this.isFontSubpixelAAEnabled){const B=rt/D;$=!0,o.save(),o.scale(B,1),Q/=B}else rt!==D&&(Q+=(rt-D)/2e3*a/u)}if(this.contentVisible&&(N.isInFont||s.missingFile)){if(T&&!nt)o.fillText(it,Q,et);else if(this.paintChar(it,Q,et,w,O),nt){const D=Q+a*nt.offset.x/u,B=et-a*nt.offset.y/u;this.paintChar(nt.fontChar,D,B,w,O)}}const st=b?rt*_-X*p:rt*_+X*p;R+=st,$&&o.restore()}b?e.y-=R:e.x+=R*g,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,a=s.font,o=s.fontSize,u=s.fontDirection,h=a.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*u,y=s.fontMatrix||Cd,b=t.length,v=s.textRenderingMode===Be.INVISIBLE;let S,_,T,w;if(!(v||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),s.textMatrix&&e.transform(...s.textMatrix),e.translate(s.x,s.y+s.textRise),e.scale(g,u),S=0;S<b;++S){if(_=t[S],typeof _=="number"){w=h*_*o/1e3,this.ctx.translate(w,0),s.x+=w*g;continue}const O=(_.isSpace?p:0)+d,C=a.charProcOperatorList[_.operatorListId];C?this.contentVisible&&(this.save(),e.scale(o,o),e.transform(...y),this.executeOperatorList(C),this.restore()):St(`Type3 character "${_.operatorListId}" is not available.`);const L=[_.width,0];ft.applyTransform(L,y),T=L[0]*o+O,e.translate(T,0),s.x+=T*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,a,o,u){const h=new Path2D;h.rect(s,a,o-s,u-a),this.ctx.clip(h),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=this.baseTransform||ae(this.ctx),a={createCanvasGraphics:o=>new xa(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new uf(t,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=jx(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Vn(e),je.SHADING);const a=Vn(e);if(a){const{width:o,height:u}=e.canvas,h=wa.slice();ft.axialAlignedBoundingBox([0,0,o,u],a,h);const[d,p,g,y]=h;this.ctx.fillRect(d,p,g-d,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ae(this.ctx),e)){ft.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[s,a,o,u]=e,h=new Path2D;h.rect(s,a,o-s,u-a),this.ctx.clip(h),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||wc("TODO: Support non-isolated groups."),t.knockout&&St("Knockout groups not supported.");const s=ae(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=wa.slice();ft.axialAlignedBoundingBox(t.bbox,ae(e),a);const o=[0,0,e.canvas.width,e.canvas.height];a=ft.intersect(a,o)||[0,0,0,0];const u=Math.floor(a[0]),h=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-u,1),p=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,p),b=y.context;b.translate(-u,-h),b.transform(...s);let v=new Path2D;const[S,_,T,w]=t.bbox;if(v.rect(S,_,T-S,w-_),t.matrix){const O=new Path2D;O.addPath(v,new DOMMatrix(t.matrix)),v=O}b.clip(v),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:u,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,h),e.save()),Hr(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=ae(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const o=wa.slice();ft.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,o),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,a,o){if(this.#t(),Gl(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],h=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=h,ft.singularValueDecompose2dScale(ae(this.ctx),gn);const{viewportScale:d}=this,p=Math.ceil(u*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(gn[0],0,0,-gn[1],0,h*gn[1]),Gl(this.ctx)}else{Gl(this.ctx),this.endPath();const d=new Path2D;d.rect(e[0],e[1],u,h),this.ctx.clip(d)}}this.current=new ey(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,a=this._createMaskCanvas(t),o=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,a=0,o,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=ae(h);h.transform(e,s,a,o,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,y=u.length;g<y;g+=2){const b=ft.transform(d,[e,s,a,o,u[g],u[g+1]]);h.drawImage(p.canvas,b[4],b[5])}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const o of t){const{data:u,width:h,height:d,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=g.context;y.save();const b=this.getObject(u,o);iy(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?s.getPattern(y,this,Vn(e),je.FILL):s,y.fillRect(0,0,h,d),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),Ul(e,g.canvas,0,0,h,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){St("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,a){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){St("Dependent image isn't ready yet");return}const u=o.width,h=o.height,d=[];for(let p=0,g=a.length;p<g;p+=2)d.push({transform:[e,0,0,s,a[p],a[p+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:a}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,a),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,a=this.ctx;this.save();const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/e,-1/s);let u;if(t.bitmap)u=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)u=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;ny(p,t),u=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(u,Vn(a));a.imageSmoothingEnabled=sy(ae(a),t.interpolate),Ul(a,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const o=t.width,u=t.height,d=this.cachedCanvases.getCanvas("inlineImage",o,u).context;ny(d,t),a=this.applyTransferMapsToCanvas(d)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),Ul(s,a,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(s||(this.pendingClip===ay?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ae(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:a,d:o}=this.ctx.getTransform();let u,h;if(s===0&&a===0){const d=Math.abs(e),p=Math.abs(o);if(d===p)if(t===0)u=h=1/d;else{const g=d*t;u=h=g<1?1/g:1}else if(t===0)u=1/d,h=1/p;else{const g=d*t,y=p*t;u=g<1?1/g:1,h=y<1?1/y:1}}else{const d=Math.abs(e*o-s*a),p=Math.hypot(e,s),g=Math.hypot(a,o);if(t===0)u=g/d,h=p/d;else{const y=t*d;u=g>y?g/y:1,h=p>y?p/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:s,current:{lineWidth:a}}=this,[o,u]=this.getScaleForStroking();if(o===u){s.lineWidth=(a||1)*o,s.stroke(t);return}const h=s.getLineDash();e&&s.save(),s.scale(o,u),dd.a=1/o,dd.d=1/u;const d=new Path2D;if(d.addPath(t,dd),h.length>0){const p=Math.max(o,u);s.setLineDash(h.map(g=>g/p)),s.lineDashOffset/=p}s.lineWidth=a||1,s.stroke(d),e&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const l in to)xa.prototype[l]!==void 0&&(xa.prototype[to[l]]=xa.prototype[l]);class Zi{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class qx{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Sa=Symbol("INTERNAL");class Vx{#t=!1;#e=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:s,usage:a,rbGroups:o}){this.#t=!!(t&fn.DISPLAY),this.#e=!!(t&fn.PRINT),this.name=e,this.intent=s,this.usage=a,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,s=!1){t!==Sa&&Wt("Internal method `_setVisible` called."),this.#n=s,this.#i=e}}class Yx{#t=null;#e=new Map;#n=null;#i=null;constructor(t,e=fn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const s of t.groups)this.#e.set(s.id,new Vx(e,s));if(t.baseState==="OFF")for(const s of this.#e.values())s._setVisible(Sa,!1);for(const s of t.on)this.#e.get(s)._setVisible(Sa,!0);for(const s of t.off)this.#e.get(s)._setVisible(Sa,!1);this.#n=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let a=1;a<e;a++){const o=t[a];let u;if(Array.isArray(o))u=this.#a(o);else if(this.#e.has(o))u=this.#e.get(o).visible;else return St(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return wc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(St(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return St(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return St(`Unknown optional content policy ${t.policy}.`),!0}return St(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){const a=this.#e.get(t);if(!a){St(`Optional content group not found: ${t}`);return}if(s&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const u of o)u!==t&&this.#e.get(u)?._setVisible(Sa,!1,!0);a._setVisible(Sa,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let s;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const o=this.#e.get(a);if(o)switch(s){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Ab;for(const[e,s]of this.#e)t.update(`${e}:${s.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Xx{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ae(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:u,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=h,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),t.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Ae(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new $x(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Kx(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class $x{constructor(t,e,s=!1,a=null){this._stream=t,this._done=s||!1,this._filename=xc(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Kx{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Wx(l){let t=!0,e=s("filename\\*","i").exec(l);if(e){e=e[1];let g=h(e);return g=unescape(g),g=d(g),g=p(g),o(g)}if(e=u(l),e){const g=p(e);return o(g)}if(e=s("filename","i").exec(l),e){e=e[1];let g=h(e);return g=p(g),o(g)}function s(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(g,{fatal:!0}),v=uo(y);y=b.decode(v),t=!1}catch{}}return y}function o(g){return t&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),t&&(g=a("iso-8859-1",g))),g}function u(g){const y=[];let b;const v=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(g))!==null;){let[,_,T,w]=b;if(_=parseInt(_,10),_ in y){if(_===0)break;continue}y[_]=[T,w]}const S=[];for(let _=0;_<y.length&&_ in y;++_){let[T,w]=y[_];w=h(w),T&&(w=unescape(w),_===0&&(w=d(w))),S.push(w)}return S.join("")}function h(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let b=0;b<y.length;++b){const v=y[b].indexOf('"');v!==-1&&(y[b]=y[b].slice(0,v),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const b=g.slice(0,y),S=g.slice(y+1).replace(/^[^']*'/,"");return a(b,S)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,v,S){if(v==="q"||v==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,T){return String.fromCharCode(parseInt(T,16))}),a(b,S);try{S=atob(S)}catch{}return a(b,S)})}return""}function Rb(l,t){const e=new Headers;if(!l||!t||typeof t!="object")return e;for(const s in t){const a=t[s];a!==void 0&&e.append(s,a)}return e}function Tc(l){return URL.parse(l)?.origin??null}function Mb({responseHeaders:l,isHttp:t,rangeChunkSize:e,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(l.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*e)||s||!t||l.get("Accept-Ranges")!=="bytes"||(l.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function Ob(l){const t=l.get("Content-Disposition");if(t){let e=Wx(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(xc(e))return e}return null}function mo(l,t){return new eo(`Unexpected server response (${l}) while retrieving PDF "${t}".`,l,l===404||l===0&&t.startsWith("file:"))}function Lb(l){return l===200||l===206}function Db(l,t,e){return{method:"GET",headers:l,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Nb(l){return l instanceof Uint8Array?l.buffer:l instanceof ArrayBuffer?l:(St(`getArrayBuffer - unexpected data format: ${l}`),new Uint8Array(l).buffer)}class Qx{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Rb(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Zx(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new Jx(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Zx{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),a=e.url;fetch(a,Db(s,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Tc(o.url),!Lb(o.status))throw mo(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:h,suggestedLength:d}=Mb({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=Ob(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _i("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Nb(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Jx{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const u=a.url;fetch(u,Db(o,this._withCredentials,this._abortController)).then(h=>{const d=Tc(h.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!Lb(h.status))throw mo(h.status,u);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Nb(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const fd=200,pd=206;function tT(l){const t=l.response;return typeof t!="string"?t:uo(t).buffer}class eT{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Rb(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,u]of this.headers)e.setRequestHeader(o,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=pd):a.expectedStatus=fd,e.responseType="arraybuffer",Ae(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){const s=this.pendingRequests[t];s&&s.onProgress?.(e)}onStateChange(t,e){const s=this.pendingRequests[t];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){s.onError(a.status);return}const o=a.status||fd;if(!(o===fd&&s.expectedStatus===pd)&&o!==s.expectedStatus){s.onError(a.status);return}const h=tT(a);if(o===pd){const d=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);p?s.onDone({begin:parseInt(p[1],10),chunk:h}):(St('Missing or invalid "Content-Range" header.'),s.onError(0))}else h?s.onDone({begin:0,chunk:h}):s.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class nT{constructor(t){this._source=t,this._manager=new eT(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new iT(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new sT(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class iT{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Tc(e.responseURL);const s=e.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[d,...p]=h.split(": ");return[d,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:u}=Mb({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=Ob(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=mo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sT{constructor(t,e,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Tc(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=mo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const aT=/^[a-z][a-z0-9\-+.]+:/i;function rT(l){if(aT.test(l))return new URL(l);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(l))}class oT{constructor(t){this.source=t,this.url=rT(t.url),Ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new cT(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class lT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=mo(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _i("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cT{constructor(t,e,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ur=Symbol("INITIAL_DATA");class kb{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ur}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const s=this.#t[t];if(!s||s.data===Ur)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=this.#t[t];return!!e&&e.data!==Ur}delete(t){const e=this.#t[t];return!e||e.data===Ur?!1:(delete this.#t[t],!0)}resolve(t,e=null){const s=this.#e(t);s.data=e,s.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Ur&&(yield[t,e])}}}const uT=1e5,ry=30;let no=class Cn{#t=Promise.withResolvers();#e=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#l=0;#o=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#r=[];#p=null;#m=[];#g=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#S=new WeakMap;static#w=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:s}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=e,this.#u=s.scale*jn.pixelRatio,this.#d=s.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:o,pageX:u,pageY:h}=s.rawDims;this.#y=[1,0,0,-1,-u,h+o],this.#o=a,this.#l=o,Cn.#L(),Ji(e,s),this.#t.promise.finally(()=>{Cn.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=De.platform;return Lt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:s})=>{if(s){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),Cn.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const s=t.scale*jn.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,Ji(this.#c,{rotation:a})),s!==this.#u){e?.(),this.#u=s;const o={div:null,properties:null,ctx:Cn.#R(this.#a)};for(const u of this.#m)o.properties=this.#g.get(u),o.div=u,this.#_(o)}}cancel(){const t=new _i("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#r}#C(t){if(this.#n)return;this.#s.ctx??=Cn.#R(this.#a);const e=this.#m,s=this.#r;for(const a of t){if(e.length>uT){St("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id!==null&&this.#e.setAttribute("id",`${a.id}`),o.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}s.push(a.str),this.#M(a)}}#M(t){const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);const a=ft.transform(this.#y,t.transform);let o=Math.atan2(a[1],a[0]);const u=this.#f[t.fontName];u.vertical&&(o+=Math.PI/2);let h=this.#i&&u.fontSubstitution||u.fontFamily;h=Cn.fontFamilyMap.get(h)||h;const d=Math.hypot(a[2],a[3]),p=d*Cn.#D(h,u,this.#a);let g,y;o===0?(g=a[4],y=a[5]-p):(g=a[4]+p*Math.sin(o),y=a[5]-p*Math.cos(o));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#c?(v.left=`${(100*g/this.#o).toFixed(2)}%`,v.top=`${(100*y/this.#l).toFixed(2)}%`):(v.left=`${b}${g.toFixed(2)}px)`,v.top=`${b}${y.toFixed(2)}px)`),v.fontSize=`${b}${(Cn.#w*d).toFixed(2)}px)`,v.fontFamily=h,s.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const _=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);_!==T&&Math.max(_,T)/Math.min(_,T)>1.5&&(S=!0)}if(S&&(s.canvasWidth=u.vertical?t.height:t.width),this.#g.set(e,s),this.#s.div=e,this.#s.properties=s,this.#_(this.#s),s.hasText&&this.#e.append(e),s.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this.#e.append(_)}}#_(t){const{div:e,properties:s,ctx:a}=t,{style:o}=e;let u="";if(Cn.#w>1&&(u=`scale(${1/Cn.#w})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=o,{canvasWidth:d,fontSize:p}=s;Cn.#T(a,p*this.#u,h);const{width:g}=a.measureText(e.textContent);g>0&&(u=`scaleX(${d*this.#u/g}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(o.transform=u)}static cleanup(){if(!(this.#x.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#R(t=null){let e=this.#v.get(t||="");if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#T(t,e,s){const a=this.#S.get(t);e===a.size&&s===a.family||(t.font=`${e}px ${s}`,a.size=e,a.family=s)}static#L(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#D(t,e,s){const a=this.#b.get(t);if(a)return a;const o=this.#R(s);o.canvas.width=o.canvas.height=ry,this.#T(o,ry,t);const u=o.measureText(""),h=u.fontBoundingBoxAscent,d=Math.abs(u.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let p=.8;return h?p=h/(h+d):(De.platform.isFirefox&&St("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),this.#b.set(t,p),p}};class io{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function a(o){if(!o)return;let u=null;const h=o.name;if(h==="#text")u=o.value;else if(io.shouldBuildText(h))o?.attributes?.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&e.push({str:u}),!!o.children)for(const d of o.children)a(d)}return a(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const hT=100;function hf(l={}){typeof l=="string"||l instanceof URL?l={url:l}:(l instanceof ArrayBuffer||ArrayBuffer.isView(l))&&(l={data:l});const t=new df,{docId:e}=t,s=l.url?Sx(l.url):null,a=l.data?_x(l.data):null,o=l.httpHeaders||null,u=l.withCredentials===!0,h=l.password??null,d=l.range instanceof ff?l.range:null,p=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:2**16;let g=l.worker instanceof Pa?l.worker:null;const y=l.verbosity,b=typeof l.docBaseUrl=="string"&&!fo(l.docBaseUrl)?l.docBaseUrl:null,v=Bl(l.cMapUrl),S=l.cMapPacked!==!1,_=l.CMapReaderFactory||(Ye?Mx:$0),T=Bl(l.iccUrl),w=Bl(l.standardFontDataUrl),O=l.StandardFontDataFactory||(Ye?Ox:K0),C=Bl(l.wasmUrl),L=l.WasmFactory||(Ye?Lx:W0),R=l.stopAtErrors!==!0,j=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,N=l.isEvalSupported!==!1,$=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!Ye,X=typeof l.isImageDecoderSupported=="boolean"?l.isImageDecoderSupported:!Ye&&(De.platform.isFirefox||!globalThis.chrome),it=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,nt=typeof l.disableFontFace=="boolean"?l.disableFontFace:Ye,Q=l.fontExtraProperties===!0,et=l.enableXfa===!0,rt=l.ownerDocument||globalThis.document,st=l.disableRange===!0,D=l.disableStream===!0,B=l.disableAutoFetch===!0,at=l.pdfBug===!0,Z=l.CanvasFactory||(Ye?Rx:xx),x=l.FilterFactory||(Ye?Cx:Tx),U=l.enableHWA===!0,G=l.useWasm!==!1,Y=d?d.length:l.length??NaN,tt=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!Ye&&!nt,lt=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:!!(_===$0&&O===K0&&L===W0&&v&&w&&C&&Yr(v,document.baseURI)&&Yr(w,document.baseURI)&&Yr(C,document.baseURI)),ot=null;ix(y);const ht={canvasFactory:new Z({ownerDocument:rt,enableHWA:U}),filterFactory:new x({docId:e,ownerDocument:rt}),cMapReaderFactory:lt?null:new _({baseUrl:v,isCompressed:S}),standardFontDataFactory:lt?null:new O({baseUrl:w}),wasmFactory:lt?null:new L({baseUrl:C})};g||(g=Pa.create({verbosity:y,port:Zi.workerPort}),t._worker=g);const bt={docId:e,apiVersion:"5.3.31",data:a,password:h,disableAutoFetch:B,rangeChunkSize:p,length:Y,docBaseUrl:b,enableXfa:et,evaluatorOptions:{maxImageSize:j,disableFontFace:nt,ignoreErrors:R,isEvalSupported:N,isOffscreenCanvasSupported:$,isImageDecoderSupported:X,canvasMaxAreaInBytes:it,fontExtraProperties:Q,useSystemFonts:tt,useWasm:G,useWorkerFetch:lt,cMapUrl:v,iccUrl:T,standardFontDataUrl:w,wasmUrl:C}},Pt={ownerDocument:rt,pdfBug:at,styleElement:ot,loadingParams:{disableAutoFetch:B,enableXfa:et}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Et=g.messageHandler.sendWithPromise("GetDocRequest",bt,a?[a.buffer]:null);let zt;if(d)zt=new Xx(d,{disableRange:st,disableStream:D});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Bt=Yr(s)?Qx:Ye?oT:nT;zt=new Bt({url:s,length:Y,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:st,disableStream:D})}return Et.then(Bt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Vt=new Xr(e,Bt,g.port),Tt=new pT(Vt,t,zt,Pt,ht);t._transport=Tt,Vt.send("Ready",null)})}).catch(t._capability.reject),t}class df{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${df.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let ff=class{#t=Promise.withResolvers();#e=[];#n=[];#i=[];#a=[];constructor(t,e,s=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=a}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#n.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const s of this.#a)s(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const s of this.#i)s(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#n)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class dT{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Lt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class fT{#t=!1;constructor(t,e,s,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=a?new V0:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new kb,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}={}){return new ho({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:s,offsetY:a,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Lt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:a=Qn.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(s,a,g,y),{renderingIntent:v,cacheKey:S}=b;this.#t=!1,h||=this._transport.getOptionalContentConfig(v);let _=this._intentStates.get(S);_||(_=Object.create(null),this._intentStates.set(S,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const T=!!(v&fn.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const w=L=>{_.renderTasks.delete(O),T&&(this.#t=!0),this.#e(),L?(O.capability.reject(L),this._abortOperatorList({intentState:_,reason:L instanceof Error?L:new Error(L)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Ea({callback:w,params:{canvasContext:t,viewport:e,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:p});(_.renderTasks||=new Set).add(O);const C=O.task;return Promise.all([_.displayReadyCapability.promise,h]).then(([L,R])=>{if(this.destroyed){w();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:L,optionalContentConfig:R}),O.operatorListChanged()}).catch(w),C}getOperatorList({intent:t="display",annotationMode:e=Qn.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const u=this._transport.getRenderingIntent(t,e,s,a,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>io.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,a){function o(){u.read().then(function({value:d,done:p}){if(p){s(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},a)}const u=e.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new V0),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const s=this._intentStates.get(e);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let s=0,a=t.length;s<a;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:a}){const{map:o,transfer:u}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:a},u).getReader(),p=this._intentStates.get(e);p.streamReader=d;const g=()=>{d.read().then(({value:y,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();this.#e()}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof Ec){let a=hT;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new _i(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var Wi,Nn,vi,ws,dc,Es,xs,Xe,tc,Pb,jb,$r,Ra,ec;const ie=class ie{constructor({name:t=null,port:e=null,verbosity:s=sx()}={}){Gn(this,Xe);Gn(this,Wi,Promise.withResolvers());Gn(this,Nn,null);Gn(this,vi,null);Gn(this,ws,null);if(this.name=t,this.destroyed=!1,this.verbosity=s,e){if(ne(ie,xs).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ne(ie,xs).set(e,this),qn(this,Xe,Pb).call(this,e)}else qn(this,Xe,jb).call(this)}get promise(){return ne(this,Wi).promise}get port(){return ne(this,vi)}get messageHandler(){return ne(this,Nn)}destroy(){this.destroyed=!0,ne(this,ws)?.terminate(),Je(this,ws,null),ne(ie,xs).delete(ne(this,vi)),Je(this,vi,null),ne(this,Nn)?.destroy(),Je(this,Nn,null)}static create(t){const e=ne(this,xs).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ie(t)}static get workerSrc(){if(Zi.workerSrc)return Zi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Lt(this,"_setupFakeWorkerGlobal",(async()=>ne(this,Ra,ec)?ne(this,Ra,ec):(await import(this.workerSrc)).WorkerMessageHandler)())}};Wi=new WeakMap,Nn=new WeakMap,vi=new WeakMap,ws=new WeakMap,dc=new WeakMap,Es=new WeakMap,xs=new WeakMap,Xe=new WeakSet,tc=function(){ne(this,Wi).resolve(),ne(this,Nn).send("configure",{verbosity:this.verbosity})},Pb=function(t){Je(this,vi,t),Je(this,Nn,new Xr("main","worker",t)),ne(this,Nn).on("ready",()=>{}),qn(this,Xe,tc).call(this)},jb=function(){if(ne(ie,Es)||ne(ie,Ra,ec)){qn(this,Xe,$r).call(this);return}let{workerSrc:t}=ie;try{ie._isSameOrigin(window.location,t)||(t=ie._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Xr("main","worker",e),a=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?ne(this,Wi).reject(new Error("Worker was destroyed")):qn(this,Xe,$r).call(this)},o=new AbortController;e.addEventListener("error",()=>{ne(this,ws)||a()},{signal:o.signal}),s.on("test",h=>{if(o.abort(),this.destroyed||!h){a();return}Je(this,Nn,s),Je(this,vi,e),Je(this,ws,e),qn(this,Xe,tc).call(this)}),s.on("ready",h=>{if(o.abort(),this.destroyed){a();return}try{u()}catch{qn(this,Xe,$r).call(this)}});const u=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};u();return}catch{wc("The worker has been disabled.")}qn(this,Xe,$r).call(this)},$r=function(){ne(ie,Es)||(St("Setting up fake worker."),Je(ie,Es,!0)),ie._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ne(this,Wi).reject(new Error("Worker was destroyed"));return}const e=new Ex;Je(this,vi,e);const s=`fake${u0(ie,dc)._++}`,a=new Xr(s+"_worker",s,e);t.setup(a,e),Je(this,Nn,new Xr(s,s+"_worker",e)),qn(this,Xe,tc).call(this)}).catch(t=>{ne(this,Wi).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ra=new WeakSet,ec=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Gn(ie,Ra),Gn(ie,dc,0),Gn(ie,Es,!1),Gn(ie,xs,new WeakMap),Ye&&(Je(ie,Es,!0),Zi.workerSrc||="./pdf.worker.mjs"),ie._isSameOrigin=(t,e)=>{const s=URL.parse(t);if(!s?.origin||s.origin==="null")return!1;const a=new URL(e,s);return s.origin===a.origin},ie._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ie.fromPort=t=>{if(fx("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ie.create(t)};let Pa=ie;class pT{#t=new Map;#e=new Map;#n=new Map;#i=new Map;#a=null;constructor(t,e,s,a,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new kb,this.fontLoader=new vx({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const s=this.#t.get(t);if(s)return s;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Lt(this,"annotationStorage",new of)}getRenderingIntent(t,e=Qn.ENABLE,s=null,a=!1,o=!1){let u=fn.DISPLAY,h=Rd;switch(t){case"any":u=fn.ANY;break;case"display":break;case"print":u=fn.PRINT;break;default:St(`getRenderingIntent - invalid intent: ${t}`)}const d=u&fn.PRINT&&s instanceof Sb?s:this.annotationStorage;switch(e){case Qn.DISABLE:u+=fn.ANNOTATIONS_DISABLE;break;case Qn.ENABLE:break;case Qn.ENABLE_FORMS:u+=fn.ANNOTATIONS_FORMS;break;case Qn.ENABLE_STORAGE:u+=fn.ANNOTATIONS_STORAGE,h=d.serializable;break;default:St(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(u+=fn.IS_EDITING),o&&(u+=fn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,y=[u,h.hash,g];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of this.#e.values())t.push(s._destroy());this.#e.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),no.cleanup(),this._networkStream?.cancelAllRequests(new _i("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,a)=>{Ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){a.close();return}Ae(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:u}=this._fullReader;return(!a||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{e.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:u}}),t.on("GetRangeReader",(s,a)=>{Ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:u,done:h}){if(h){a.close();return}Ae(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{a.error(u)})},a.onCancel=u=>{o.cancel(u),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new dT(s,this))}),t.on("DocException",s=>{e._capability.reject(tn(s))}),t.on("PasswordRequest",s=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw tn(s);const a=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(a,s.code)}catch(a){this.#a.reject(a)}return this.#a.promise}),t.on("DataLoaded",s=>{e.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;this.#e.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,a,o])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":if("error"in o){const p=o.error;St(`Error during font loading: ${p}`),this.commonObjs.resolve(s,p);break}const u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new Ax(o,u);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:d}=o;Ae(d,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(s,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([s,a,o,u])=>{if(this.destroyed)return;const h=this.#e.get(a);if(!h.objs.has(s)){if(h._intentStates.size===0){u?.bitmap?.close();return}switch(o){case"Image":case"Pattern":h.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{this.destroyed||e.onProgress?.({loaded:s.loaded,total:s.total})}),t.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[s.type];if(!a)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&St("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=this.#n.get(e);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,t);const u=new fT(e,o,this,this._params.pdfBug);return this.#e.set(e,u),u});return this.#n.set(e,a),a}getPageIndex(t){return Md(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new Yx(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new qx(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),no.cleanup()}}cachedPageNumber(t){if(!Md(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}}class gT{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ea{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:s,commonObjs:a,annotationCanvasMap:o,operatorList:u,pageIndex:h,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:b=null}){this.callback=t,this.params=e,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gT(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ea.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ea.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:u}=this.params;this.gfx=new xa(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ea.#e.delete(this._canvas),t||=new Ec(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ea.#e.delete(this._canvas),this.callback())))}}const zb="5.3.31",Fb="47ad820d9";function oy(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function Gr(l){return Math.max(0,Math.min(255,255*l))}class ly{static CMYK_G([t,e,s,a]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Gr(t),[t,t,t]}static G_HTML([t]){const e=oy(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Gr)}static RGB_HTML(t){return`#${t.map(oy).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,s+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,s,a]){return[Gr(1-Math.min(1,t+a)),Gr(1-Math.min(1,s+a)),Gr(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const a=1-t,o=1-e,u=1-s,h=Math.min(a,o,u);return["CMYK",a,o,u,h]}}class mT{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wt("Abstract method `_createSVG` called.")}}class so extends mT{_createSVG(t){return document.createElementNS(yi,t)}}class pf{static setupStorage(t,e,s,a,o){const u=a.getValue(e,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),o==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{a.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),o==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const h of s.children)h.attributes.value===u.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:a,linkService:o}){const{attributes:u}=e,h=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${a}`);for(const[d,p]of Object.entries(u))if(p!=null)switch(d){case"class":p.length&&t.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,p)}h&&o.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,e,s)}static render(t){const e=t.annotationStorage,s=t.linkService,a=t.xfaHtml,o=t.intent||"display",u=document.createElement(a.name);a.attributes&&this.setAttributes({html:u,element:a,intent:o,linkService:s});const h=o!=="richText",d=t.div;if(d.append(u),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=y}h&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const y=document.createTextNode(a.value);u.append(y),h&&io.shouldBuildText(a.name)&&p.push(y)}return{textDivs:p}}const g=[[a,-1,u]];for(;g.length>0;){const[y,b,v]=g.at(-1);if(b+1===y.children.length){g.pop();continue}const S=y.children[++g.at(-1)[1]];if(S===null)continue;const{name:_}=S;if(_==="#text"){const w=document.createTextNode(S.value);p.push(w),v.append(w);continue}const T=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,_):document.createElement(_);if(v.append(T),S.attributes&&this.setAttributes({html:T,element:S,storage:e,intent:o,linkService:s}),S.children?.length>0)g.push([S,-1,T]);else if(S.value){const w=document.createTextNode(S.value);h&&io.shouldBuildText(_)&&p.push(w),T.append(w)}}for(const y of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const yo=1e3,yT=9,Rs=new WeakSet;class cy{static create(t){switch(t.data.annotationType){case he.LINK:return new Ib(t);case he.TEXT:return new bT(t);case he.WIDGET:switch(t.data.fieldType){case"Tx":return new vT(t);case"Btn":return t.data.radioButton?new Bb(t):t.data.checkBox?new ST(t):new _T(t);case"Ch":return new wT(t);case"Sig":return new AT(t)}return new Ds(t);case he.POPUP:return new Ld(t);case he.FREETEXT:return new Hb(t);case he.LINE:return new xT(t);case he.SQUARE:return new TT(t);case he.CIRCLE:return new CT(t);case he.POLYLINE:return new Ub(t);case he.CARET:return new MT(t);case he.INK:return new gf(t);case he.POLYGON:return new RT(t);case he.HIGHLIGHT:return new Gb(t);case he.UNDERLINE:return new OT(t);case he.SQUIGGLY:return new LT(t);case he.STRIKEOUT:return new DT(t);case he.STAMP:return new qb(t);case he.FILEATTACHMENT:return new NT(t);default:return new pe(t)}}}class pe{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t?.str||e?.str||s?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pe._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:e},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:h,pageY:d}}}}=this;s?.splice(0,4,...t),e.left=`${100*(t[0]-h)/o}%`,e.top=`${100*(u-t[3]+d)/u}%`,a===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/u}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:s,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Ds||(o.tabIndex=yo);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Ld){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,o),o}const{width:h,height:d}=this;if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(_>0||T>0){const O=`calc(${_}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;u.borderRadius=O}else if(this instanceof Bb){const O=`calc(${h}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;u.borderRadius=O}switch(e.borderStyle.style){case Aa.SOLID:u.borderStyle="solid";break;case Aa.DASHED:u.borderStyle="dashed";break;case Aa.BEVELED:St("Unimplemented border style: beveled");break;case Aa.INSET:St("Unimplemented border style: inset");break;case Aa.UNDERLINE:u.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,u.borderColor=ft.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):u.borderWidth=0}const p=ft.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:y,pageX:b,pageY:v}=a.rawDims;u.left=`${100*(p[0]-b)/g}%`,u.top=`${100*(p[1]-v)/y}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(u.width=`${100*h/g}%`,u.height=`${100*d/y}%`):this.setRotation(S,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:u}=this;t%180!==0&&([o,u]=[u,o]),e.style.width=`${100*o/s}%`,e.style.height=`${100*u/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,a)=>{const o=a.detail[e],u=o[0],h=o.slice(1);a.target.style[s]=ly[`${u}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:ly[`${u}_rgb`](h)})};return Lt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||s[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[a,o]of Object.entries(e)){const u=s[a];if(u){const h={detail:{[a]:o},target:t};u(h),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,a,o]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,T,w,O]=t.subarray(2,6);if(a===_&&o===T&&e===w&&s===O)return}const{style:u}=this.container;let h;if(this.#e){const{borderColor:_,borderWidth:T}=u;u.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const d=a-e,p=o-s,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=g.createElement("defs");y.append(b);const v=g.createElement("clipPath"),S=`clippath_${this.data.id}`;v.setAttribute("id",S),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let _=2,T=t.length;_<T;_+=8){const w=t[_],O=t[_+1],C=t[_+2],L=t[_+3],R=g.createElement("rect"),j=(C-e)/d,N=(o-O)/p,$=(w-C)/d,X=(O-L)/p;R.setAttribute("x",j),R.setAttribute("y",N),R.setAttribute("width",$),R.setAttribute("height",X),v.append(R),h?.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${N}" width="${$}" height="${X}"/>`)}this.#e&&(h.push("</g></svg>')"),u.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=this.#n=new Ld({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:o,id:u,exportValues:h}of a){if(o===-1||u===e)continue;const d=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Rs.has(p)){St(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:d,domElement:p})}return s}for(const a of document.getElementsByName(t)){const{exportValue:o}=a,u=a.getAttribute("data-element-id");u!==e&&Rs.has(a)&&s.push({id:u,exportValue:o,domElement:a})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Ib extends pe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action),a=!0):t.attachment?(this.#e(s,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(this.#n(s,t.setOCGState),a=!0):t.dest?(this._bindLink(s,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,s=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const o=s.get(a);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){St('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{s?.();const{fields:a,refs:o,include:u}=e,h=[];if(a.length!==0||o.length!==0){const g=new Set(o);for(const y of a){const b=this._fieldObjects[y]||[];for(const{id:v}of b)g.add(v)}for(const y of Object.values(this._fieldObjects))for(const b of y)g.has(b.id)===u&&h.push(b)}else for(const g of Object.values(this._fieldObjects))h.push(...g);const d=this.annotationStorage,p=[];for(const g of h){const{id:y}=g;switch(p.push(y),g.type){case"text":{const v=g.defaultValue||"";d.setValue(y,{value:v});break}case"checkbox":case"radiobutton":{const v=g.defaultValue===g.exportValues;d.setValue(y,{value:v});break}case"combobox":case"listbox":{const v=g.defaultValue||"";d.setValue(y,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!Rs.has(b)){St(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class bT extends pe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ds extends pe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return De.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,a,o){s.includes("mouse")?t.addEventListener(s,u=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{if(s==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(u)}})})}_setEventListeners(t,e,s,a){for(const[o,u]of s)(u==="Action"||this.data.actions?.[u])&&((u==="Focus"||u==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,u,a),u==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):u==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ft.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||yT,o=t.style;let u;const h=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(od*a))||1,y=p/g;u=Math.min(a,d(y/od))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);u=Math.min(a,d(p/od))}o.fontSize=`calc(${u}px * var(--total-scale-factor))`,o.color=ft.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class vT extends Ds{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,a){const o=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=s),o.setValue(u.id,{[a]:s})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const u=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let h=a.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",h??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Rs.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=yo,this._setRequired(s,this.data.required),u&&(s.maxLength=u),s.addEventListener("input",g=>{t.setValue(e,{value:g.target.value}),this.setPropertyOnSiblings(s,"value",g.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";s.value=d.userValue=y,d.formattedValue=null});let p=g=>{const{formattedValue:y}=d;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",y=>{if(d.focused)return;const{target:b}=y;d.userValue&&(b.value=d.userValue),d.lastCommittedValue=b.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(v){d.userValue=v.detail.value??"",t.setValue(e,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:S}=v.detail;d.formattedValue=S,S!=null&&v.target!==document.activeElement&&(v.target.value=S),t.setValue(e,{formattedValue:S})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:S}=v.detail,{target:_}=v;if(S===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",S);let T=d.userValue;!T||T.length<=S||(T=T.slice(0,S),_.value=d.userValue=T,t.setValue(e,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),s.addEventListener("keydown",y=>{d.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(d.commitKey=3),b===-1)return;const{value:v}=y.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,s.addEventListener("blur",y=>{if(!d.focused||!y.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:b}=y.target;d.userValue=b,d.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),g(y)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",y=>{d.lastCommittedValue=null;const{data:b,target:v}=y,{value:S,selectionStart:_,selectionEnd:T}=v;let w=_,O=T;switch(y.inputType){case"deleteWordBackward":{const C=S.substring(0,_).match(/\w*[^\w]*$/);C&&(w-=C[0].length);break}case"deleteWordForward":{const C=S.substring(_).match(/^[^\w]*\w*/);C&&(O+=C[0].length);break}case"deleteContentBackward":_===T&&(w-=1);break;case"deleteContentForward":_===T&&(O+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,change:b||"",willCommit:!1,selStart:w,selEnd:O}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/u;s.classList.add("comb"),s.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class AT extends Ds{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ST extends Ds{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Rs.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=yo,o.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s)){const g=d&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:d})}),o.addEventListener("resetform",u=>{const h=e.defaultFieldValue||"Off";u.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Bb extends Ds{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let a=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(s,{value:a})),a)for(const u of this._getElementsByName(e.fieldName,s))t.setValue(u.id,{value:!1});const o=document.createElement("input");if(Rs.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=yo,o.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:d})}),o.addEventListener("resetform",u=>{const h=e.defaultFieldValue;u.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:p=>{const g=u===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const b=g&&y.id===s;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class _T extends Ib{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class wT extends Ds{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Rs.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=yo;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,s.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),o=!1),a.append(y)}let u=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),u=()=>{g.remove(),a.removeEventListener("input",u),u=null},a.addEventListener("input",u)}const h=g=>{const y=g?"value":"textContent",{options:b,multiple:v}=a;return v?Array.prototype.filter.call(b,S=>S.selected).map(S=>S[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let d=h(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const y={value(b){u?.();const v=b.detail.value,S=new Set(Array.isArray(v)?v:[v]);for(const _ of a.options)_.selected=S.has(_.value);t.setValue(e,{value:h(!0)}),d=h(!1)},multipleSelection(b){a.multiple=!0},remove(b){const v=a.options,S=b.detail.remove;v[S].selected=!1,a.remove(S),v.length>0&&Array.prototype.findIndex.call(v,T=>T.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),d=h(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=h(!1)},insert(b){const{index:v,displayValue:S,exportValue:_}=b.detail.insert,T=a.children[v],w=document.createElement("option");w.textContent=S,w.value=_,T?T.before(w):a.append(w),t.setValue(e,{value:h(!0),items:p(b)}),d=h(!1)},items(b){const{items:v}=b.detail;for(;a.length!==0;)a.remove(0);for(const S of v){const{displayValue:_,exportValue:T}=S,w=document.createElement("option");w.textContent=_,w.value=T,a.append(w)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(b)}),d=h(!1)},indices(b){const v=new Set(b.detail.indices);for(const S of b.target.options)S.selected=v.has(S.index);t.setValue(e,{value:h(!0)}),d=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,g)}),a.addEventListener("input",g=>{const y=h(!0),b=h(!1);t.setValue(e,{value:y}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Ld extends pe{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:pe._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new ET({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${ef}${s}`).join(",")),this.container}}class ET{#t=this.#C.bind(this);#e=this.#T.bind(this);#n=this.#R.bind(this);#i=this.#_.bind(this);#a=null;#s=null;#l=null;#o=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#r=null;#p=null;#m=null;#g=null;#y=null;#b=!1;constructor({container:t,color:e,elements:s,titleObj:a,modificationDate:o,contentsObj:u,richText:h,parent:d,rect:p,parentRect:g,open:y}){this.#s=t,this.#g=a,this.#l=u,this.#m=h,this.#c=d,this.#a=e,this.#p=p,this.#d=g,this.#h=s,this.#o=nf.toDateObject(o),this.trigger=s.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#i),b.addEventListener("mouseenter",this.#n),b.addEventListener("mouseleave",this.#e),b.classList.add("popupTriggerArea");for(const b of s)b.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,y&&this.#_()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const o=t.style.outlineColor=ft.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=this.#g,t.append(e),this.#o){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),e.append(o)}const a=this.#v;if(a)pf.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(this.#l);t.append(o)}this.#s.append(t)}get#v(){const t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#S(){return this.#v?.attributes?.style?.fontSize||0}get#w(){return this.#v?.attributes?.style?.color||null}#x(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#w,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:a});return s}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let o=0,u=a.length;o<u;++o){const h=a[o];s.append(document.createTextNode(h)),o<u-1&&s.append(document.createElement("br"))}return s}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#_()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#l,richText:this.#m},t&&(this.#r=null),e&&(this.#m=this.#x(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#l,richText:this.#m}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#r=null)}#M(){if(this.#r!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:a,pageY:o}}}=this.#c;let u=!!this.#d,h=u?this.#d:this.#p;for(const S of this.#h)if(!h||ft.intersect(S.data.rect,h)!==null){h=S.data.rect,u=!0;break}const d=ft.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=u?h[2]-h[0]+5:0,y=d[0]+g,b=d[1];this.#r=[100*(y-a)/e,100*(b-o)/s];const{style:v}=this.#s;v.left=`${this.#r[0]}%`,v.top=`${this.#r[1]}%`}#_(){this.#u=!this.#u,this.#u?(this.#R(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#T(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#R(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#M(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#T(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#s.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#R(),this.#b=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Hb extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class xT extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class TT extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),o=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:rect");return u.setAttribute("x",o/2),u.setAttribute("y",o/2),u.setAttribute("width",e-o),u.setAttribute("height",s-o),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class CT extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:s}=this,a=this.svgFactory.create(e,s,!0),o=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:ellipse");return u.setAttribute("cx",e/2),u.setAttribute("cy",s/2),u.setAttribute("rx",e/2-o/2),u.setAttribute("ry",s/2-o/2),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),a.append(u),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ub extends pe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:s,popupRef:a},width:o,height:u}=this;if(!e)return this.container;const h=this.svgFactory.create(o,u,!0);let d=[];for(let g=0,y=e.length;g<y;g+=2){const b=e[g]-t[0],v=t[3]-e[g+1];d.push(`${b},${v}`)}d=d.join(" ");const p=this.#t=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class RT extends Ub{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class MT extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class gf extends pe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:s,borderStyle:a,popupRef:o}}=this,{transform:u,width:h,height:d}=this.#n(e,t),p=this.svgFactory.create(h,d,!0),g=this.#t=this.svgFactory.createElement("svg:g");p.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",u);for(let y=0,b=s.length;y<b;y++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",s[y].join(",")),g.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:s,rect:a}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),s)for(let u=0,h=this.#e.length;u<h;u++)this.#e[u].setAttribute("points",s[u].join(","));if(a){const{transform:u,width:h,height:d}=this.#n(this.data.rotation,a);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${d}`),o.setAttribute("transform",u)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Gb extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class OT extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class LT extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class DT extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class qb extends pe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class NT extends pe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let s;e.hasAppearance||e.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#e.bind(this)),this.#t=s;const{isMac:a}=De.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let mf=class Vb{#t=null;#e=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:a,page:o,viewport:u,structTreeLayer:h}){this.div=t,this.#t=e,this.#e=s,this.#i=h||null,this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e){const s=t.firstChild||t,a=s.id=`${ef}${e}`,o=await this.#i?.getAriaAttributes(a);if(o)for(const[u,h]of o)s.setAttribute(u,h);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1)}async render(t){const{annotations:e}=t,s=this.div;Ji(s,this.viewport);const a=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new so,annotationStorage:t.annotationStorage||new of,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===he.POPUP;if(h){const g=a.get(u.id);if(!g)continue;o.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;o.data=u;const d=cy.create(o);if(!d.isRenderable)continue;if(!h&&u.popupRef){const g=a.get(u.popupRef);g?g.push(d):a.set(u.popupRef,[d])}const p=d.render();u.hidden&&(p.style.visibility="hidden"),await this.#a(p,u.id),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#s()}async addLinkAnnotations(t,e){const s={data:null,layer:this.div,linkService:e,svgFactory:new so,parent:this};for(const a of t){a.borderStyle||=Vb._defaultBorderStyle,s.data=a;const o=cy.create(s);if(!o.isRenderable)continue;const u=o.render();await this.#a(u,a.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Ji(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,s]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:o}=a;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):a.append(s);const u=this.#n.get(e);u&&(u._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,s),u._hasNoCanvas=!1):u.canvas=s)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}static get _defaultBorderStyle(){return Lt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Aa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const ql=/\r\n?|\n/g;class we extends pt{#t;#e="";#n=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=we.prototype,e=o=>o.isEmpty(),s=wi.TRANSLATE_SMALL,a=wi.TRANSLATE_BIG;return Lt(this,"_keyboardManager",new po([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||we._defaultColor||pt._defaultLineColor,this.#a=t.fontSize||we._defaultFontSize}static initialize(t,e){pt.initialize(t,e);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Nt.FREETEXT_SIZE:we._defaultFontSize=e;break;case Nt.FREETEXT_COLOR:we._defaultColor=e;break}}updateParams(t,e){switch(t){case Nt.FREETEXT_SIZE:this.#s(e);break;case Nt.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[Nt.FREETEXT_SIZE,we._defaultFontSize],[Nt.FREETEXT_COLOR,we._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[Nt.FREETEXT_SIZE,this.#a],[Nt.FREETEXT_COLOR,this.#t]]}#s(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#a)*this.parentScale),this.#a=a,this.#h()},s=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){const e=a=>{this.#t=this.editorDiv.style.color=a},s=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-we._internalPadding*t,-(we._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const t=[];this.editorDiv.normalize();let e=null;for(const s of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(we.#c(s)),e=s);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,u=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=u,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/e):(this.width=s.height/t,this.height=s.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#o().trimEnd();if(t===e)return;const s=a=>{if(this.#e=a,!a){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{s(e)},undo:()=>{s(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){we._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,g]=this.pageDimensions,[y,b]=this.pageTranslation;let v,S;switch(this.rotation){case 0:v=t+(u[0]-y)/p,S=e+this.height-(u[1]-b)/g;break;case 90:v=t+(u[0]-y)/p,S=e-(u[1]-b)/g,[h,d]=[d,-h];break;case 180:v=t-this.width+(u[0]-y)/p,S=e-(u[1]-b)/g,[h,d]=[-h,-d];break;case 270:v=t+(u[0]-y-this.height*g)/p,S=e+(u[1]-b-this.width*p)/g,[h,d]=[-d,h];break}this.setAt(v*a,S*o,h,d)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ql,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:s}=e;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=we.#f(e.getData("text")||"").replaceAll(ql,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const u=o.getRangeAt(0);if(!a.includes(`
`)){u.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:d}=u,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const v=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(ql,"")),v!==this.editorDiv){let S=p;for(const _ of this.editorDiv.childNodes){if(_===v){S=g;continue}S.push(we.#c(_))}}p.push(h.nodeValue.slice(0,d).replaceAll(ql,""))}else if(h===this.editorDiv){let v=p,S=0;for(const _ of this.editorDiv.childNodes)S++===d&&(v=g),v.push(we.#c(_))}this.#e=`${p.join(`
`)}${a}${g.join(`
`)}`,this.#d();const y=new Range;let b=Math.sumPrecise(p.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const S=v.nodeValue.length;if(b<=S){y.setStart(v,b),y.setEnd(v,b);break}b-=S}o.removeAllRanges(),o.addRange(y)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,s){let a=null;if(t instanceof Hb){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:d,rotation:p,id:g,popupRef:y},textContent:b,textPosition:v,parent:{page:{pageNumber:S}}}=t;if(!b||b.length===0)return null;a=t={annotationType:At.FREETEXT,color:Array.from(h),fontSize:u,value:b.join(`
`),position:v,pageIndex:S-1,rect:d.slice(0),rotation:p,id:g,deleted:!1,popupRef:y}}const o=await super.deserialize(t,e,s);return o.#a=t.fontSize,o.#t=ft.makeHexColor(...t.color),o.#e=we.#f(t.value),o.annotationElementId=t.id||null,o._initialData=a,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=we._internalPadding*this.parentScale,s=this.getRect(e,e),a=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),o={annotationType:At.FREETEXT,color:a,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(o.isCopy=!0,o):this.annotationElementId&&!this.#r(o)?null:(o.id=this.annotationElementId,o)}#r(t){const{value:e,fontSize:s,color:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==s||t.color.some((u,h)=>u!==a[h])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:s}=e;s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#t,e.replaceChildren();for(const o of this.#e.split(`
`)){const u=document.createElement("div");u.append(o?document.createTextNode(o):document.createElement("br")),e.append(u)}const a=we._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class ct{static PRECISION=1e-4;toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(t,e){Wt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,s,a,o,u){u||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=e+t[h]*a,u[h+1]=s+t[h+1]*o;return u}static _rescaleAndSwap(t,e,s,a,o,u){u||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=e+t[h+1]*a,u[h+1]=s+t[h]*o;return u}static _translate(t,e,s,a){a||=new Float32Array(t.length);for(let o=0,u=t.length;o<u;o+=2)a[o]=e+t[o],a[o+1]=s+t[o+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,s,a,o){switch(o){case 90:return[1-e/s,t/a];case 180:return[1-t/s,1-e/a];case 270:return[e/s,1-t/a];default:return[t/s,e/a]}}static _normalizePagePoint(t,e,s){switch(s){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,s,a,o,u){return[(t+5*s)/6,(e+5*a)/6,(5*s+o)/6,(5*a+u)/6,(s+o)/2,(a+u)/2]}}class _s{#t;#e=[];#n;#i;#a=[];#s=new Float32Array(18);#l;#o;#h;#c;#d;#u;#f=[];static#r=8;static#p=2;static#m=_s.#r+_s.#p;constructor({x:t,y:e},s,a,o,u,h=0){this.#t=s,this.#u=o*a,this.#i=u,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=h,this.#c=_s.#r*a,this.#h=_s.#m*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[s,a,o,u]=this.#t;return[(this.#l+(t[0]-e[0])/2-s)/o,(this.#o+(t[1]-e[1])/2-a)/u,(this.#l+(e[0]-t[0])/2-s)/o,(this.#o+(e[1]-t[1])/2-a)/u]}add({x:t,y:e}){this.#l=t,this.#o=e;const[s,a,o,u]=this.#t;let[h,d,p,g]=this.#s.subarray(8,12);const y=t-p,b=e-g,v=Math.hypot(y,b);if(v<this.#h)return!1;const S=v-this.#c,_=S/v,T=_*y,w=_*b;let O=h,C=d;h=p,d=g,p+=T,g+=w,this.#f?.push(t,e);const L=-w/S,R=T/S,j=L*this.#u,N=R*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([p+j,g+N],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([p-j,g-N],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([h+j,d+N],2),this.#a.push(NaN,NaN,NaN,NaN,(h+j-s)/o,(d+N-a)/u),this.#s.set([h-j,d-N],14),this.#e.push(NaN,NaN,NaN,NaN,(h-j-s)/o,(d-N-a)/u)),this.#s.set([O,C,h,d,p,g],6),!this.isEmpty()):(this.#s.set([O,C,h,d,p,g],6),Math.abs(Math.atan2(C-d,O-h)-Math.atan2(w,T))<Math.PI/2?([h,d,p,g]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+p)/2-s)/o,((d+g)/2-a)/u),[h,d,O,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((O+h)/2-s)/o,((C+d)/2-a)/u),!0):([O,C,h,d,p,g]=this.#s.subarray(0,6),this.#a.push(((O+5*h)/6-s)/o,((C+5*d)/6-a)/u,((5*h+p)/6-s)/o,((5*d+g)/6-a)/u,((h+p)/2-s)/o,((d+g)/2-a)/u),[p,g,h,d,O,C]=this.#s.subarray(12,18),this.#e.push(((O+5*h)/6-s)/o,((C+5*d)/6-a)/u,((5*h+p)/6-s)/o,((5*d+g)/6-a)/u,((h+p)/2-s)/o,((d+g)/2-a)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const s=[];s.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#v(s);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#b(s),s.join(" ")}#y(){const[t,e,s,a]=this.#t,[o,u,h,d]=this.#g();return`M${(this.#s[2]-t)/s} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/s} ${(this.#s[5]-e)/a} L${o} ${u} L${h} ${d} L${(this.#s[16]-t)/s} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/s} ${(this.#s[15]-e)/a} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,s,a,o]=this.#t,u=this.#s.subarray(4,6),h=this.#s.subarray(16,18),[d,p,g,y]=this.#g();t.push(`L${(u[0]-e)/a} ${(u[1]-s)/o} L${d} ${p} L${g} ${y} L${(h[0]-e)/a} ${(h[1]-s)/o}`)}newFreeDrawOutline(t,e,s,a,o,u){return new Yb(t,e,s,a,o,u)}getOutlines(){const t=this.#a,e=this.#e,s=this.#s,[a,o,u,h]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let y=0,b=d.length-2;y<b;y+=2)d[y]=(this.#f[y]-a)/u,d[y+1]=(this.#f[y+1]-o)/h;if(d[d.length-2]=(this.#l-a)/u,d[d.length-1]=(this.#o-o)/h,isNaN(s[6])&&!this.isEmpty())return this.#S(d);const p=new Float32Array(this.#a.length+24+this.#e.length);let g=t.length;for(let y=0;y<g;y+=2){if(isNaN(t[y])){p[y]=p[y+1]=NaN;continue}p[y]=t[y],p[y+1]=t[y+1]}g=this.#x(p,g);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[y+b],p[g+1]=e[y+b+1],g+=2}return this.#w(p,g),this.newFreeDrawOutline(p,d,this.#t,this.#d,this.#n,this.#i)}#S(t){const e=this.#s,[s,a,o,u]=this.#t,[h,d,p,g]=this.#g(),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-a)/u,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-a)/u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-a)/u,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-a)/u],0),this.newFreeDrawOutline(y,t,this.#t,this.#d,this.#n,this.#i)}#w(t,e){const s=this.#e;return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6}#x(t,e){const s=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[o,u,h,d]=this.#t,[p,g,y,b]=this.#g();return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/h,(s[1]-u)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(a[0]-o)/h,(a[1]-u)/d],e),e+=24}}class Yb extends ct{#t;#e=new Float32Array(4);#n;#i;#a;#s;#l;constructor(t,e,s,a,o,u){super(),this.#l=t,this.#a=e,this.#t=s,this.#s=a,this.#n=o,this.#i=u,this.lastPoint=[NaN,NaN],this.#o(u);const[h,d,p,g]=this.#e;for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-h)/p,t[y+1]=(t[y+1]-d)/g;for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-h)/p,e[y+1]=(e[y+1]-d)/g}toSVGPath(){const t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,s=this.#l.length;e<s;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,s,a],o){const u=s-t,h=a-e;let d,p;switch(o){case 0:d=ct._rescale(this.#l,t,a,u,-h),p=ct._rescale(this.#a,t,a,u,-h);break;case 90:d=ct._rescaleAndSwap(this.#l,t,e,u,h),p=ct._rescaleAndSwap(this.#a,t,e,u,h);break;case 180:d=ct._rescale(this.#l,s,e,-u,h),p=ct._rescale(this.#a,s,e,-u,h);break;case 270:d=ct._rescaleAndSwap(this.#l,s,a,-u,-h),p=ct._rescaleAndSwap(this.#a,s,a,-u,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}#o(t){const e=this.#l;let s=e[4],a=e[5];const o=[s,a,s,a];let u=s,h=a;const d=t?Math.max:Math.min;for(let g=6,y=e.length;g<y;g+=6){const b=e[g+4],v=e[g+5];if(isNaN(e[g]))ft.pointBoundingBox(b,v,o),h<v?(u=b,h=v):h===v&&(u=d(u,b));else{const S=[1/0,1/0,-1/0,-1/0];ft.bezierBoundingBox(s,a,...e.slice(g,g+6),S),ft.rectBoundingBox(...S,o),h<S[3]?(u=S[2],h=S[3]):h===S[3]&&(u=d(u,S[2]))}s=b,a=v}const p=this.#e;p[0]=o[0]-this.#n,p[1]=o[1]-this.#n,p[2]=o[2]-o[0]+2*this.#n,p[3]=o[3]-o[1]+2*this.#n,this.lastPoint=[u,h]}get box(){return this.#e}newOutliner(t,e,s,a,o,u=0){return new _s(t,e,s,a,o,u)}getNewOutline(t,e){const[s,a,o,u]=this.#e,[h,d,p,g]=this.#t,y=o*p,b=u*g,v=s*p+h,S=a*g+d,_=this.newOutliner({x:this.#a[0]*y+v,y:this.#a[1]*b+S},this.#t,this.#s,t,this.#i,e??this.#n);for(let T=2;T<this.#a.length;T+=2)_.add({x:this.#a[T]*y+v,y:this.#a[T+1]*b+S});return _.getOutlines()}}class Dd{#t;#e;#n=[];#i=[];constructor(t,e=0,s=0,a=!0){const o=[1/0,1/0,-1/0,-1/0],u=10**-4;for(const{x:v,y:S,width:_,height:T}of t){const w=Math.floor((v-e)/u)*u,O=Math.ceil((v+_+e)/u)*u,C=Math.floor((S-e)/u)*u,L=Math.ceil((S+T+e)/u)*u,R=[w,C,L,!0],j=[O,C,L,!1];this.#n.push(R,j),ft.rectBoundingBox(w,C,O,L,o)}const h=o[2]-o[0]+2*s,d=o[3]-o[1]+2*s,p=o[0]-s,g=o[1]-s,y=this.#n.at(a?-1:-2),b=[y[0],y[2]];for(const v of this.#n){const[S,_,T]=v;v[0]=(S-p)/h,v[1]=(_-g)/d,v[2]=(T-g)/d}this.#t=new Float32Array([p,g,h,d]),this.#e=b}getOutlines(){this.#n.sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#h(e)),this.#l(e)):(this.#o(e),t.push(...this.#h(e)));return this.#a(t)}#a(t){const e=[],s=new Set;for(const u of t){const[h,d,p]=u;e.push([h,d,u],[h,p,u])}e.sort((u,h)=>u[1]-h[1]||u[0]-h[0]);for(let u=0,h=e.length;u<h;u+=2){const d=e[u][2],p=e[u+1][2];d.push(p),p.push(d),s.add(d),s.add(p)}const a=[];let o;for(;s.size>0;){const u=s.values().next().value;let[h,d,p,g,y]=u;s.delete(u);let b=h,v=d;for(o=[h,p],a.push(o);;){let S;if(s.has(g))S=g;else if(s.has(y))S=y;else break;s.delete(S),[h,d,p,g,y]=S,b!==h&&(o.push(b,v,h,v===d?d:p),b=h),v=v===d?p:d}o.push(b,v)}return new kT(a,this.#t,this.#e)}#s(t){const e=this.#i;let s=0,a=e.length-1;for(;s<=a;){const o=s+a>>1,u=e[o][0];if(u===t)return o;u<t?s=o+1:a=o-1}return a+1}#l([,t,e]){const s=this.#s(t);this.#i.splice(s,0,[t,e])}#o([,t,e]){const s=this.#s(t);for(let a=s;a<this.#i.length;a++){const[o,u]=this.#i[a];if(o!==t)break;if(o===t&&u===e){this.#i.splice(a,1);return}}for(let a=s-1;a>=0;a--){const[o,u]=this.#i[a];if(o!==t)break;if(o===t&&u===e){this.#i.splice(a,1);return}}}#h(t){const[e,s,a]=t,o=[[e,s,a]],u=this.#s(a);for(let h=0;h<u;h++){const[d,p]=this.#i[h];for(let g=0,y=o.length;g<y;g++){const[,b,v]=o[g];if(!(p<=b||v<=d)){if(b>=d){if(v>p)o[g][1]=p;else{if(y===1)return[];o.splice(g,1),g--,y--}continue}o[g][2]=d,v>p&&o.push([e,p,v])}}}return o}}class kT extends ct{#t;#e;constructor(t,e,s){super(),this.#e=t,this.#t=e,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[s,a]=e;t.push(`M${s} ${a}`);for(let o=2;o<e.length;o+=2){const u=e[o],h=e[o+1];u===s?(t.push(`V${h}`),a=h):h===a&&(t.push(`H${u}`),s=u)}t.push("Z")}return t.join(" ")}serialize([t,e,s,a],o){const u=[],h=s-t,d=a-e;for(const p of this.#e){const g=new Array(p.length);for(let y=0;y<p.length;y+=2)g[y]=t+p[y]*h,g[y+1]=a-p[y+1]*d;u.push(g)}return u}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Nd extends _s{newFreeDrawOutline(t,e,s,a,o,u){return new PT(t,e,s,a,o,u)}}class PT extends Yb{newOutliner(t,e,s,a,o,u=0){return new Nd(t,e,s,a,o,u)}}class pn{#t=null;#e=null;#n;#i=null;#a=!1;#s=!1;#l=null;#o;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return Lt(this,"_keyboardManager",new po([[["Escape","mac+Escape"],pn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pn.prototype._moveToPrevious],[["Home","mac+Home"],pn.prototype._moveToBeginning],[["End","mac+End"],pn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#d=Nt.HIGHLIGHT_COLOR,this.#l=t):(this.#s=!0,this.#d=Nt.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#o=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",pn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const s=this.#e=document.createElement("span");return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=this.#n,t.append(s),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",Mn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,a]of this.#c.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=s,o.setAttribute("data-l10n-id",pn.#u[s]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=a,o.setAttribute("aria-selected",a===this.#n),o.addEventListener("click",this.#r.bind(this,a),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#r(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const e=t.target.getAttribute("data-color");e&&this.#r(e,t)}_moveToNext(t){if(!this.#y){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){pn._keyboardManager.exec(this,t)}#m(t){if(this.#y){this.hideDropdown();return}if(this.#a=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const e=this.#i=this.#f();this.#t.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#y(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#y){this.#l?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const e=this.#c.highlightColors.values();for(const s of this.#i.children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class de extends pt{#t=null;#e=0;#n;#i=null;#a=null;#s=null;#l=null;#o=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#r;#p=null;#m="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=de.prototype;return Lt(this,"_keyboardManager",new po([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||de._defaultColor,this.#g=t.thickness||de._defaultThickness,this.#r=t.opacity||de._defaultOpacity,this.#n=t.boxes||null,this.#y=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#v(t),this.#M()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#l=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new Dd(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const e=new Dd(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:s}=this.#s;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:s}){this.#c=t;const a=1.5;if(this.#s=t.getNewOutline(this.#g/2+a,.0025),e>=0)this.#d=e,this.#i=s,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:de.#_(this.#c.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:de.#_(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[o,u,h,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=u,this.width=h,this.height=d;break;case 90:{const[g,y]=this.parentDimensions;this.x=u,this.y=1-o,this.width=h*y/g,this.height=d*g/y;break}case 180:this.x=1-o,this.y=1-u,this.width=h,this.height=d;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-u,this.y=o,this.width=h*y/g,this.height=d*g/y;break}}const{lastPoint:p}=this.#s;this.#f=[(p[0]-o)/h,(p[1]-u)/d]}static initialize(t,e){pt.initialize(t,e),de._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Nt.HIGHLIGHT_DEFAULT_COLOR:de._defaultColor=e;break;case Nt.HIGHLIGHT_THICKNESS:de._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case Nt.HIGHLIGHT_COLOR:this.#S(e);break;case Nt.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Nt.HIGHLIGHT_DEFAULT_COLOR,de._defaultColor],[Nt.HIGHLIGHT_THICKNESS,de._defaultThickness]]}get propertiesToUpdate(){return[[Nt.HIGHLIGHT_COLOR,this.color||de._defaultColor],[Nt.HIGHLIGHT_THICKNESS,this.#g||de._defaultThickness],[Nt.HIGHLIGHT_FREE,this.#u]]}#S(t){const e=(o,u)=>{this.color=o,this.#r=u,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:o,"fill-opacity":u}}),this.#a?.updateColor(o)},s=this.color,a=this.#r;this.addCommands({cmd:e.bind(this,t,de._defaultOpacity),undo:e.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#w(t){const e=this.#g,s=a=>{this.#g=a,this.#x(a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new pn({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#L())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#L())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){if(!this.#u)return;this.#v({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#r},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#_([t,e,s,a],o){switch(o){case 90:return[1-e-a,t,a,s];case 180:return[1-t-s,1-e-a,s,a];case 270:return[e,1-t-s,a,s]}return[t,e,s,a]}rotate(t){const{drawLayer:e}=this.parent;let s;this.#u?(t=(t-this.rotation+360)%360,s=de.#_(this.#c.box,t)):s=de.#_([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:s,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:de.#_(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),vb(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){de._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#L(){return this.#u?this.rotation:0}#D(){if(this.#u)return null;const[t,e]=this.pageDimensions,[s,a]=this.pageTranslation,o=this.#n,u=new Float32Array(o.length*8);let h=0;for(const{x:d,y:p,width:g,height:y}of o){const b=d*t+s,v=(1-p)*e+a;u[h]=u[h+4]=b,u[h+1]=u[h+3]=v,u[h+2]=u[h+6]=b+g*t,u[h+5]=u[h+7]=v-y*e,h+=8}return u}#N(t){return this.#c.serialize(t,this.#L())}static startHighlighting(t,e,{target:s,x:a,y:o}){const{x:u,y:h,width:d,height:p}=s.getBoundingClientRect(),g=new AbortController,y=t.combinedSignal(g),b=v=>{g.abort(),this.#E(t,v)};window.addEventListener("blur",b,{signal:y}),window.addEventListener("pointerup",b,{signal:y}),window.addEventListener("pointerdown",fe,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Mn,{signal:y}),s.addEventListener("pointermove",this.#B.bind(this,t),{signal:y}),this._freeHighlight=new Nd({x:a,y:o},[u,h,d,p],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,s){let a=null;if(t instanceof Gb){const{data:{quadPoints:S,rect:_,rotation:T,id:w,color:O,opacity:C,popupRef:L},parent:{page:{pageNumber:R}}}=t;a=t={annotationType:At.HIGHLIGHT,color:Array.from(O),opacity:C,quadPoints:S,boxes:null,pageIndex:R-1,rect:_.slice(0),rotation:T,id:w,deleted:!1,popupRef:L}}else if(t instanceof gf){const{data:{inkLists:S,rect:_,rotation:T,id:w,color:O,borderStyle:{rawWidth:C},popupRef:L},parent:{page:{pageNumber:R}}}=t;a=t={annotationType:At.HIGHLIGHT,color:Array.from(O),thickness:C,inkLists:S,boxes:null,pageIndex:R-1,rect:_.slice(0),rotation:T,id:w,deleted:!1,popupRef:L}}const{color:o,quadPoints:u,inkLists:h,opacity:d}=t,p=await super.deserialize(t,e,s);p.color=ft.makeHexColor(...o),p.#r=d||1,h&&(p.#g=t.thickness),p.annotationElementId=t.id||null,p._initialData=a;const[g,y]=p.pageDimensions,[b,v]=p.pageTranslation;if(u){const S=p.#n=[];for(let _=0;_<u.length;_+=8)S.push({x:(u[_]-b)/g,y:1-(u[_+1]-v)/y,width:(u[_+2]-u[_])/g,height:(u[_+1]-u[_+5])/y});p.#b(),p.#M(),p.rotate(p.rotation)}else if(h){p.#u=!0;const S=h[0],_={x:S[0]-b,y:y-(S[1]-v)},T=new Nd(_,[0,0,g,y],1,p.#g/2,!0,.001);for(let C=0,L=S.length;C<L;C+=2)_.x=S[C]-b,_.y=y-(S[C+1]-v),T.add(_);const{id:w,clipPathId:O}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);p.#v({highlightOutlines:T.getOutlines(),highlightId:w,clipPathId:O}),p.#M(),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),s=pt._colorManager.convert(this.color),a={annotationType:At.HIGHLIGHT,color:s,opacity:this.#r,thickness:this.#g,quadPoints:this.#D(),outlines:this.#N(e),pageIndex:this.pageIndex,rect:e,rotation:this.#L(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#A(a)?null:(a.id=this.annotationElementId,a)}#A(t){const{color:e}=this._initialData;return t.color.some((s,a)=>s!==e[a])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Xb{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,s]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,s)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Wt("Not implemented")}}class yt extends pt{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#a=null;static#s=NaN;static#l=null;static#o=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:e,drawingOptions:s}){this.#t=t,this._drawingOptions||=s,e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#m(t.box)}#d(t,e){const{id:s}=e.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(t,e){const s=new Set(Object.keys(t));for(const[a,o]of Object.entries(e))s.has(a)?Object.assign(t[a],o):t[a]=o;return t}static getDefaultDrawingOptions(t){Wt("Not implemented")}static get typesMap(){Wt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,e),this._currentParent&&(yt.#n.updateProperty(s,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)t.push([s,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[s,a]of this.constructor.typesMap)t.push([s,e[a]]);return t}_updateProperty(t,e,s){const a=this._drawingOptions,o=a[e],u=h=>{a.updateProperty(e,h);const d=this.#t.updateProperty(e,h);d&&this.#m(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:u.bind(this,s),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#r([t,e,s,a]){const{parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[e,1-t,s*(u/o),a*(o/u)];case 180:return[1-t,1-e,s,a];case 270:return[1-e,t,s*(u/o),a*(o/u)];default:return[t,e,s,a]}}#p(){const{x:t,y:e,width:s,height:a,parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[1-e,t,s*(o/u),a*(u/o)];case 180:return[1-t,1-e,s,a];case 270:return[e,1-t,s*(o/u),a*(u/o)];default:return[t,e,s,a]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#r(t),this.div){this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)}this._onResized()}#g(){const{x:t,y:e,width:s,height:a,rotation:o,parentRotation:u,parentDimensions:[h,d]}=this;switch((o*4+u)/90){case 1:return[1-e-a,t,a,s];case 2:return[1-t-s,1-e-a,s,a];case 3:return[e,1-t-s,a,s];case 4:return[t,e-s*(h/d),a*(d/h),s*(h/d)];case 5:return[1-e,t,s*(h/d),a*(d/h)];case 6:return[1-t-a*(d/h),1-e,a*(d/h),s*(h/d)];case 7:return[e-s*(h/d),1-t-a*(d/h),s*(h/d),a*(d/h)];case 8:return[t-s,e-a,s,a];case 9:return[1-e,t-s,a,s];case 10:return[1-t,1-e,s,a];case 11:return[e-a,1-t,a,s];case 12:return[t-a*(d/h),e,a*(d/h),s*(h/d)];case 13:return[1-e-s*(h/d),t-a*(d/h),s*(h/d),a*(d/h)];case 14:return[1-t,1-e-s*(h/d),a*(d/h),s*(h/d)];case 15:return[e,1-t,s*(h/d),a*(d/h)];default:return[t,e,s,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[o,u]=this.parentDimensions;return this.setDims(this.width*o,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),s}static createDrawerInstance(t,e,s,a,o){Wt("Not implemented")}static startDrawing(t,e,s,a){const{target:o,offsetX:u,offsetY:h,pointerId:d,pointerType:p}=a;if(yt.#l&&yt.#l!==p)return;const{viewport:{rotation:g}}=t,{width:y,height:b}=o.getBoundingClientRect(),v=yt.#i=new AbortController,S=t.combinedSignal(v);if(yt.#s||=d,yt.#l??=p,window.addEventListener("pointerup",_=>{yt.#s===_.pointerId?this._endDraw(_):yt.#o?.delete(_.pointerId)},{signal:S}),window.addEventListener("pointercancel",_=>{yt.#s===_.pointerId?this._currentParent.endDrawingSession():yt.#o?.delete(_.pointerId)},{signal:S}),window.addEventListener("pointerdown",_=>{yt.#l===_.pointerType&&((yt.#o||=new Set).add(_.pointerId),yt.#n.isCancellable()&&(yt.#n.removeLastElement(),yt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Mn,{signal:S}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),o.addEventListener("touchmove",_=>{_.timeStamp===yt.#h&&fe(_)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),yt.#n){t.drawLayer.updateProperties(this._currentDrawId,yt.#n.startNew(u,h,y,b,g));return}e.updateUIForDefaultProperties(this),yt.#n=this.createDrawerInstance(u,h,y,b,g),yt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(yt.#a.toSVGProperties(),yt.#n.defaultSVGProperties),!0,!1)}static _drawMove(t){if(yt.#h=-1,!yt.#n)return;const{offsetX:e,offsetY:s,pointerId:a}=t;if(yt.#s===a){if(yt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,yt.#n.add(e,s)),yt.#h=t.timeStamp,fe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,yt.#n=null,yt.#a=null,yt.#l=null,yt.#h=NaN),yt.#i&&(yt.#i.abort(),yt.#i=null,yt.#s=NaN,yt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,yt.#n.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=yt.#n,a=this._currentDrawId,o=s.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,s.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:Nt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Nt.DRAW_STEP),!yt.#n.isEmpty()){const{pageDimensions:[s,a],scale:o}=e,u=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:yt.#n.getOutlines(s*o,a*o,o,this._INNER_MARGIN),drawingOptions:yt.#a,mustBeCommitted:!t});return this._cleanup(!0),u}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,s,a,o,u){Wt("Not implemented")}static async deserialize(t,e,s){const{rawDims:{pageWidth:a,pageHeight:o,pageX:u,pageY:h}}=e.viewport,d=this.deserializeDraw(u,h,a,o,this._INNER_MARGIN,t),p=await super.deserialize(t,e,s);return p.createDrawingOptions(t),p.#c({drawOutlines:d}),p.#f(),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[e,s]=this.pageTranslation,[a,o]=this.pageDimensions;return this.#t.serialize([e,s,a,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class jT{#t=new Float64Array(6);#e;#n;#i;#a;#s;#l="";#o=0;#h=new bo;#c;#d;constructor(t,e,s,a,o,u){this.#c=s,this.#d=a,this.#i=o,this.#a=u,[t,e]=this.#u(t,e);const h=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#n=[{line:h,points:this.#s}],this.#t.set(h,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return ct._normalizePoint(t,e,this.#c,this.#d,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[s,a,o,u]=this.#t.subarray(2,6),h=t-o,d=e-u;return Math.hypot(this.#c*h,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(s)?(this.#t.set([o,u,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([s,a,o,u,t,e],0),this.#e.push(...ct.createBezierPoints(s,a,o,u,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const s=this.add(t,e);return s||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,s,a,o){this.#c=s,this.#d=a,this.#i=o,[t,e]=this.#u(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const h=this.#n.at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),this.#n.push({line:u,points:this.#s}),this.#t.set(u,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#h.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){const{line:s,points:a}=this.#n[t];this.#e=s,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const t=ct.svgRound(this.#e[4]),e=ct.svgRound(this.#e[5]);if(this.#s.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#s.length<=6){const a=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=ct.svgRound(this.#e[10]),o=ct.svgRound(this.#e[11]);return this.#l=`${this.#l} L ${a} ${o}`,this.#o=12,this.#l}const s=[];this.#o===0&&(s.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,o=this.#e.length;a<o;a+=6){const[u,h,d,p,g,y]=this.#e.slice(a,a+6).map(ct.svgRound);s.push(`C${u} ${h} ${d} ${p} ${g} ${y}`)}return this.#l+=s.join(" "),this.#o=this.#e.length,this.#l}getOutlines(t,e,s,a){const o=this.#n.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#h.build(this.#n,t,e,s,this.#i,this.#a,a),this.#t=null,this.#e=null,this.#n=null,this.#l=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class bo extends ct{#t;#e=0;#n;#i;#a;#s;#l;#o;#h;build(t,e,s,a,o,u,h){this.#a=e,this.#s=s,this.#l=a,this.#o=o,this.#h=u,this.#n=h??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#i){if(t.push(`M${ct.svgRound(e[4])} ${ct.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${ct.svgRound(e[10])} ${ct.svgRound(e[11])}`);continue}for(let s=6,a=e.length;s<a;s+=6){const[o,u,h,d,p,g]=e.subarray(s,s+6).map(ct.svgRound);t.push(`C${o} ${u} ${h} ${d} ${p} ${g}`)}}return t.join("")}serialize([t,e,s,a],o){const u=[],h=[],[d,p,g,y]=this.#d();let b,v,S,_,T,w,O,C,L;switch(this.#o){case 0:L=ct._rescale,b=t,v=e+a,S=s,_=-a,T=t+d*s,w=e+(1-p-y)*a,O=t+(d+g)*s,C=e+(1-p)*a;break;case 90:L=ct._rescaleAndSwap,b=t,v=e,S=s,_=a,T=t+p*s,w=e+d*a,O=t+(p+y)*s,C=e+(d+g)*a;break;case 180:L=ct._rescale,b=t+s,v=e,S=-s,_=a,T=t+(1-d-g)*s,w=e+p*a,O=t+(1-d)*s,C=e+(p+y)*a;break;case 270:L=ct._rescaleAndSwap,b=t+s,v=e+a,S=-s,_=-a,T=t+(1-p-y)*s,w=e+(1-d-g)*a,O=t+(1-p)*s,C=e+(1-d)*a;break}for(const{line:R,points:j}of this.#i)u.push(L(R,b,v,S,_,o?new Array(R.length):null)),h.push(L(j,b,v,S,_,o?new Array(j.length):null));return{lines:u,points:h,rect:[T,w,O,C]}}static deserialize(t,e,s,a,o,{paths:{lines:u,points:h},rotation:d,thickness:p}){const g=[];let y,b,v,S,_;switch(d){case 0:_=ct._rescale,y=-t/s,b=e/a+1,v=1/s,S=-1/a;break;case 90:_=ct._rescaleAndSwap,y=-e/a,b=-t/s,v=1/a,S=1/s;break;case 180:_=ct._rescale,y=t/s+1,b=-e/a,v=-1/s,S=1/a;break;case 270:_=ct._rescaleAndSwap,y=e/a+1,b=t/s+1,v=-1/a,S=-1/s;break}if(!u){u=[];for(const w of h){const O=w.length;if(O===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(O===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const C=new Float32Array(3*(O-2));u.push(C);let[L,R,j,N]=w.subarray(0,4);C.set([NaN,NaN,NaN,NaN,L,R],0);for(let $=4;$<O;$+=2){const X=w[$],it=w[$+1];C.set(ct.createBezierPoints(L,R,j,N,X,it),($-2)*3),[L,R,j,N]=[j,N,X,it]}}}for(let w=0,O=u.length;w<O;w++)g.push({line:_(u[w].map(C=>C??NaN),y,b,v,S),points:_(h[w].map(C=>C??NaN),y,b,v,S)});const T=new this.prototype.constructor;return T.build(g,s,a,1,d,p,o),T}#c(t=this.#h){const e=this.#n+t/2*this.#l;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,s,a]=this.#t,[o,u]=this.#c(0);return[t+o,e+u,s-2*o,a-2*u]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#i){if(a.length<=12){for(let h=4,d=a.length;h<d;h+=6)ft.pointBoundingBox(a[h],a[h+1],t);continue}let o=a[4],u=a[5];for(let h=6,d=a.length;h<d;h+=6){const[p,g,y,b,v,S]=a.subarray(h,h+6);ft.bezierBoundingBox(o,u,p,g,y,b,v,S,t),o=v,u=S}}const[e,s]=this.#c();t[0]=He(t[0]-e,0,1),t[1]=He(t[1]-s,0,1),t[2]=He(t[2]+e,0,1),t[3]=He(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,s]=this.#c();this.#h=t;const[a,o]=this.#c(),[u,h]=[a-e,o-s],d=this.#t;return d[0]-=u,d[1]-=h,d[2]+=2*u,d[3]+=2*h,d}updateParentDimensions([t,e],s){const[a,o]=this.#c();this.#a=t,this.#s=e,this.#l=s;const[u,h]=this.#c(),d=u-a,p=h-o,g=this.#t;return g[0]-=d,g[1]-=p,g[2]+=2*d,g[3]+=2*p,g}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(ct.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let s=0,a=0,o=0,u=0,h=0,d=0;switch(this.#e){case 90:a=e/t,o=-t/e,h=t;break;case 180:s=-1,u=-1,h=t,d=e;break;case 270:a=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${s} ${a} ${o} ${u} ${ct.svgRound(h)} ${ct.svgRound(d)})`}getPathResizingSVGProperties([t,e,s,a]){const[o,u]=this.#c(),[h,d,p,g]=this.#t;if(Math.abs(p-o)<=ct.PRECISION||Math.abs(g-u)<=ct.PRECISION){const _=t+s/2-(h+p/2),T=e+a/2-(d+g/2);return{path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:`${this.rotationTransform} translate(${_} ${T})`}}}const y=(s-2*o)/(p-2*o),b=(a-2*u)/(g-2*u),v=p/s,S=g/a;return{path:{"transform-origin":`${ct.svgRound(h)} ${ct.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${S}) translate(${ct.svgRound(o)} ${ct.svgRound(u)}) scale(${y} ${b}) translate(${ct.svgRound(-o)} ${ct.svgRound(-u)})`}}}getPathResizedSVGProperties([t,e,s,a]){const[o,u]=this.#c(),h=this.#t,[d,p,g,y]=h;if(h[0]=t,h[1]=e,h[2]=s,h[3]=a,Math.abs(g-o)<=ct.PRECISION||Math.abs(y-u)<=ct.PRECISION){const T=t+s/2-(d+g/2),w=e+a/2-(p+y/2);for(const{line:O,points:C}of this.#i)ct._translate(O,T,w,O),ct._translate(C,T,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(s-2*o)/(g-2*o),v=(a-2*u)/(y-2*u),S=-b*(d+o)+t+o,_=-v*(p+u)+e+u;if(b!==1||v!==1||S!==0||_!==0)for(const{line:T,points:w}of this.#i)ct._rescale(T,S,_,b,v,T),ct._rescale(w,S,_,b,v,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],s){const[a,o]=s,u=this.#t,h=t-u[0],d=e-u[1];if(this.#a===a&&this.#s===o)for(const{line:p,points:g}of this.#i)ct._translate(p,h,d,p),ct._translate(g,h,d,g);else{const p=this.#a/a,g=this.#s/o;this.#a=a,this.#s=o;for(const{line:y,points:b}of this.#i)ct._rescale(y,h,d,p,g,y),ct._rescale(b,h,d,p,g,b);u[2]*=p,u[3]*=g}return u[0]=t,u[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t)} ${ct.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ct.svgRound(t[0])} ${ct.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Cc extends Xb{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Cc(this._viewParameters);return t.updateAll(this),t}}class yf extends yt{static _type="ink";static _editorType=At.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new Cc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Lt(this,"typesMap",new Map([[Nt.INK_THICKNESS,"stroke-width"],[Nt.INK_COLOR,"stroke"],[Nt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,s,a,o){return new jT(t,e,s,a,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,s,a,o,u){return bo.deserialize(t,e,s,a,o,u)}static async deserialize(t,e,s){let a=null;if(t instanceof gf){const{data:{inkLists:u,rect:h,rotation:d,id:p,color:g,opacity:y,borderStyle:{rawWidth:b},popupRef:v},parent:{page:{pageNumber:S}}}=t;a=t={annotationType:At.INK,color:Array.from(g),thickness:b,opacity:y,paths:{points:u},boxes:null,pageIndex:S-1,rect:h.slice(0),rotation:d,id:p,deleted:!1,popupRef:v}}const o=await super.deserialize(t,e,s);return o.annotationElementId=t.id||null,o._initialData=a,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:s}=this;e.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:s}){this._drawingOptions=yf.getDefaultDrawingOptions({stroke:ft.makeHexColor(...t),"stroke-width":e,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":u,"stroke-width":h}}=this,d={annotationType:At.INK,color:pt._colorManager.convert(o),opacity:u,thickness:h,paths:{lines:e,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(d.isCopy=!0,d):this.annotationElementId&&!this.#t(d)?null:(d.id=this.annotationElementId,d)}#t(t){const{color:e,thickness:s,opacity:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((u,h)=>u!==e[h])||t.thickness!==s||t.opacity!==a||t.pageIndex!==o}renderAnnotationElement(t){const{points:e,rect:s}=this.serializeDraw(!1);return t.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class kd extends bo{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Vl=8,qr=3;class As{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,s,a){return s-=t,a-=e,s===0?a>0?0:4:s===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,e,s,a,o,u,h){const d=this.#e(s,a,o,u);for(let p=0;p<8;p++){const g=(-p+d-h+16)%8,y=this.#n[2*g],b=this.#n[2*g+1];if(t[(s+y)*e+(a+b)]!==0)return g}return-1}static#a(t,e,s,a,o,u,h){const d=this.#e(s,a,o,u);for(let p=0;p<8;p++){const g=(p+d+h+16)%8,y=this.#n[2*g],b=this.#n[2*g+1];if(t[(s+y)*e+(a+b)]!==0)return g}return-1}static#s(t,e,s,a){const o=t.length,u=new Int32Array(o);for(let g=0;g<o;g++)u[g]=t[g]<=a?1:0;for(let g=1;g<s-1;g++)u[g*e]=u[g*e+e-1]=0;for(let g=0;g<e;g++)u[g]=u[e*s-1-g]=0;let h=1,d;const p=[];for(let g=1;g<s-1;g++){d=1;for(let y=1;y<e-1;y++){const b=g*e+y,v=u[b];if(v===0)continue;let S=g,_=y;if(v===1&&u[b-1]===0)h+=1,_-=1;else if(v>=1&&u[b+1]===0)h+=1,_+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const T=[y,g],w=_===y+1,O={isHole:w,points:T,id:h,parent:0};p.push(O);let C;for(const nt of p)if(nt.id===d){C=nt;break}C?C.isHole?O.parent=w?C.parent:d:O.parent=w?d:C.parent:O.parent=w?d:0;const L=this.#i(u,e,g,y,S,_,0);if(L===-1){u[b]=-h,u[b]!==1&&(d=Math.abs(u[b]));continue}let R=this.#n[2*L],j=this.#n[2*L+1];const N=g+R,$=y+j;S=N,_=$;let X=g,it=y;for(;;){const nt=this.#a(u,e,X,it,S,_,1);R=this.#n[2*nt],j=this.#n[2*nt+1];const Q=X+R,et=it+j;T.push(et,Q);const rt=X*e+it;if(u[rt+1]===0?u[rt]=-h:u[rt]===1&&(u[rt]=h),Q===g&&et===y&&X===N&&it===$){u[b]!==1&&(d=Math.abs(u[b]));break}else S=X,_=it,X=Q,it=et}}}return p}static#l(t,e,s,a){if(s-e<=4){for(let N=e;N<s-2;N+=2)a.push(t[N],t[N+1]);return}const o=t[e],u=t[e+1],h=t[s-4]-o,d=t[s-3]-u,p=Math.hypot(h,d),g=h/p,y=d/p,b=g*u-y*o,v=d/h,S=1/p,_=Math.atan(v),T=Math.cos(_),w=Math.sin(_),O=S*(Math.abs(T)+Math.abs(w)),C=S*(1-O+O**2),L=Math.max(Math.atan(Math.abs(w+T)*C),Math.atan(Math.abs(w-T)*C));let R=0,j=e;for(let N=e+2;N<s-2;N+=2){const $=Math.abs(b-g*t[N+1]+y*t[N]);$>R&&(j=N,R=$)}R>(p*L)**2?(this.#l(t,e,j+2,a),this.#l(t,j,s,a)):a.push(o,u)}static#o(t){const e=[],s=t.length;return this.#l(t,0,s,e),e.push(t[s-2],t[s-1]),e.length<=4?null:e}static#h(t,e,s,a,o,u){const h=new Float32Array(u**2),d=-2*a**2,p=u>>1;for(let _=0;_<u;_++){const T=(_-p)**2;for(let w=0;w<u;w++)h[_*u+w]=Math.exp((T+(w-p)**2)/d)}const g=new Float32Array(256),y=-2*o**2;for(let _=0;_<256;_++)g[_]=Math.exp(_**2/y);const b=t.length,v=new Uint8Array(b),S=new Uint32Array(256);for(let _=0;_<s;_++)for(let T=0;T<e;T++){const w=_*e+T,O=t[w];let C=0,L=0;for(let j=0;j<u;j++){const N=_+j-p;if(!(N<0||N>=s))for(let $=0;$<u;$++){const X=T+$-p;if(X<0||X>=e)continue;const it=t[N*e+X],nt=h[j*u+$]*g[Math.abs(it-O)];C+=it*nt,L+=nt}}const R=v[w]=Math.round(C/L);S[R]++}return[v,S]}static#c(t){const e=new Uint32Array(256);for(const s of t)e[s]++;return e}static#d(t){const e=t.length,s=new Uint8ClampedArray(e>>2);let a=-1/0,o=1/0;for(let h=0,d=s.length;h<d;h++){if(t[(h<<2)+3]===0){a=s[h]=255;continue}const g=s[h]=t[h<<2];g>a&&(a=g),g<o&&(o=g)}const u=255/(a-o);for(let h=0;h<e;h++)s[h]=(s[h]-o)*u;return s}static#u(t){let e,s=-1/0,a=-1/0;const o=t.findIndex(d=>d!==0);let u=o,h=o;for(e=o;e<256;e++){const d=t[e];d>s&&(e-u>a&&(a=e-u,h=e-1),s=d,u=e)}for(e=h-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:s,height:a}=t,{maxDim:o}=this.#t;let u=s,h=a;if(s>o||a>o){let b=s,v=a,S=Math.log2(Math.max(s,a)/o);const _=Math.floor(S);S=S===_?_-1:_;for(let w=0;w<S;w++){u=Math.ceil(b/2),h=Math.ceil(v/2);const O=new OffscreenCanvas(u,h);O.getContext("2d").drawImage(t,0,0,b,v,0,0,u,h),b=u,v=h,t!==e&&t.close(),t=O.transferToImageBitmap()}const T=Math.min(o/u,o/h);u=Math.round(u*T),h=Math.round(h*T)}const p=new OffscreenCanvas(u,h).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,u,h);const g=p.getImageData(0,0,u,h).data;return[this.#d(g),u,h]}static extractContoursFromText(t,{fontFamily:e,fontStyle:s,fontWeight:a},o,u,h,d){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const y=200,b=g.font=`${s} ${a} ${y}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:S,actualBoundingBoxAscent:_,actualBoundingBoxDescent:T,fontBoundingBoxAscent:w,fontBoundingBoxDescent:O,width:C}=g.measureText(t),L=1.5,R=Math.ceil(Math.max(Math.abs(v)+Math.abs(S)||0,C)*L),j=Math.ceil(Math.max(Math.abs(_)+Math.abs(T)||y,Math.abs(w)+Math.abs(O)||y)*L);p=new OffscreenCanvas(R,j),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=b,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,R,j),g.fillStyle="black",g.fillText(t,R*(L-1)/2,j*(3-L)/2);const N=this.#d(g.getImageData(0,0,R,j).data),$=this.#c(N),X=this.#u($),it=this.#s(N,R,j,X);return this.processDrawnLines({lines:{curves:it,width:R,height:j},pageWidth:o,pageHeight:u,rotation:h,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,s,a,o){const[u,h,d]=this.#f(t),[p,g]=this.#h(u,h,d,Math.hypot(h,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),y=this.#u(g),b=this.#s(p,h,d,y);return this.processDrawnLines({lines:{curves:b,width:h,height:d},pageWidth:e,pageHeight:s,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:o,mustSmooth:u,areContours:h}){a%180!==0&&([e,s]=[s,e]);const{curves:d,width:p,height:g}=t,y=t.thickness??0,b=[],v=Math.min(e/p,s/g),S=v/e,_=v/s,T=[];for(const{points:O}of d){const C=u?this.#o(O):O;if(!C)continue;T.push(C);const L=C.length,R=new Float32Array(L),j=new Float32Array(3*(L===2?2:L-2));if(b.push({line:j,points:R}),L===2){R[0]=C[0]*S,R[1]=C[1]*_,j.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[N,$,X,it]=C;N*=S,$*=_,X*=S,it*=_,R.set([N,$,X,it],0),j.set([NaN,NaN,NaN,NaN,N,$],0);for(let nt=4;nt<L;nt+=2){const Q=R[nt]=C[nt]*S,et=R[nt+1]=C[nt+1]*_;j.set(ct.createBezierPoints(N,$,X,it,Q,et),(nt-2)*3),[N,$,X,it]=[X,it,Q,et]}}if(b.length===0)return null;const w=h?new kd:new bo;return w.build(b,e,s,1,a,h?0:y,o),{outline:w,newCurves:T,areContours:h,thickness:y,width:p,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:s,width:a,height:o}){let u=1/0,h=-1/0,d=0;for(const C of t){d+=C.length;for(let L=2,R=C.length;L<R;L++){const j=C[L]-C[L-2];u=Math.min(u,j),h=Math.max(h,j)}}let p;u>=-128&&h<=127?p=Int8Array:u>=-32768&&h<=32767?p=Int16Array:p=Int32Array;const g=t.length,y=Vl+qr*g,b=new Uint32Array(y);let v=0;b[v++]=y*Uint32Array.BYTES_PER_ELEMENT+(d-2*g)*p.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=a,b[v++]=o,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(s??0)),b[v++]=g,b[v++]=p.BYTES_PER_ELEMENT;for(const C of t)b[v++]=C.length-2,b[v++]=C[0],b[v++]=C[1];const S=new CompressionStream("deflate-raw"),_=S.writable.getWriter();await _.ready,_.write(b);const T=p.prototype.constructor;for(const C of t){const L=new T(C.length-2);for(let R=2,j=C.length;R<j;R++)L[R-2]=C[R]-C[R-2];_.write(L)}_.close();const w=await new Response(S.readable).arrayBuffer(),O=new Uint8Array(w);return gb(O)}static async decompressSignature(t){try{const e=dx(t),{readable:s,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let u=null,h=0;for await(const C of s)u||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),u.set(C,h),h+=C.length;const d=new Uint32Array(u.buffer,0,u.length>>2),p=d[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=d[2],y=d[3],b=d[4]===0,v=d[5],S=d[6],_=d[7],T=[],w=(Vl+qr*S)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(_){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(u.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(u.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(u.buffer,w);break}h=0;for(let C=0;C<S;C++){const L=d[qr*C+Vl],R=new Float32Array(L+2);T.push(R);for(let j=0;j<qr-1;j++)R[j]=d[qr*C+Vl+j+1];for(let j=0;j<L;j++)R[j+2]=R[j]+O[h++]}return{areContours:b,thickness:v,outlines:T,width:g,height:y}}catch(e){return St(`decompressSignature: ${e}`),null}}}class bf extends Xb{constructor(){super(),super.updateProperties({fill:pt._defaultLineColor,"stroke-width":0})}clone(){const t=new bf;return t.updateAll(this),t}}class vf extends Cc{constructor(t){super(t),super.updateProperties({stroke:pt._defaultLineColor,"stroke-width":1})}clone(){const t=new vf(this._viewParameters);return t.updateAll(this),t}}class Xn extends yt{#t=!1;#e=null;#n=null;#i=null;static _type="signature";static _editorType=At.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){pt.initialize(t,e),this._defaultDrawingOptions=new bf,this._defaultDrawnSignatureOptions=new vf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Lt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:o,areContours:u,description:h,uuid:d,heightInPage:p}=this.#n,{rawDims:{pageWidth:g,pageHeight:y},rotation:b}=this.parent.viewport,v=As.processDrawnLines({lines:a,pageWidth:g,pageHeight:y,rotation:b,innerMargin:Xn._INNER_MARGIN,mustSmooth:o,areContours:u});this.addSignature(v,p,h,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:s,width:a,height:o}=this.#n,u=Math.max(a,o),h=As.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:s,width:a,height:o},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:h.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,e,s,a){const{x:o,y:u}=this,{outline:h}=this.#n=t;this.#t=h instanceof kd,this.#e=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let d;this.#t?d=Xn.getDefaultDrawingOptions():(d=Xn._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:d});const[p,g]=this.parentDimensions,[,y]=this.pageDimensions;let b=e/y;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(p*this.width,g*this.height),this.x=o,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return As.process(t,e,s,a,Xn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:s,pageHeight:a},rotation:o}=this.parent.viewport;return As.extractContoursFromText(t,e,s,a,o,Xn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:s},rotation:a}=this.parent.viewport;return As.processDrawnLines({lines:t,pageWidth:e,pageHeight:s,rotation:a,innerMargin:Xn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Xn.getDefaultDrawingOptions():(this._drawingOptions=Xn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:s,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,u={annotationType:At.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:o,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(u.paths={lines:e,points:s},u.uuid=this.#i,u.isCopy=!0):u.lines=e,this.#e&&(u.accessibilityData={type:"Figure",alt:this.#e}),u}static deserializeDraw(t,e,s,a,o,u){return u.areContours?kd.deserialize(t,e,s,a,o,u):bo.deserialize(t,e,s,a,o,u)}static async deserialize(t,e,s){const a=await super.deserialize(t,e,s);return a.#t=t.areContours,a.#e=t.accessibilityData?.alt||"",a.#i=t.uuid,a}}class zT extends pt{#t=null;#e=null;#n=null;#i=null;#a=null;#s="";#l=null;#o=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){pt.initialize(t,e)}static isHandlingMimeForPasting(t){return hc.includes(t)}static paste(t,e){e.pasteEditor({mode:At.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:u}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:a,width:o,height:u,channels:a.length/(o*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#r(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#u(s,!0)).finally(()=>this.#f());return}if(this.#i){const s=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(a=>this.#u(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=hc.join(",");const e=this._uiManager._signal;this.#n=new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}s()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#l?.remove(),this.#l=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#r();return}super.rebuild(),this.div!==null&&(this.#e&&this.#l===null&&this.#r(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#i||this.#a||this.#e||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#t?this.#p():this.#r()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#e=s,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:s}=this.#t;const[a,o]=this.pageDimensions,u=.75;if(this.width)e=this.width*a,s=this.height*o;else if(e>u*a||s>u*o){const g=Math.min(u*a/e,u*o/s);e*=g,s*=g}const[h,d]=this.parentDimensions;this.setDims(e*h/a,s*d/o),this._uiManager.enableWaiting(!1);const p=this.#l=document.createElement("canvas");p.setAttribute("role","img"),this.addContainer(p),this.width=e/a,this.height=s/o,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s)}copyCanvas(t,e,s=!1){t||(t=224);const{width:a,height:o}=this.#t,u=new jn;let h=this.#t,d=a,p=o,g=null;if(e){if(a>e||o>e){const j=Math.min(e/a,e/o);d=Math.floor(a*j),p=Math.floor(o*j)}g=document.createElement("canvas");const b=g.width=Math.ceil(d*u.sx),v=g.height=Math.ceil(p*u.sy);this.#c||(h=this.#m(b,v));const S=g.getContext("2d");S.filter=this._uiManager.hcmFilter;let _="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(_="#8f8f9d",T="#42414d");const w=15,O=w*u.sx,C=w*u.sy,L=new OffscreenCanvas(O*2,C*2),R=L.getContext("2d");R.fillStyle=_,R.fillRect(0,0,O*2,C*2),R.fillStyle=T,R.fillRect(0,0,O,C),R.fillRect(O,C,O,C),S.fillStyle=S.createPattern(L,"repeat"),S.fillRect(0,0,b,v),S.drawImage(h,0,0,h.width,h.height,0,0,b,v)}let y=null;if(s){let b,v;if(u.symmetric&&h.width<t&&h.height<t)b=h.width,v=h.height;else if(h=this.#t,a>t||o>t){const T=Math.min(t/a,t/o);b=Math.floor(a*T),v=Math.floor(o*T),this.#c||(h=this.#m(b,v))}const _=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});_.drawImage(h,0,0,h.width,h.height,0,0,b,v),y={width:b,height:v,data:_.getImageData(0,0,b,v).data}}return{canvas:g,width:d,height:p,imageData:y}}#m(t,e){const{width:s,height:a}=this.#t;let o=s,u=a,h=this.#t;for(;o>2*t||u>2*e;){const d=o,p=u;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(o,u);g.getContext("2d").drawImage(h,0,0,d,p,0,0,o,u),h=g.transferToImageBitmap()}return h}#g(){const[t,e]=this.parentDimensions,{width:s,height:a}=this,o=new jn,u=Math.ceil(s*t*o.sx),h=Math.ceil(a*e*o.sy),d=this.#l;if(!d||d.width===u&&d.height===h)return;d.width=u,d.height=h;const p=this.#c?this.#t:this.#m(u,h),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,u,h)}#y(t){if(t){if(this.#c){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#c){const[e,s]=this.pageDimensions,a=Math.round(this.width*e*Cs.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Cs.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(a,o);return u.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,o),u.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,s){let a=null,o=!1;if(t instanceof qb){const{data:{rect:_,rotation:T,id:w,structParent:O,popupRef:C},container:L,parent:{page:{pageNumber:R}},canvas:j}=t;let N,$;j?(delete t.canvas,{id:N,bitmap:$}=s.imageManager.getFromCanvas(L.id,j),j.remove()):(o=!0,t._hasNoCanvas=!0);const X=(await e._structTree.getAriaAttributes(`${ef}${w}`))?.get("aria-label")||"";a=t={annotationType:At.STAMP,bitmapId:N,bitmap:$,pageIndex:R-1,rect:_.slice(0),rotation:T,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:O,popupRef:C}}const u=await super.deserialize(t,e,s),{rect:h,bitmap:d,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:b}=t;o?(s.addMissingCanvas(t.id,u),u.#o=!0):g&&s.imageManager.isValidId(g)?(u.#e=g,d&&(u.#t=d)):u.#i=p,u.#c=y;const[v,S]=u.pageDimensions;return u.width=(h[2]-h[0])/v,u.height=(h[3]-h[1])/S,u.annotationElementId=t.id||null,b&&(u.altTextData=b),u._initialData=a,u.#d=!!a,u}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:At.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=this.#b(s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,e===null)return s;e.stamps||=new Map;const u=this.#c?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:u,serialized:s}),s.bitmap=this.#y(!1);else if(this.#c){const h=e.stamps.get(this.#e);u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=this.#y(!1))}return s}#b(t){const{pageIndex:e,accessibilityData:{altText:s}}=this._initialData,a=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&o,isSameAltText:o}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Kn{#t;#e=!1;#n=null;#i=null;#a=null;#s=new Map;#l=!1;#o=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#r;static _initialized=!1;static#p=new Map([we,yf,zT,de,Xn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:a,accessibilityManager:o,annotationLayer:u,drawLayer:h,textLayer:d,viewport:p,l10n:g}){const y=[...Kn.#p.values()];if(!Kn._initialized){Kn._initialized=!0;for(const b of y)b.initialize(g,t)}t.registerEditorTypes(y),this.#r=t,this.pageIndex=e,this.div=s,this.#t=o,this.#n=u,this.viewport=p,this.#u=d,this.drawLayer=h,this._structTree=a,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===At.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#v(),t){case At.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of Kn.#p.values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}cleanUndoStack(t){this.#r.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of this.#s.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#n){this.#h=!1;return}const e=this.#n.getEditableAnnotations();for(const s of e){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}this.#h=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of this.#s.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const o of a){const{id:u}=o.data;if(this.#r.isDeletedAnnotationElement(u))continue;let h=e.get(u);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(u),h&&(this.#r.addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const a of Kn.#p.values())s.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#r.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#r.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:s}=De.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),de.startHighlighting(this,this.#r.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#r.isDeletedAnnotationElement(e)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),pt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#g(){return Kn.#p.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#y(t){const e=this.#g;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#r.updateMode(t.mode);const{offsetX:s,offsetY:a}=this.#b(),o=this.getNextId(),u=this.#y({parent:this,id:o,x:s,y:a,uiManager:this.#r,isCentered:!0,...e});u&&this.add(u)}async deserialize(t){return await Kn.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,e,s={}){const a=this.getNextId(),o=this.#y({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:e,...s});return o&&this.add(o),o}#b(){const{x:t,y:e,width:s,height:a}=this.div.getBoundingClientRect(),o=Math.max(0,t),u=Math.max(0,e),h=Math.min(window.innerWidth,t+s),d=Math.min(window.innerHeight,e+a),p=(o+h)/2-t,g=(u+d)/2-e,[y,b]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#b(),!0,t)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:e}=De.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#l||(this.#l=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const s=this.#r.getMode();if(s===At.STAMP||s===At.SIGNATURE){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#r.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:e}=De.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const s=this.#r.getActive();this.#e=!s||s.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#r,!1,t);return}this.#r.setCurrentDrawingSession(this),this.#c=new AbortController;const e=this.#r.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#g.startDrawing(this,this.#r,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#r.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#g.endDrawing(t)):null}findNewParent(t,e,s){const a=this.#r.findParent(e,s);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#v(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ji(this.div,t);for(const e of this.#r.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#v();const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Ji(this.div,{rotation:s}),e!==s)for(const a of this.#s.values())a.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#r.viewParameters.realScale}}class Oe{#t=null;#e=new Map;#n=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Lt(this,"_svgFactory",new so)}static#a(t,[e,s,a,o]){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*e}%`,u.width=`${100*a}%`,u.height=`${100*o}%`}#s(){const t=Oe._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){const s=Oe._svgFactory.createElement("clipPath");t.append(s);const a=`clip_${e}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const o=Oe._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),a}#o(t,e){for(const[s,a]of Object.entries(e))a===null?t.removeAttribute(s):t.setAttribute(s,a)}draw(t,e=!1,s=!1){const a=Oe.#i++,o=this.#s(),u=Oe._svgFactory.createElement("defs");o.append(u);const h=Oe._svgFactory.createElement("path");u.append(h);const d=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",d),h.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#n.set(a,h);const p=s?this.#l(u,d):null,g=Oe._svgFactory.createElement("use");return o.append(g),g.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(a,o),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const s=Oe.#i++,a=this.#s(),o=Oe._svgFactory.createElement("defs");a.append(o);const u=Oe._svgFactory.createElement("path");o.append(u);const h=`path_p${this.pageIndex}_${s}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const y=Oe._svgFactory.createElement("mask");o.append(y),d=`mask_p${this.pageIndex}_${s}`,y.setAttribute("id",d),y.setAttribute("maskUnits","objectBoundingBox");const b=Oe._svgFactory.createElement("rect");y.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Oe._svgFactory.createElement("use");y.append(v),v.setAttribute("href",`#${h}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=Oe._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${h}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return a.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(s,a),s}finalizeDraw(t,e){this.#n.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:s,bbox:a,rootClass:o,path:u}=e,h=typeof t=="number"?this.#e.get(t):t;if(h){if(s&&this.#o(h,s),a&&Oe.#a(h,a),o){const{classList:d}=h;for(const[p,g]of Object.entries(o))d.toggle(p,g)}if(u){const p=h.firstChild.firstChild;this.#o(p,u)}}}updateParent(t,e){if(e===this)return;const s=this.#e.get(t);s&&(e.#t.append(s),this.#e.delete(t),e.#e.set(t,s))}remove(t){this.#n.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Dd};globalThis.pdfjsLib={AbortException:_i,AnnotationEditorLayer:Kn,AnnotationEditorParamsType:Nt,AnnotationEditorType:At,AnnotationEditorUIManager:wi,AnnotationLayer:mf,AnnotationMode:Qn,AnnotationType:he,build:Fb,ColorPicker:pn,createValidAbsoluteUrl:Zd,DOMSVGFactory:so,DrawLayer:Oe,FeatureTest:De,fetchData:Ia,getDocument:hf,getFilenameFromUrl:mb,getPdfFilenameFromUrl:yb,getUuid:tf,getXfaPageViewport:bb,GlobalWorkerOptions:Zi,ImageKind:Wr,InvalidPDFException:uc,isDataScheme:fo,isPdfFile:xc,isValidExplicitDest:_b,MathClamp:He,noContextMenu:Mn,normalizeUnicode:pb,OPS:to,OutputScale:jn,PasswordResponses:db,PDFDataRangeTransport:ff,PDFDateString:nf,PDFWorker:Pa,PermissionFlag:hb,PixelsPerInch:Cs,RenderingCancelledException:Ec,ResponseException:eo,setLayerDimensions:Ji,shadow:Lt,SignatureExtractor:As,stopEvent:fe,SupportedImageMimeTypes:hc,TextLayer:no,TouchManager:go,updateUrlHash:Jd,Util:ft,VerbosityLevel:co,version:zb,XfaLayer:pf};const FT=Object.freeze(Object.defineProperty({__proto__:null,AbortException:_i,AnnotationEditorLayer:Kn,AnnotationEditorParamsType:Nt,AnnotationEditorType:At,AnnotationEditorUIManager:wi,AnnotationLayer:mf,AnnotationMode:Qn,AnnotationType:he,ColorPicker:pn,DOMSVGFactory:so,DrawLayer:Oe,FeatureTest:De,GlobalWorkerOptions:Zi,ImageKind:Wr,InvalidPDFException:uc,MathClamp:He,OPS:to,OutputScale:jn,PDFDataRangeTransport:ff,PDFDateString:nf,PDFWorker:Pa,PasswordResponses:db,PermissionFlag:hb,PixelsPerInch:Cs,RenderingCancelledException:Ec,ResponseException:eo,SignatureExtractor:As,SupportedImageMimeTypes:hc,TextLayer:no,TouchManager:go,Util:ft,VerbosityLevel:co,XfaLayer:pf,build:Fb,createValidAbsoluteUrl:Zd,fetchData:Ia,getDocument:hf,getFilenameFromUrl:mb,getPdfFilenameFromUrl:yb,getUuid:tf,getXfaPageViewport:bb,isDataScheme:fo,isPdfFile:xc,isValidExplicitDest:_b,noContextMenu:Mn,normalizeUnicode:pb,setLayerDimensions:Ji,shadow:Lt,stopEvent:fe,updateUrlHash:Jd,version:zb},Symbol.toStringTag,{value:"Module"})),IT=["onCopy","onCut","onPaste"],BT=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HT=["onFocus","onBlur"],UT=["onInput","onInvalid","onReset","onSubmit"],GT=["onLoad","onError"],qT=["onKeyDown","onKeyPress","onKeyUp"],VT=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],YT=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],XT=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],$T=["onSelect"],KT=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],WT=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],QT=["onScroll"],ZT=["onWheel"],JT=["onAnimationStart","onAnimationEnd","onAnimationIteration"],tC=["onTransitionEnd"],eC=["onToggle"],nC=["onChange"],iC=[...IT,...BT,...HT,...UT,...GT,...qT,...VT,...YT,...XT,...$T,...KT,...WT,...QT,...ZT,...JT,...tC,...nC,...eC];function $b(l,t){const e={};for(const s of iC){const a=l[s];a&&(t?e[s]=o=>a(o,t(s)):e[s]=a)}return e}function vo(l){let t=!1;return{promise:new Promise((s,a)=>{l.then(o=>!t&&s(o)).catch(o=>!t&&a(o))}),cancel(){t=!0}}}function Kb(l){var t,e,s="";if(typeof l=="string"||typeof l=="number")s+=l;else if(typeof l=="object")if(Array.isArray(l)){var a=l.length;for(t=0;t<a;t++)l[t]&&(e=Kb(l[t]))&&(s&&(s+=" "),s+=e)}else for(e in l)l[e]&&(s&&(s+=" "),s+=e);return s}function Rc(){for(var l,t,e=0,s="",a=arguments.length;e<a;e++)(l=arguments[e])&&(t=Kb(l))&&(s&&(s+=" "),s+=t);return s}var sC="Invariant failed";function Zt(l,t){if(!l)throw new Error(sC)}var gd,uy;function aC(){if(uy)return gd;uy=1;var l=function(){};return gd=l,gd}var rC=aC();const Ue=zd(rC);var hy=Object.prototype.hasOwnProperty;function dy(l,t,e){for(e of l.keys())if(Ta(e,t))return e}function Ta(l,t){var e,s,a;if(l===t)return!0;if(l&&t&&(e=l.constructor)===t.constructor){if(e===Date)return l.getTime()===t.getTime();if(e===RegExp)return l.toString()===t.toString();if(e===Array){if((s=l.length)===t.length)for(;s--&&Ta(l[s],t[s]););return s===-1}if(e===Set){if(l.size!==t.size)return!1;for(s of l)if(a=s,a&&typeof a=="object"&&(a=dy(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(l.size!==t.size)return!1;for(s of l)if(a=s[0],a&&typeof a=="object"&&(a=dy(t,a),!a)||!Ta(s[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)l=new Uint8Array(l),t=new Uint8Array(t);else if(e===DataView){if((s=l.byteLength)===t.byteLength)for(;s--&&l.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(l)){if((s=l.byteLength)===t.byteLength)for(;s--&&l[s]===t[s];);return s===-1}if(!e||typeof l=="object"){s=0;for(e in l)if(hy.call(l,e)&&++s&&!hy.call(t,e)||!(e in t)||!Ta(l[e],t[e]))return!1;return Object.keys(t).length===s}}return l!==l&&t!==t}const Wb=P.createContext(null);function Ca({children:l,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:l})}const oC="noopener noreferrer nofollow";class lC{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Zt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Zt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Zt(this.pdfDocument),Zt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Zt(Array.isArray(e));const s=e[0];new Promise(a=>{Zt(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{a(o)}).catch(()=>{Zt(!1)}):typeof s=="number"?a(s):Zt(!1)}).then(a=>{const o=a+1;Zt(this.pdfViewer),Zt(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Zt(this.pdfViewer),Zt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||oC,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const fy={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Mc=typeof window<"u",Qb=Mc&&window.location.protocol==="file:";function cC(l){return typeof l<"u"}function vs(l){return cC(l)&&l!==null}function uC(l){return typeof l=="string"}function hC(l){return l instanceof ArrayBuffer}function dC(l){return Zt(Mc),l instanceof Blob}function Pd(l){return uC(l)&&/^data:/.test(l)}function py(l){Zt(Pd(l));const[t="",e=""]=l.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function fC(){return Mc&&window.devicePixelRatio||1}const Zb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function gy(){Ue(!Qb,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Zb}`)}function pC(){Ue(!Qb,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Zb}`)}function Ms(l){l?.cancel&&l.cancel()}function jd(l,t){return Object.defineProperty(l,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(l,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(l,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(l,"originalHeight",{get(){return this.view[3]},configurable:!0}),l}function gC(l){return l.name==="RenderingCancelledException"}function mC(l){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:o}=a.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(l)})}function yC(l,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return l}}function ja(){return P.useReducer(yC,{value:void 0,error:void 0})}var my=function(l,t){var e={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(e[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(l);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(l,s[a])&&(e[s[a]]=l[s[a]]);return e};const{PDFDataRangeTransport:bC}=FT,vC=(l,t)=>{switch(t){case fy.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");l(e);break}case fy.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");l(e);break}}};function yy(l){return typeof l=="object"&&l!==null&&("data"in l||"range"in l||"url"in l)}const AC=P.forwardRef(function(t,e){var{children:s,className:a,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:h,file:d,inputRef:p,imageResourcesPath:g,loading:y="Loading PDF",noData:b="No PDF file specified.",onItemClick:v,onLoadError:S,onLoadProgress:_,onLoadSuccess:T,onPassword:w=vC,onSourceError:O,onSourceSuccess:C,options:L,renderMode:R,rotate:j,scale:N}=t,$=my(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[X,it]=ja(),{value:nt,error:Q}=X,[et,rt]=ja(),{value:st,error:D}=et,B=P.useRef(new lC),at=P.useRef([]),Z=P.useRef(void 0),x=P.useRef(void 0);d&&d!==Z.current&&yy(d)&&(Ue(!Ta(d,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=d),L&&L!==x.current&&(Ue(!Ta(L,x.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),x.current=L);const U=P.useRef({scrollPageIntoView:Tt=>{const{dest:_t,pageNumber:Dt,pageIndex:jt=Dt-1}=Tt;if(v){v({dest:_t,pageIndex:jt,pageNumber:Dt});return}const Yt=at.current[jt];if(Yt){Yt.scrollIntoView();return}Ue(!1,`An internal link leading to page ${Dt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(e,()=>({linkService:B,pages:at,viewer:U}),[]);function G(){C&&C()}function Y(){Q&&(Ue(!1,Q.toString()),O&&O(Q))}function tt(){it({type:"RESET"})}P.useEffect(tt,[d,it]);const lt=P.useCallback(async()=>{if(!d)return null;if(typeof d=="string")return Pd(d)?{data:py(d)}:(gy(),{url:d});if(d instanceof bC)return{range:d};if(hC(d))return{data:d};if(Mc&&dC(d))return{data:await mC(d)};if(Zt(typeof d=="object"),Zt(yy(d)),"url"in d&&typeof d.url=="string"){if(Pd(d.url)){const{url:Tt}=d,_t=my(d,["url"]),Dt=py(Tt);return Object.assign({data:Dt},_t)}gy()}return d},[d]);P.useEffect(()=>{const Tt=vo(lt());return Tt.promise.then(_t=>{it({type:"RESOLVE",value:_t})}).catch(_t=>{it({type:"REJECT",error:_t})}),()=>{Ms(Tt)}},[lt,it]),P.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){Y();return}G()}},[nt]);function ot(){st&&(T&&T(st),at.current=new Array(st.numPages),B.current.setDocument(st))}function ht(){D&&(Ue(!1,D.toString()),S&&S(D))}P.useEffect(function(){rt({type:"RESET"})},[rt,nt]),P.useEffect(function(){if(!nt)return;const _t=L?Object.assign(Object.assign({},nt),L):nt,Dt=hf(_t);_&&(Dt.onProgress=_),w&&(Dt.onPassword=w);const jt=Dt,Yt=jt.promise.then(nn=>{rt({type:"RESOLVE",value:nn})}).catch(nn=>{jt.destroyed||rt({type:"REJECT",error:nn})});return()=>{Yt.finally(()=>jt.destroy())}},[L,rt,nt]),P.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){ht();return}ot()}},[st]),P.useEffect(function(){B.current.setViewer(U.current),B.current.setExternalLinkRel(u),B.current.setExternalLinkTarget(h)},[u,h]);const bt=P.useCallback((Tt,_t)=>{at.current[Tt]=_t},[]),Pt=P.useCallback(Tt=>{delete at.current[Tt]},[]),Et=P.useMemo(()=>({imageResourcesPath:g,linkService:B.current,onItemClick:v,pdf:st,registerPage:bt,renderMode:R,rotate:j,scale:N,unregisterPage:Pt}),[g,v,st,bt,R,j,N,Pt]),zt=P.useMemo(()=>$b($,()=>st),[$,st]);function Bt(){return F.jsx(Wb.Provider,{value:Et,children:s})}function Vt(){return d?st==null?F.jsx(Ca,{type:"loading",children:typeof y=="function"?y():y}):st===!1?F.jsx(Ca,{type:"error",children:typeof o=="function"?o():o}):Bt():F.jsx(Ca,{type:"no-data",children:typeof b=="function"?b():b})}return F.jsx("div",Object.assign({className:Rc("react-pdf__Document",a),ref:p},zt,{children:Vt()}))});function Jb(){return P.useContext(Wb)}function tv(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];var e=l.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){for(var u=0,h=e;u<h.length;u++){var d=h[u];typeof d=="function"?d(o):d&&(d.current=o)}}}const ev=P.createContext(null),nv={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},SC=/^H(\d+)$/;function _C(l){return l in nv}function Oc(l){return"children"in l}function iv(l){return Oc(l)?l.children.length===1&&0 in l.children&&"id"in l.children[0]:!1}function wC(l){const t={};if(Oc(l)){const{role:e}=l,s=e.match(SC);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(_C(e)){const a=nv[e];a&&(t.role=a)}}return t}function sv(l){const t={};if(Oc(l)){if(l.alt!==void 0&&(t["aria-label"]=l.alt),l.lang!==void 0&&(t.lang=l.lang),iv(l)){const[e]=l.children;if(e){const s=sv(e);return Object.assign(Object.assign({},t),s)}}}else"id"in l&&(t["aria-owns"]=l.id);return t}function EC(l){return l?Object.assign(Object.assign({},wC(l)),sv(l)):null}function av({className:l,node:t}){const e=P.useMemo(()=>EC(t),[t]),s=P.useMemo(()=>!Oc(t)||iv(t)?null:t.children.map((a,o)=>F.jsx(av,{node:a},o)),[t]);return F.jsx("span",Object.assign({className:l},e,{children:s}))}function Lc(){return P.useContext(ev)}function xC(){const l=Lc();Zt(l);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=l,[s,a]=ja(),{value:o,error:u}=s,{customTextRenderer:h,page:d}=l;function p(){o&&e&&e(o)}function g(){u&&(Ue(!1,u.toString()),t&&t(u))}return P.useEffect(function(){a({type:"RESET"})},[a,d]),P.useEffect(function(){if(h||!d)return;const b=vo(d.getStructTree()),v=b;return b.promise.then(S=>{a({type:"RESOLVE",value:S})}).catch(S=>{a({type:"REJECT",error:S})}),()=>Ms(v)},[h,d,a]),P.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?F.jsx(av,{className:"react-pdf__Page__structTree structTree",node:o}):null}const by=Qn;function TC(l){const t=Lc();Zt(t);const e=Object.assign(Object.assign({},t),l),{_className:s,canvasBackground:a,devicePixelRatio:o=fC(),onRenderError:u,onRenderSuccess:h,page:d,renderForms:p,renderTextLayer:g,rotate:y,scale:b}=e,{canvasRef:v}=l;Zt(d);const S=P.useRef(null);function _(){d&&h&&h(jd(d,b))}function T(L){gC(L)||(Ue(!1,L.toString()),u&&u(L))}const w=P.useMemo(()=>d.getViewport({scale:b*o,rotation:y}),[o,d,y,b]),O=P.useMemo(()=>d.getViewport({scale:b,rotation:y}),[d,y,b]);P.useEffect(function(){if(!d)return;d.cleanup();const{current:R}=S;if(!R)return;R.width=w.width,R.height=w.height,R.style.width=`${Math.floor(O.width)}px`,R.style.height=`${Math.floor(O.height)}px`,R.style.visibility="hidden";const j={annotationMode:p?by.ENABLE_FORMS:by.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:w};a&&(j.background=a);const N=d.render(j),$=N;return N.promise.then(()=>{R.style.visibility="",_()}).catch(T),()=>Ms($)},[a,d,p,w,O]);const C=P.useCallback(()=>{const{current:L}=S;L&&(L.width=0,L.height=0)},[]);return P.useEffect(()=>C,[C]),F.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:tv(v,S),style:{display:"block",userSelect:"none"},children:g?F.jsx(xC,{}):null})}function CC(l){return"str"in l}function RC(){const l=Lc();Zt(l);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:a,onRenderTextLayerSuccess:o,page:u,pageIndex:h,pageNumber:d,rotate:p,scale:g}=l;Zt(u);const[y,b]=ja(),{value:v,error:S}=y,_=P.useRef(null);Ue(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){v&&s&&s(v)}function w(){S&&(Ue(!1,S.toString()),e&&e(S))}P.useEffect(function(){b({type:"RESET"})},[u,b]),P.useEffect(function(){if(!u)return;const $=vo(u.getTextContent()),X=$;return $.promise.then(it=>{b({type:"RESOLVE",value:it})}).catch(it=>{b({type:"REJECT",error:it})}),()=>Ms(X)},[u,b]),P.useEffect(()=>{if(v!==void 0){if(v===!1){w();return}T()}},[v]);const O=P.useCallback(()=>{o&&o()},[o]),C=P.useCallback(N=>{Ue(!1,N.toString()),a&&a(N)},[a]);function L(){const N=_.current;N&&N.classList.add("selecting")}function R(){const N=_.current;N&&N.classList.remove("selecting")}const j=P.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);return P.useLayoutEffect(function(){if(!u||!v)return;const{current:$}=_;if(!$)return;$.innerHTML="";const X=u.streamTextContent({includeMarkedContent:!0}),it={container:$,textContentSource:X,viewport:j},nt=new no(it),Q=nt;return nt.render().then(()=>{const et=document.createElement("div");et.className="endOfContent",$.append(et);const rt=$.querySelectorAll('[role="presentation"]');if(t){let st=0;v.items.forEach((D,B)=>{if(!CC(D))return;const at=rt[st];if(!at)return;const Z=t(Object.assign({pageIndex:h,pageNumber:d,itemIndex:B},D));at.innerHTML=Z,st+=D.str&&D.hasEOL?2:1})}O()}).catch(C),()=>Ms(Q)},[t,C,O,u,h,d,v,j]),F.jsx("div",{className:Rc("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:L,ref:_})}function MC(){const l=Jb(),t=Lc();Zt(t);const e=Object.assign(Object.assign({},l),t),{imageResourcesPath:s,linkService:a,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:p,pdf:g,renderForms:y,rotate:b,scale:v=1}=e;Zt(g),Zt(p),Zt(a);const[S,_]=ja(),{value:T,error:w}=S,O=P.useRef(null);Ue(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){T&&u&&u(T)}function L(){w&&(Ue(!1,w.toString()),o&&o(w))}P.useEffect(function(){_({type:"RESET"})},[_,p]),P.useEffect(function(){if(!p)return;const X=vo(p.getAnnotations()),it=X;return X.promise.then(nt=>{_({type:"RESOLVE",value:nt})}).catch(nt=>{_({type:"REJECT",error:nt})}),()=>{Ms(it)}},[_,p]),P.useEffect(()=>{if(T!==void 0){if(T===!1){L();return}C()}},[T]);function R(){d&&d()}function j($){Ue(!1,`${$}`),h&&h($)}const N=P.useMemo(()=>p.getViewport({scale:v,rotation:b}),[p,b,v]);return P.useEffect(function(){if(!g||!p||!a||!T)return;const{current:X}=O;if(!X)return;const it=N.clone({dontFlip:!0}),nt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:p,structTreeLayer:null,viewport:it},Q={annotations:T,annotationStorage:g.annotationStorage,div:X,imageResourcesPath:s,linkService:a,page:p,renderForms:y,viewport:it};X.innerHTML="";try{new mf(nt).render(Q),R()}catch(et){j(et)}return()=>{}},[T,s,a,p,g,y,N]),F.jsx("div",{className:Rc("react-pdf__Page__annotations","annotationLayer"),ref:O})}var OC=function(l,t){var e={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(e[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(l);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(l,s[a])&&(e[s[a]]=l[s[a]]);return e};const vy=1;function md(l){const t=Jb(),e=Object.assign(Object.assign({},t),l),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:o,canvasRef:u,children:h,className:d,customRenderer:p,customTextRenderer:g,devicePixelRatio:y,error:b="Failed to load the page.",height:v,inputRef:S,loading:_="Loading page",noData:T="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:O,onGetStructTreeError:C,onGetStructTreeSuccess:L,onGetTextError:R,onGetTextSuccess:j,onLoadError:N,onLoadSuccess:$,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:it,onRenderError:nt,onRenderSuccess:Q,onRenderTextLayerError:et,onRenderTextLayerSuccess:rt,pageIndex:st,pageNumber:D,pdf:B,registerPage:at,renderAnnotationLayer:Z=!0,renderForms:x=!1,renderMode:U="canvas",renderTextLayer:G=!0,rotate:Y,scale:tt=vy,unregisterPage:lt,width:ot}=e,ht=OC(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[bt,Pt]=ja(),{value:Et,error:zt}=bt,Bt=P.useRef(null);Zt(B);const Vt=vs(D)?D-1:st??null,Tt=D??(vs(st)?st+1:null),_t=Y??(Et?Et.rotate:null),Dt=P.useMemo(()=>{if(!Et)return null;let ge=1;const sn=tt??vy;if(ot||v){const xe=Et.getViewport({scale:1,rotation:_t});ot?ge=ot/xe.width:v&&(ge=v/xe.height)}return sn*ge},[v,Et,_t,tt,ot]);P.useEffect(function(){return()=>{vs(Vt)&&a&&lt&&lt(Vt)}},[a,B,Vt,lt]);function jt(){if($){if(!Et||!Dt)return;$(jd(Et,Dt))}if(a&&at){if(!vs(Vt)||!Bt.current)return;at(Vt,Bt.current)}}function Yt(){zt&&(Ue(!1,zt.toString()),N&&N(zt))}P.useEffect(function(){Pt({type:"RESET"})},[Pt,B,Vt]),P.useEffect(function(){if(!B||!Tt)return;const sn=vo(B.getPage(Tt)),xe=sn;return sn.promise.then(Ha=>{Pt({type:"RESOLVE",value:Ha})}).catch(Ha=>{Pt({type:"REJECT",error:Ha})}),()=>Ms(xe)},[Pt,B,Tt]),P.useEffect(()=>{if(Et!==void 0){if(Et===!1){Yt();return}jt()}},[Et,Dt]);const nn=P.useMemo(()=>Et&&vs(Vt)&&Tt&&vs(_t)&&vs(Dt)?{_className:s,canvasBackground:o,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:w,onGetAnnotationsSuccess:O,onGetStructTreeError:C,onGetStructTreeSuccess:L,onGetTextError:R,onGetTextSuccess:j,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:it,onRenderError:nt,onRenderSuccess:Q,onRenderTextLayerError:et,onRenderTextLayerSuccess:rt,page:Et,pageIndex:Vt,pageNumber:Tt,renderForms:x,renderTextLayer:G,rotate:_t,scale:Dt}:null,[s,o,g,y,w,O,C,L,R,j,X,it,nt,Q,et,rt,Et,Vt,Tt,x,G,_t,Dt]),Ei=P.useMemo(()=>$b(ht,()=>Et&&(Dt?jd(Et,Dt):void 0)),[ht,Et,Dt]),Ee=`${Vt}@${Dt}/${_t}`;function mn(){switch(U){case"custom":return Zt(p),F.jsx(p,{},`${Ee}_custom`);case"none":return null;case"canvas":default:return F.jsx(TC,{canvasRef:u},`${Ee}_canvas`)}}function ti(){return G?F.jsx(RC,{},`${Ee}_text`):null}function Ba(){return Z?F.jsx(MC,{},`${Ee}_annotations`):null}function Dc(){return F.jsxs(ev.Provider,{value:nn,children:[mn(),ti(),Ba(),h]})}function ts(){return Tt?B===null||Et===void 0||Et===null?F.jsx(Ca,{type:"loading",children:typeof _=="function"?_():_}):B===!1||Et===!1?F.jsx(Ca,{type:"error",children:typeof b=="function"?b():b}):Dc():F.jsx(Ca,{type:"no-data",children:typeof T=="function"?T():T})}return F.jsx("div",Object.assign({className:Rc(s,d),"data-page-number":Tt,ref:tv(S,Bt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Dt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ei,{children:ts()}))}pC();Zi.workerSrc="pdf.worker.mjs";const LC="/vitrine_criativa/assets/pdf.worker.min-BFAMBS4k.mjs";function rv({pdfFile:l,setShowModal:t}){Zi.workerSrc=LC;const[e,s]=P.useState(null),[a,o]=P.useState(1),[u,h]=P.useState(!1),[d,p]=P.useState("next"),[g,y]=P.useState(window.innerWidth<900);P.useEffect(()=>{const S=()=>{y(window.innerWidth<900)};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);function b({numPages:S}){s(S),o(1)}function v(S,_){p(_),h(!0),setTimeout(()=>{o(S),h(!1)},250)}return F.jsx(KE,{onClick:()=>t(!1),children:F.jsxs(WE,{onClick:S=>S.stopPropagation(),children:[F.jsx(QE,{onClick:()=>t(!1)}),l&&F.jsxs(F.Fragment,{children:[F.jsx(ZE,{children:F.jsx(AC,{file:l,onLoadSuccess:b,children:F.jsx(JE,{children:g?F.jsx(rd,{className:`right ${d==="next"&&u?"flip-right":""}`,children:F.jsx(md,{pageNumber:a})}):F.jsxs(F.Fragment,{children:[F.jsx(rd,{className:`left ${d==="prev"&&u?"flip-left":""}`,children:a>1&&F.jsx(md,{pageNumber:a-1})}),F.jsx(rd,{className:`right ${d==="next"&&u?"flip-right":""}`,children:F.jsx(md,{pageNumber:a})})]})})})}),F.jsxs(tx,{children:[F.jsx("button",{onClick:()=>v(Math.max(g?a-1:a-2,1),"prev"),disabled:a<=1||u,children:"Anterior"}),F.jsxs(ex,{children:["Pgina ",a," de ",e]}),F.jsx("button",{onClick:()=>v(Math.min(g?a+1:a+2,e),"next"),disabled:a>=e||u,children:"Prxima"})]})]})]})})}const DC="/vitrine_criativa/assets/O%20diario%20perdido-BlgdySwM.png";function NC(){const[l,t]=P.useState(!1);return F.jsx(F.Fragment,{children:F.jsx(B0,{children:F.jsxs(B0,{style:{textAlign:"center",padding:"20px"},children:[l&&F.jsx(rv,{pdfFile:"/vitrine_criativa/livros/diario.pdf",setShowModal:t}),F.jsx("h2",{children:F.jsx("span",{children:"O diario perdido dos meus poemas "})}),F.jsxs(zE,{children:[F.jsxs(FE,{children:[F.jsx("img",{src:DC,alt:""}),F.jsxs("h2",{children:[F.jsx("span",{children:"Autor:"}),"Felipe Rosa"]})]}),F.jsxs(IE,{children:[F.jsxs("p",{children:[F.jsx("span",{children:"Descrio : "}),"`Algumas palavras no nascem para serem apenas lidas, elas chegam como tempestades, invadem o peito e s encontram abrigo no papel. Este dirio  feito dessas tempestades e calmarias, de versos que carregam a fria do mar e o silncio da madrugada`"]}),F.jsx("button",{onClick:()=>t(!0),children:"Abrir Livro"})]})]})]})})})}const kC=lb`
    from {
        transform: scale(0);
    }
    to{
        transform: scale(1);
    }
`,PC=It.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0;

  h2 span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
  }
  button {
    background-color: #4d7cfe;
    color: #fff;
    width: 10rem;
    height: 35px;
    border-radius: 40px;
    cursor: pointer;
    border: none;
  }
  @media (max-width: 768px) {
    h2 span {
      font-size: 1.4rem;
      font-weight: 400;
    }
    button {
      width: 5rem;
      height: 25px;
    }
  }
  @media (max-width: 450px) {
  }
`,jC=It.div`
  width: 80%;
  height: 70%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  @media (max-width: 900px) {
    flex-direction: column;
  }
  @media (max-width: 450px) {
  }
`,zC=It.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  h2 {
    font-size: 1.3rem;
  }
  img {
    height: 300px;
    border-radius: 30px;
    animation: ${kC} 0.5s linear;
  }

  @media (max-width: 768px) {
    img {
      width: 80%;
    }
    h2 {
      font-size: 1.1rem;
    }
  }
  @media (max-width: 450px) {
  }
`,FC=It.div`
  display: flex;
  flex-direction: column;
  justify-content: center;

  p span {
    font-size: 1.9rem;
    font-weight: 600;
    color: #4d7cfe;
    background-color: #000;
  }
  p {
    width: 700px;
    font-size: 1.4rem;
    background-color: #000;
  }

  button {
    display: block;
    margin: 25px auto;
  }

  @media (max-width: 768px) {
   
    p {
      width: 90%;
      font-size: 1.1rem;
    }
     p span {
      font-size: 1.3rem;
      font-weight: 400;
    }

  }
  @media (max-width: 450px) {
  }
`;function IC(){const{id:l}=cS(),{state:t}=Jn(),[e,s]=P.useState(!1),a=`/vitrine_criativa/livros/${l}.pdf`;return F.jsxs(F.Fragment,{children:[e&&F.jsx(rv,{pdfFile:a,setShowModal:s}),F.jsxs(PC,{style:{textAlign:"center",padding:"20px"},children:[F.jsx("h2",{children:F.jsxs("span",{children:[t?.titulo," "]})}),F.jsxs(jC,{children:[F.jsxs(zC,{children:[F.jsx("img",{src:t?.img,alt:""}),F.jsxs("h2",{children:[F.jsx("span",{children:"Autor:"})," ",t?.autor]})]}),F.jsxs(FC,{children:[F.jsxs("p",{children:[F.jsx("span",{children:"Descrio : "}),t?.descricao]}),F.jsx("button",{onClick:()=>s(!0),children:"Abrir Livro"})]})]})]})]})}const BC=It.div`
  position: fixed;
  min-height: 80px;
  top: 0;
  z-index: 99;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
  padding-right: 50px;
  background-color: ${l=>l.$changeBackground?"#000":"transparent"};
  transition: background-color 0.5s ease-in-out;

  @media (max-width: 768px) {
    width: 100%;
    padding: 15px;
  }
`,HC=It.ul`
  list-style: none;
  display: flex;
  gap: 50px;
  @media (max-width: 768px) {
    gap: 20px;
    justify-content: flex-start;
  
  }

`,va=It.li`
  font-weight: 600;
  cursor: pointer;
  font-size: 25px;
  position: relative;
  a {
    color: #fff;
    text-decoration: none;
  }
  &::after {
    content: '';
    height: 3px;
    width: ${l=>l.$isActive?"100%":"0"};
    background-color: #4d7cfe;
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    transition: width 0.4s ease-in-out;
  }
  &:hover::after {
    width: 100%;
  }

   @media (max-width: 768px) {
    font-size: 15px;
    font-weight: 400;
   }
`;function UC(){const[l,t]=P.useState(!1),{pathname:e}=Jn();return window.onscroll=()=>{!l&&window.pageYOffset>80&&t(!0),l&&window.pageYOffset<=80&&t(!1)},F.jsx(BC,{$changeBackground:l,children:F.jsxs(HC,{children:[F.jsx(va,{$isActive:e==="/",children:F.jsx(Ki,{to:"/",children:"Home"})}),F.jsx(va,{$isActive:e.includes("/poesias"),children:F.jsx(Ki,{to:"/poesias",children:"Poesias"})}),F.jsx(va,{$isActive:e.includes("/livros"),children:F.jsx(Ki,{to:"/livros",children:"Livros"})}),F.jsx(va,{$isActive:e.includes("/desenhos"),children:F.jsx(Ki,{to:"/desenhos",children:"Desenhos"})}),F.jsx(va,{$isActive:e.includes("/games"),children:F.jsx(Ki,{to:"/games",children:"Games"})}),F.jsx(va,{$isActive:e.includes("/creditos"),children:F.jsx(Ki,{to:"/creditos",children:"Creditos"})})]})})}It.div`
  min-height: 80px;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 10px;
  padding-right: 50px;
  background-color:#000;
  transition: background-color 0.5s ease-in-out;

  @media (max-width: 768px) {
    width: 100%;
    padding: 15px;
  }
`;function GC(){return F.jsxs(F.Fragment,{children:[F.jsx(UC,{}),F.jsx(wS,{})]})}function qC(){return F.jsxs(F.Fragment,{children:[F.jsx(s_,{}),F.jsx(xS,{children:F.jsxs(mi,{element:F.jsx(GC,{}),children:[F.jsx(mi,{path:"/",element:F.jsx(rw,{})}),F.jsx(mi,{path:"/poesias",element:F.jsx(dw,{})}),F.jsx(mi,{path:"/livros",element:F.jsx(yw,{})}),F.jsx(mi,{path:"/desenhos",element:F.jsx(NE,{})}),F.jsx(mi,{path:"/games",element:F.jsx(PE,{})}),F.jsx(mi,{path:"/creditos",element:F.jsx(NC,{})}),F.jsx(mi,{path:"/view/:id",element:F.jsx(IC,{})})]})})]})}const VC=sw`
  
    *{
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        outline: none;
        text-decoration: none;
        font-family: "Montserrat", sans-serif;
        color: #fff;
    }
    body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: 'Playfair Display', serif;
        color: white;
        overflow-x: hidden;  
    }
    #galaxy {

        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: black;
        z-index: -1;

        }

`;L1.createRoot(document.getElementById("root")).render(F.jsxs(P.StrictMode,{children:[F.jsx($S,{children:F.jsx(qC,{})}),F.jsx(VC,{})]}));
